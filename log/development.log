DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (20.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (21.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (480.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "base_app5_development"[0m
  [1m[35m (226.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "base_app5_test"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[35m (288.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (164.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (231.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (131.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (110.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (44.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (51.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (55.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (67.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-11-27 08:42:24 UTC], ["updated_at", 2016-11-27 08:42:24 UTC]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
Started GET "/users" for ::1 at 2016-11-27 11:43:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (21.5ms)
Completed 200 OK in 602ms (Views: 545.8ms | ActiveRecord: 1.3ms)


Started GET "/users/new" for ::1 at 2016-11-27 11:43:12 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (458.2ms)
  Rendered users/new.html.haml within layouts/application (460.1ms)
Completed 200 OK in 486ms (Views: 472.7ms | ActiveRecord: 1.5ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddDetailsToUser (20161127085245)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085245"]]
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (115.4ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying, "actual" boolean, "term_start" date, "term_end" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (115.6ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying, "full_name" character varying, "role_name_eng" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (106.0ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer, "role_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (53.8ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (27.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (115.1ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying, "group_start" date, "archive_time" date, "term_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (53.9ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (31.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (101.9ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying, "template" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (136.5ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying, "discipline_type" integer, "discipline_end" integer, "term_id" integer, "ranking_algorithm_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (53.2ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.0ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "weight" integer, "min_score" integer, "max_score" integer, "require_type" integer, "attenuation_constant" float, "optimal_time" date, "limit_time" date, "discipline_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (69.4ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (81.9ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying, "community_visibility" integer, "archive" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (15.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (66.0ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer, "user_id" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (48.0ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (54.6ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (14.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (123.5ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "section_position" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (31.9ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (136.7ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer, "tab_name" character varying, "tab_position" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (54.1ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127092416)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (121.4ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer, "content_body" text, "content_visibility" integer, "show" timestamp, "tab_id" integer, "creator_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_2971fd52b0"
FOREIGN KEY ("tab_id")
  REFERENCES "tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "creators" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (84.5ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer, "report" date, "discipline_section_id" integer, "student_id" integer, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "teachers" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (68.2ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer, "report" date, "discipline_section_id" integer, "student_id" integer, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "teachers" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_tabs"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092344"]]
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_sections"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092249"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "communities_disciplines"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091641"]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091616"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "communities"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091553"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "discipline_sections"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091514"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "disciplines"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090724"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161127085245)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "sex"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "user_description"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "birthday"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "last_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "second_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "first_name"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085245"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (3.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (196.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (38.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (13.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (38.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (13.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (38.3ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (24.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161127085245)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085245"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (74.3ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying, "actual" boolean, "term_start" date, "term_end" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (85.3ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying, "full_name" character varying, "role_name_eng" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (75.4ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer, "role_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (43.1ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (22.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.9ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying, "group_start" date, "archive_time" date, "term_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (21.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (87.4ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying, "template" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (112.9ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying, "discipline_type" integer, "discipline_end" integer, "term_id" integer, "ranking_algorithm_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (43.3ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (28.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.0ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "weight" integer, "min_score" integer, "max_score" integer, "require_type" integer, "attenuation_constant" float, "optimal_time" date, "limit_time" date, "discipline_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (54.1ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.5ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying, "community_visibility" integer, "archive" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (48.7ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer, "user_id" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (54.1ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (82.4ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "section_position" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (15.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (82.8ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer, "tab_name" character varying, "tab_position" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (14.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (62.2ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer, "report" date, "discipline_section_id" integer, "student_id" integer, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.1ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (85.6ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer, "content_body" text, "content_visibility" integer, "show" timestamp, "community_tab_id" integer, "creator_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (64.4ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (43.4ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.6ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (22.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161127122658)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (111.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send" timestamp, "file_file_name" character varying, "file_content_type" character varying, "file_file_size" integer, "file_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (64.5ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_message_list_id" ON "messages"  ("message_list_id")[0m
  [1m[35m (54.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_id" ON "messages"  ("sender_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122658"]]
  [1m[35m (19.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (56.9ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122806"]]
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (102.1ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying, "short_instituton_name" character varying, "address" character varying, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (17.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.3ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (43.1ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (48.2ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer, "user_id" integer, "community_section_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (53.9ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161127124203)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (93.7ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer, "file_type_file_name" character varying, "file_type_content_type" character varying, "file_type_file_size" integer, "file_type_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (41.3ms)[0m  [1m[35mCREATE  INDEX  "index_study_files_on_user_id" ON "study_files"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127124203"]]
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStudyFiles (20161127124203)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "study_files"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127124203"]]
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "notices"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123322"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "disciplines_institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123254"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "message_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122806"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161127122658)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122658"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122438"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_contents"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127100306"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "marks"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092556"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_tabs"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092344"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "community_sections"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092249"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "communities_disciplines"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091641"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "community_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091616"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "communities"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091553"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "discipline_sections"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091514"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "disciplines"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090724"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161127085245)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "sex"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "user_description"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "birthday"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "last_name"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "second_name"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "first_name"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085245"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (32.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (413.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (54.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (48.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (49.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (38.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161127085245)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085245"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (88.7ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying, "actual" boolean, "term_start" date, "term_end" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.6ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying, "full_name" character varying, "role_name_eng" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (150.4ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer, "role_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (68.6ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (20.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.6ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying, "group_start" date, "archive_time" date, "term_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (20.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.7ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying, "template" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (21.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (112.9ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying, "discipline_type" integer, "discipline_end" integer, "term_id" integer, "ranking_algorithm_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (20.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.9ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "weight" integer, "min_score" integer, "max_score" integer, "require_type" integer, "attenuation_constant" float, "optimal_time" date, "limit_time" date, "discipline_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (31.0ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (111.6ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying, "community_visibility" integer, "archive" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (59.1ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer, "user_id" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (43.4ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (27.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (104.0ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "section_position" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (15.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (127.1ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer, "tab_name" character varying, "tab_position" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (53.8ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (25.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (56.0ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer, "report" date, "discipline_section_id" integer, "student_id" integer, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (52.9ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (43.4ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (118.5ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer, "content_body" text, "content_visibility" integer, "show" timestamp, "community_tab_id" integer, "creator_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (52.6ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (120.4ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (21.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161127122658)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (100.9ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send" timestamp, "file_file_name" character varying, "file_content_type" character varying, "file_file_size" integer, "file_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (76.7ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_message_list_id" ON "messages"  ("message_list_id")[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_id" ON "messages"  ("sender_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122658"]]
  [1m[35m (21.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (52.2ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (65.3ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122806"]]
  [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.0ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying, "short_instituton_name" character varying, "address" character varying, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (124.9ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (42.4ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (43.1ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (81.2ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer, "user_id" integer, "community_section_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (52.8ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161127124203)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (144.1ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer, "file_type_file_name" character varying, "file_type_content_type" character varying, "file_type_file_size" integer, "file_type_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (68.1ms)[0m  [1m[35mCREATE  INDEX  "index_study_files_on_user_id" ON "study_files"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127124203"]]
  [1m[35m (14.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (30.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStudyFiles (20161127124203)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.4ms)[0m  [1m[35mDROP TABLE "study_files"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127124203"]]
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "notices"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123322"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "disciplines_institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123254"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "message_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122806"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161127122658)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122658"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122438"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_contents"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127100306"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "marks"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092556"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_tabs"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092344"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "community_sections"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092249"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "communities_disciplines"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091641"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091616"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "communities"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091553"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "discipline_sections"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091514"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "disciplines"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090724"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161127085245)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "sex"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "user_description"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "birthday"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "last_name"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "second_name"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "first_name"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085245"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (5.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (128.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (54.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (34.3ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (44.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (68.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161127085245)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085245"]]
  [1m[35m (7.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (71.1ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying, "actual" boolean, "term_start" date, "term_end" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (82.5ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying, "full_name" character varying, "role_name_eng" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (37.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (72.9ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer, "role_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (25.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (84.2ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying, "group_start" date, "archive_time" date, "term_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (95.1ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying, "template" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (85.6ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying, "discipline_type" integer, "discipline_end" integer, "term_id" integer, "ranking_algorithm_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (44.1ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (87.6ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (88.1ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "weight" integer, "min_score" integer, "max_score" integer, "require_type" integer, "attenuation_constant" float, "optimal_time" date, "limit_time" date, "discipline_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (66.8ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying, "community_visibility" integer, "archive" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (19.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (34.2ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer, "user_id" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (53.9ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (54.0ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (19.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (101.6ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "section_position" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (53.2ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.3ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer, "tab_name" character varying, "tab_position" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (42.9ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (55.3ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer, "report" date, "discipline_section_id" integer, "student_id" integer, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (46.1ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (43.5ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (93.5ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer, "content_body" text, "content_visibility" integer, "show" timestamp, "community_tab_id" integer, "creator_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (43.1ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (94.7ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (25.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161127122658)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (83.9ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send" timestamp, "file_file_name" character varying, "file_content_type" character varying, "file_file_size" integer, "file_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_message_list_id" ON "messages"  ("message_list_id")[0m
  [1m[35m (45.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_id" ON "messages"  ("sender_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122658"]]
  [1m[35m (32.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122806"]]
  [1m[35m (21.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (110.0ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying, "short_instituton_name" character varying, "address" character varying, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (20.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (88.7ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (45.3ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer, "user_id" integer, "community_section_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (54.5ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (27.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161127124203)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (91.2ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer, "file_type_file_name" character varying, "file_type_content_type" character varying, "file_type_file_size" integer, "file_type_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.9ms)[0m  [1m[35mCREATE  INDEX  "index_study_files_on_user_id" ON "study_files"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127124203"]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "teacher@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
Started GET "/users" for ::1 at 2016-11-29 11:44:07 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (29.8ms)
Completed 200 OK in 689ms (Views: 648.7ms | ActiveRecord: 1.6ms)


Started GET "/users/new" for ::1 at 2016-11-29 11:44:17 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (264.8ms)
  Rendered users/new.html.haml within layouts/application (276.6ms)
Completed 200 OK in 631ms (Views: 315.4ms | ActiveRecord: 2.1ms)


Started GET "/marks" for ::1 at 2016-11-29 11:44:32 +0300
Processing by MarksController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 11:44:33 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.6ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.1ms)
Completed 200 OK in 43ms (Views: 41.0ms | ActiveRecord: 0.0ms)


Started GET "/users" for ::1 at 2016-11-29 11:44:40 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.0ms)
Completed 200 OK in 49ms (Views: 47.4ms | ActiveRecord: 0.5ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStudyFiles (20161127124203)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "study_files"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127124203"]]
  [1m[35m (32.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "notices"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123322"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "disciplines_institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123254"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "message_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122806"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161127122658)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122658"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122438"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_contents"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127100306"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "marks"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092556"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "community_tabs"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092344"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_sections"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092249"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "communities_disciplines"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091641"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091616"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "communities"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091553"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "discipline_sections"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091514"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "disciplines"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090724"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161127085245)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "sex"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "user_description"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "birthday"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "last_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "second_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "first_name"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085245"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (147.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (54.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (19.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (66.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (33.2ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (121.0ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying, "actual" boolean, "term_start" date, "term_end" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (80.8ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying, "full_name" character varying, "role_name_eng" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (92.5ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer, "role_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (53.5ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (84.7ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying, "group_start" date, "archive_time" date, "term_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (54.1ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (85.2ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying, "template" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (97.4ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying, "discipline_type" integer, "discipline_end" integer, "term_id" integer, "ranking_algorithm_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (43.3ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.1ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "weight" integer, "min_score" integer, "max_score" integer, "require_type" integer, "attenuation_constant" float, "optimal_time" date, "limit_time" date, "discipline_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (88.2ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying, "community_visibility" integer, "archive" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (20.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.8ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer, "user_id" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (53.6ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (19.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (111.8ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "section_position" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (53.8ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (18.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (101.4ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer, "tab_name" character varying, "tab_position" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (54.0ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (35.8ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer, "report" date, "discipline_section_id" integer, "student_id" integer, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.5ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (43.2ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (27.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (104.2ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer, "content_body" text, "content_visibility" integer, "show" timestamp, "community_tab_id" integer, "creator_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (56.6ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (24.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (95.9ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (37.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161127122658)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (105.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send" timestamp, "file_file_name" character varying, "file_content_type" character varying, "file_file_size" integer, "file_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_message_list_id" ON "messages"  ("message_list_id")[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_id" ON "messages"  ("sender_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122658"]]
  [1m[35m (24.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (39.5ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.5ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (43.4ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122806"]]
  [1m[35m (24.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (131.8ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying, "short_instituton_name" character varying, "address" character varying, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.0ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (33.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (42.0ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer, "user_id" integer, "community_section_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161127124203)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.2ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer, "file_type_file_name" character varying, "file_type_content_type" character varying, "file_type_file_size" integer, "file_type_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (54.0ms)[0m  [1m[35mCREATE  INDEX  "index_study_files_on_user_id" ON "study_files"  ("user_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127124203"]]
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddDetailsToUsers (20161129084927)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (110.5ms)[0m  [1m[35mCREATE TABLE "add_details_to_users" ("id" serial primary key, "first_name" character varying, "second_name" character varying, "last_name" character varying, "birthday" date, "user_description" text, "sex" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129084927"]]
  [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'add_details_to_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
Started GET "/users" for ::1 at 2016-11-29 11:57:32 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (7.1ms)
Completed 200 OK in 411ms (Views: 370.9ms | ActiveRecord: 1.5ms)


Started GET "/users/new" for ::1 at 2016-11-29 11:57:36 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (27.8ms)
  Rendered users/new.html.haml within layouts/application (29.0ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (Inconsistent indentation: 1 space used for indentation, but the rest of the document was indented using 2 spaces.):
     7:           %li= msg
     8: 
     9: 
    10:  .field
    11:     = f.label :last_name
    12:     = f.text_field :last_name
    13:   .field
  
app/views/users/_form.html.haml:10
app/views/users/new.html.haml:3:in `_app_views_users_new_html_haml___815607884585381779_69921935114300'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (19.3ms)
Started GET "/users/new" for ::1 at 2016-11-29 11:57:58 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (17.0ms)
  Rendered users/new.html.haml within layouts/application (18.1ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `last_name' for #<User:0x007f2ffa3caf38>):
     9: 
    10:   .field
    11:     = f.label :last_name
    12:     = f.text_field :last_name
    13:   .field
    14:     = f.label :first_name
    15:     = f.text_field :first_name
  
app/views/users/_form.html.haml:12:in `block in _app_views_users__form_html_haml___685950335737562318_69922016084940'
app/views/users/_form.html.haml:1:in `_app_views_users__form_html_haml___685950335737562318_69922016084940'
app/views/users/new.html.haml:3:in `_app_views_users_new_html_haml___815607884585381779_69922019232840'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.9ms)
Started GET "/users/new" for ::1 at 2016-11-29 12:04:29 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (11.9ms)
  Rendered users/new.html.haml within layouts/application (13.1ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `last_name' for #<User:0x007f2ff98c6498>):
     9: 
    10:   .field
    11:     = f.label :last_name
    12:     = f.text_field :last_name
    13:   .field
    14:     = f.label :first_name
    15:     = f.text_field :first_name
  
app/views/users/_form.html.haml:12:in `block in _app_views_users__form_html_haml___685950335737562318_69921899913100'
app/views/users/_form.html.haml:1:in `_app_views_users__form_html_haml___685950335737562318_69921899913100'
app/views/users/new.html.haml:3:in `_app_views_users_new_html_haml___815607884585381779_69921933431780'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.9ms)
Started GET "/users/new" for ::1 at 2016-11-29 12:04:31 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (12.7ms)
  Rendered users/new.html.haml within layouts/application (14.4ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `last_name' for #<User:0x007f2fe8173b98>):
     9: 
    10:   .field
    11:     = f.label :last_name
    12:     = f.text_field :last_name
    13:   .field
    14:     = f.label :first_name
    15:     = f.text_field :first_name
  
app/views/users/_form.html.haml:12:in `block in _app_views_users__form_html_haml___685950335737562318_69921900727140'
app/views/users/_form.html.haml:1:in `_app_views_users__form_html_haml___685950335737562318_69921900727140'
app/views/users/new.html.haml:3:in `_app_views_users_new_html_haml___815607884585381779_69921867010560'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.3ms)
Started GET "/users/new" for ::1 at 2016-11-29 12:08:40 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (4.0ms)
  Rendered users/new.html.haml within layouts/application (5.6ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.0ms)


Started GET "/users" for ::1 at 2016-11-29 12:08:46 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.6ms)
Completed 200 OK in 69ms (Views: 66.3ms | ActiveRecord: 0.5ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'add_details_to_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateAddDetailsToUsers (20161129084927)
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "add_details_to_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129084927"]]
  [1m[35m (33.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161127124203)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "study_files"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127124203"]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "notices"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123322"]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "disciplines_institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123254"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "message_users"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122806"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161127122658)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122658"]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122438"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "community_contents"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127100306"]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "marks"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092556"]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "community_tabs"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092344"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "community_sections"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092249"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "communities_disciplines"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091641"]]
  [1m[35m (9.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "community_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091616"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "communities"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091553"]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "discipline_sections"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091514"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "disciplines"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090724"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (152.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (21.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (38.1ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (49.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (38.5ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.3ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying, "actual" boolean, "term_start" date, "term_end" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.8ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying, "full_name" character varying, "role_name_eng" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (35.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.1ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer, "role_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (42.4ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (56.4ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (21.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (99.7ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying, "group_start" date, "archive_time" date, "term_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (53.8ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (20.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (88.9ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying, "template" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (19.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (134.3ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying, "discipline_type" integer, "discipline_end" integer, "term_id" integer, "ranking_algorithm_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (43.3ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (79.8ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "weight" integer, "min_score" integer, "max_score" integer, "require_type" integer, "attenuation_constant" float, "optimal_time" date, "limit_time" date, "discipline_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (80.3ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying, "community_visibility" integer, "archive" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (36.7ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer, "user_id" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (43.2ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (15.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (93.5ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "section_position" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (31.9ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (15.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (104.7ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer, "tab_name" character varying, "tab_position" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (42.9ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (50.5ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer, "report" date, "discipline_section_id" integer, "student_id" integer, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (54.5ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (24.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (109.1ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer, "content_body" text, "content_visibility" integer, "show" timestamp, "community_tab_id" integer, "creator_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (65.9ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.1ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (20.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161127122658)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (99.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send" timestamp, "file_file_name" character varying, "file_content_type" character varying, "file_file_size" integer, "file_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.6ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_message_list_id" ON "messages"  ("message_list_id")[0m
  [1m[35m (43.3ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_id" ON "messages"  ("sender_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122658"]]
  [1m[35m (19.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (56.4ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (87.4ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122806"]]
  [1m[35m (19.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (101.0ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying, "short_instituton_name" character varying, "address" character varying, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (102.6ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (42.5ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (43.3ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (28.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (70.0ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer, "user_id" integer, "community_section_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161127124203)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (126.6ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer, "file_type_file_name" character varying, "file_type_content_type" character varying, "file_type_file_size" integer, "file_type_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.9ms)[0m  [1m[35mCREATE  INDEX  "index_study_files_on_user_id" ON "study_files"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127124203"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129093407"]]
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
Started GET "/users" for ::1 at 2016-11-29 13:52:41 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (7.5ms)
Completed 200 OK in 277ms (Views: 237.3ms | ActiveRecord: 1.6ms)


Started GET "/users/new" for ::1 at 2016-11-29 13:53:08 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (186.4ms)
  Rendered users/new.html.haml within layouts/application (187.8ms)
Completed 200 OK in 238ms (Views: 226.4ms | ActiveRecord: 2.2ms)


Started GET "/users/new" for ::1 at 2016-11-29 13:54:40 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (31.7ms)
  Rendered users/new.html.haml within layouts/application (33.0ms)
Completed 200 OK in 75ms (Views: 73.4ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for ::1 at 2016-11-29 13:56:04 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (6.1ms)
  Rendered users/new.html.haml within layouts/application (7.5ms)
Completed 200 OK in 49ms (Views: 48.1ms | ActiveRecord: 0.0ms)


Started GET "/users" for ::1 at 2016-11-29 13:56:10 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.2ms)
Completed 200 OK in 48ms (Views: 46.1ms | ActiveRecord: 0.5ms)


Started GET "/users" for ::1 at 2016-11-29 14:11:30 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.4ms)
Completed 200 OK in 46ms (Views: 44.5ms | ActiveRecord: 0.6ms)


Started GET "/users/new" for ::1 at 2016-11-29 14:11:35 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (5.4ms)
  Rendered users/new.html.haml within layouts/application (6.8ms)
Completed 200 OK in 46ms (Views: 44.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2016-11-29 14:12:39 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Zy8vFyvfbdN75zTGpZFpjhpVdF7v97E6wX2/WiI6Vr8sf9ccdar/a5S4M3hVLEM5hpHaZV3s8d6mtbJyBEdB/Q==", "user"=>{"last_name"=>"Меркель", "first_name"=>"Александра", "second_name"=>"Викторовна", "birthday(1i)"=>"2011", "birthday(2i)"=>"11", "birthday(3i)"=>"29", "sex"=>"ж", "user_description"=>"Это я!", "email"=>"gidrargirum.games@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
Unpermitted parameters: last_name, first_name, second_name, birthday(1i), birthday(2i), birthday(3i), sex, user_description
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "gidrargirum.games@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "activation_state", "activation_token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "gidrargirum.games@gmail.com"], ["crypted_password", "$2a$10$InSXqOsLXYohsa9Ql9otTufgyC6.NZO1p6ji/DNTmvwNKRHpm1tMu"], ["salt", "2WY6nuyobWCo2B7kKcRm"], ["created_at", 2016-11-29 11:12:39 UTC], ["updated_at", 2016-11-29 11:12:39 UTC], ["activation_state", "pending"], ["activation_token", "PzqaT4qwtsjQvyL4fxjz"]]
  Rendering user_mailer/activation_needed_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_needed_email.text.haml within layouts/mailer (0.9ms)
UserMailer#activation_needed_email: processed outbound mail in 172.9ms
Sent mail to gidrargirum.games@gmail.com (5.7ms)
Date: Tue, 29 Nov 2016 14:12:39 +0300
From: from@example.com
To: gidrargirum.games@gmail.com
Message-ID: <583d62a7e2045_19d72b0799fe6ef857064@localhost.localdomain.mail>
Subject: Welcome to My Awesome Site
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Welcome to example.com,
gidrargirum.games@gmail.com
=============================================
You have successfully signed up to example.com,
your username is:
gidrargirum.games@gmail.com.
To login to the site, just follow this link:
http://0.0.0.0:3000/users/PzqaT4qwtsjQvyL4fxjz/activate.
Thanks for joining and have a great day!


  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 289ms (ActiveRecord: 22.5ms)


Started GET "/users" for ::1 at 2016-11-29 14:12:39 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.7ms)
Completed 200 OK in 49ms (Views: 48.0ms | ActiveRecord: 0.3ms)


Started GET "/users" for ::1 at 2016-11-29 14:12:53 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.4ms)
Completed 200 OK in 47ms (Views: 44.7ms | ActiveRecord: 0.3ms)


Started GET "/users/1" for ::1 at 2016-11-29 14:12:58 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 14:12:58 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.6ms)
  Rendered user_sessions/new.html.haml within layouts/application (2.7ms)
Completed 200 OK in 41ms (Views: 40.4ms | ActiveRecord: 0.0ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 14:14:51 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"g7I/FGU8NFhd/1FAQaeSKO2VEGtVpUUdFyqe7wLinWp4iQIdAvSzQ7u8Uo2xed2tstQkUPheHe6wJ5FimScoXQ==", "email"=>"gidrargirum.games@gmail.com", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'gidrargirum.games@gmail.com' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.2ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.9ms)
Completed 200 OK in 52ms (Views: 47.6ms | ActiveRecord: 0.9ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 14:14:56 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vXazG2Aj14LO9jSxf/Si8mbHf/s+gn7XUsvVMUzrjJ51wOZhcZ5FKDIrsaaYT7f0yi7BTsLtoZmku5rewSRefQ==", "email"=>"alexandra", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'alexandra' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.7ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.1ms)
Completed 200 OK in 42ms (Views: 39.6ms | ActiveRecord: 0.6ms)


Started GET "/users" for ::1 at 2016-11-29 14:15:39 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.1ms)
Completed 200 OK in 50ms (Views: 47.9ms | ActiveRecord: 0.3ms)


Started GET "/users/1/edit" for ::1 at 2016-11-29 14:16:37 +0300
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 14:16:37 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.8ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.1ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started GET "/users/1" for ::1 at 2016-11-29 14:16:41 +0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 14:16:41 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.8ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.1ms)
Completed 200 OK in 45ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started GET "/users" for ::1 at 2016-11-29 14:17:29 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.8ms)
Completed 200 OK in 52ms (Views: 50.3ms | ActiveRecord: 0.3ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "teacher@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rdc@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rdc@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
Started GET "/users" for ::1 at 2016-11-29 16:13:58 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (20.4ms)
Completed 200 OK in 281ms (Views: 239.3ms | ActiveRecord: 3.1ms)


Started GET "/users/new" for ::1 at 2016-11-29 16:14:00 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (194.3ms)
  Rendered users/new.html.haml within layouts/application (195.8ms)
Completed 200 OK in 236ms (Views: 235.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2016-11-29 16:14:22 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ClicpVBwIea8P/To1N1cGsr7NK8nrfIAXTJeM6fLdUb3Eo4PCsBYw+xcFMnMTmQlQKh2iYqLyiOPdo+EGcd5vA==", "user"=>{"last_name"=>"Lflslf", "first_name"=>"adtert", "second_name"=>"gerrgerg", "birthday(1i)"=>"2016", "birthday(2i)"=>"5", "birthday(3i)"=>"26", "sex"=>"j", "user_description"=>"errttr", "email"=>"rtrtewtwr", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
Unpermitted parameters: last_name, first_name, second_name, birthday(1i), birthday(2i), birthday(3i), sex, user_description
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rtrtewtwr"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (5.6ms)
  Rendered users/new.html.haml within layouts/application (6.8ms)
Completed 200 OK in 118ms (Views: 45.8ms | ActiveRecord: 1.1ms)


Started POST "/users" for ::1 at 2016-11-29 16:14:36 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OP7wc8NmYouXy8ClgHl/ldtivkcU+0qaaJEqC4gQTtyqxUFOaVFYJfhIHazlbcAnwUQg7K8rNT4Nys06YUnIkQ==", "user"=>{"last_name"=>"fhdth", "first_name"=>"fhghg", "second_name"=>"fghfhfgh", "birthday(1i)"=>"2016", "birthday(2i)"=>"11", "birthday(3i)"=>"29", "sex"=>"h", "user_description"=>"hfghdhg", "email"=>"rtrtewtwr", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
Unpermitted parameters: last_name, first_name, second_name, birthday(1i), birthday(2i), birthday(3i), sex, user_description
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rtrtewtwr"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (5.9ms)
  Rendered users/new.html.haml within layouts/application (7.1ms)
Completed 200 OK in 111ms (Views: 46.5ms | ActiveRecord: 1.0ms)


Started POST "/users" for ::1 at 2016-11-29 16:14:54 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xUMdjhaxNWEJ8sZ2bFMpwAXbLZhFyWMPfeTZwVPkR4BXeKyzvIYPz2ZxG38JR5ZyH/2zM/4ZHKsYvz7wur3BzQ==", "user"=>{"last_name"=>"ytreyer", "first_name"=>"rtyry", "second_name"=>"ryty", "birthday(1i)"=>"2016", "birthday(2i)"=>"11", "birthday(3i)"=>"29", "sex"=>"rtyrtyry", "user_description"=>"hgfy", "email"=>"gryrey", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
Unpermitted parameters: last_name, first_name, second_name, birthday(1i), birthday(2i), birthday(3i), sex, user_description
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "gryrey"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "activation_state", "activation_token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "gryrey"], ["crypted_password", "$2a$10$hTyvIcG2RbxaT3xo3UvHI.6WS6gt3Ba/mkTzUZpDbig.5.wWb5udS"], ["salt", "61EVmXEpswbC1NXuHHvj"], ["created_at", 2016-11-29 13:14:54 UTC], ["updated_at", 2016-11-29 13:14:54 UTC], ["activation_state", "pending"], ["activation_token", "5cJ5sCvtpyezbVeVV1sA"]]
  Rendering user_mailer/activation_needed_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_needed_email.text.haml within layouts/mailer (0.9ms)
UserMailer#activation_needed_email: processed outbound mail in 104.6ms
Sent mail to gryrey (4.7ms)
Date: Tue, 29 Nov 2016 16:14:54 +0300
From: from@example.com
To: gryrey
Message-ID: <583d7f4e8a6b4_20012ae65a3931fc836dd@localhost.localdomain.mail>
Subject: Welcome to My Awesome Site
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Welcome to example.com,
gryrey
=============================================
You have successfully signed up to example.com,
your username is:
gryrey.
To login to the site, just follow this link:
http://0.0.0.0:3000/users/5cJ5sCvtpyezbVeVV1sA/activate.
Thanks for joining and have a great day!


  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 181ms (ActiveRecord: 5.8ms)


Started GET "/users" for ::1 at 2016-11-29 16:14:54 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.2ms)
Completed 200 OK in 49ms (Views: 47.1ms | ActiveRecord: 0.5ms)


Started DELETE "/users/2" for ::1 at 2016-11-29 16:15:01 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"l/WJAL/MfRMFGjVaSVRSFR+xfIj4BJ2d2uqO4b7qfFkFzjg9FftHvWqZ6FMsQO2nBZfiI0PU4jm/sWnQV7P6FA==", "id"=>"2"}
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 16:15:01 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.3ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.8ms)
Completed 200 OK in 51ms (Views: 50.0ms | ActiveRecord: 0.0ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 16:15:03 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6IhYQo9icg4O+4Bph+vDF38Tpdvuc04g053mGhnMkF16s+l/JVVIoGF4XWDi/3ylZTU7cFWjMYS2xgEr8JUWEA==", "email"=>"alexandra", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'alexandra' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.7ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.0ms)
Completed 200 OK in 42ms (Views: 39.7ms | ActiveRecord: 0.5ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 16:15:04 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yl0yBez/4NxKk+DpXbuhQGU7xfwc5JG5pFoZloYKg5dYZoM4RsjaciUQPeA4rx7yfx1bV6c07h3BAf6nb1MF2g==", "email"=>"alexandra", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'alexandra' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.7ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.1ms)
Completed 200 OK in 41ms (Views: 39.1ms | ActiveRecord: 0.4ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 16:15:05 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yB4fP6hDQ9SQwH39qhHbFXH7e2L2TvtbO0qs3vpv8uVaJa4CAnR5ev9DoPTPBWSna93lyU2ehP9eEUvvEzZ0qA==", "email"=>"alexandra", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'alexandra' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.6ms)
  Rendered user_sessions/new.html.haml within layouts/application (2.9ms)
Completed 200 OK in 43ms (Views: 41.1ms | ActiveRecord: 0.7ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
Started GET "/users" for ::1 at 2016-11-29 16:21:12 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (18.5ms)
Completed 200 OK in 284ms (Views: 241.9ms | ActiveRecord: 2.4ms)


Started GET "/users/new" for ::1 at 2016-11-29 16:21:14 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (185.7ms)
  Rendered users/new.html.haml within layouts/application (187.1ms)
Completed 200 OK in 235ms (Views: 233.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2016-11-29 16:21:32 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jIOUstXuPoCN+lURDJqSJCbjjOpcAqsIC/gz/5wF2nZxyYYYj15Hpd2ZtTAUCaobrLDOzPEkkyvZvOJIIgnWjA==", "user"=>{"last_name"=>"hertyhr", "first_name"=>"rgrtw", "second_name"=>"wetwetet", "birthday(1i)"=>"2016", "birthday(2i)"=>"3", "birthday(3i)"=>"26", "sex"=>"v", "user_description"=>"hretheht", "email"=>"rtgtywey", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "rtgtywey"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "activation_state", "activation_token", "first_name", "second_name", "last_name", "birthday", "user_description", "sex") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "rtgtywey"], ["crypted_password", "$2a$10$vTF2vj5.qa8guzrYv1SODutsxDThtoW66mU3NXyByewvxck9Au9sO"], ["salt", "B7Fz6Ybv3Pj8CcGhuVZr"], ["created_at", 2016-11-29 13:21:32 UTC], ["updated_at", 2016-11-29 13:21:32 UTC], ["activation_state", "pending"], ["activation_token", "x68v7oxas2AjcSHtvdwu"], ["first_name", "rgrtw"], ["second_name", "wetwetet"], ["last_name", "hertyhr"], ["birthday", Sat, 26 Mar 2016], ["user_description", "hretheht"], ["sex", "v"]]
  Rendering user_mailer/activation_needed_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_needed_email.text.haml within layouts/mailer (1.1ms)
UserMailer#activation_needed_email: processed outbound mail in 79.6ms
Sent mail to rtgtywey (4.8ms)
Date: Tue, 29 Nov 2016 16:21:32 +0300
From: from@example.com
To: rtgtywey
Message-ID: <583d80dce24fc_20962af2ff0550ec202f4@localhost.localdomain.mail>
Subject: Welcome to My Awesome Site
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Welcome to example.com,
rtgtywey
=============================================
You have successfully signed up to example.com,
your username is:
rtgtywey.
To login to the site, just follow this link:
http://0.0.0.0:3000/users/x68v7oxas2AjcSHtvdwu/activate.
Thanks for joining and have a great day!


  [1m[35m (29.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 188ms (ActiveRecord: 29.9ms)


Started GET "/users" for ::1 at 2016-11-29 16:21:32 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.2ms)
Completed 200 OK in 48ms (Views: 46.6ms | ActiveRecord: 0.3ms)


Started DELETE "/users/3" for ::1 at 2016-11-29 16:21:42 +0300
Processing by UsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"grl+3v4k5jCWNeMmhbST9+HgG4mfINNl5ROkUUfSsNQQgs/jVBPcnvm2Pi/goCxF+8aFIiTwrMGASENgros2mQ==", "id"=>"3"}
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 16:21:42 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.7ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.0ms)
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for ::1 at 2016-11-29 16:24:35 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (6.1ms)
  Rendered users/new.html.haml within layouts/application (7.4ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for ::1 at 2016-11-29 16:25:03 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (6.9ms)
  Rendered users/new.html.haml within layouts/application (8.2ms)
Completed 200 OK in 46ms (Views: 44.7ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for ::1 at 2016-11-29 16:26:36 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (6.5ms)
  Rendered users/new.html.haml within layouts/application (7.9ms)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for ::1 at 2016-11-29 16:27:03 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (2.8ms)
  Rendered users/new.html.haml within layouts/application (3.9ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
SyntaxError (/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:12: syntax error, unexpected ')'
));}\n  #{_hamlout.format_scri...
 ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:13: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n</div>\n<div class='field'>\n  #{
    ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:16: unknown regexp options - dv
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:16: syntax error, unexpected $undefined
));}\n</div>\n<div class='field'>\n  #{
             ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:16: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
));}\n</div>\n<div class='field'>\n  #{
                        ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:16: syntax error, unexpected $undefined
));}\n</div>\n<div class='field'>\n  #{
                                  ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:18: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n  #{_hamlout.format_script_...
    ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:22: unknown regexp options - dv
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:22: syntax error, unexpected $undefined
));}\n</div>\n<div class='field'>\n  #{
             ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:22: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
));}\n</div>\n<div class='field'>\n  #{
                        ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:22: syntax error, unexpected $undefined
));}\n</div>\n<div class='field'>\n  #{
                                  ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:24: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n  #{_hamlout.format_script_...
    ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:28: unknown regexp options - dv
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:28: syntax error, unexpected $undefined
));}\n</div>\n<div class='field'>\n  #{
             ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:28: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
));}\n</div>\n<div class='field'>\n  #{
                        ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:28: syntax error, unexpected $undefined
));}\n</div>\n<div class='field'>\n  #{
                                  ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:30: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n  #{_hamlout.format_script_...
    ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:34: unknown regexp options - dv
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:34: syntax error, unexpected $undefined
));}\n</div>\n<div class='field'>\n  #{
             ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:34: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
));}\n</div>\n<div class='field'>\n  #{
                        ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:34: syntax error, unexpected $undefined
));}\n</div>\n<div class='field'>\n  #{
                                  ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:36: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n  #{_hamlout.format_script_...
    ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:39: unknown regexp options - dv
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:39: syntax error, unexpected $undefined
));}\n</div>\n", -1, false);end;_hamlout.b...
             ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:39: syntax error, unexpected $undefined, expecting tSTRING_DEND
...aml_temp);_hamlout.push_text("\n", 0, false);::Haml::Util.ht...
...                               ^
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:39: unterminated string meets end of file
/home/alexandra/diploma/temp/base_app5/app/views/users/_form.html.haml:39: syntax error, unexpected end-of-input, expecting tSTRING_DEND):
  
app/views/users/_form.html.haml:12: syntax error, unexpected ')'
app/views/users/_form.html.haml:13: syntax error, unexpected '}', expecting tSTRING_DEND
app/views/users/_form.html.haml:16: unknown regexp options - dv
app/views/users/_form.html.haml:16: syntax error, unexpected $undefined
app/views/users/_form.html.haml:16: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
app/views/users/_form.html.haml:16: syntax error, unexpected $undefined
app/views/users/_form.html.haml:18: syntax error, unexpected '}', expecting tSTRING_DEND
app/views/users/_form.html.haml:22: unknown regexp options - dv
app/views/users/_form.html.haml:22: syntax error, unexpected $undefined
app/views/users/_form.html.haml:22: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
app/views/users/_form.html.haml:22: syntax error, unexpected $undefined
app/views/users/_form.html.haml:24: syntax error, unexpected '}', expecting tSTRING_DEND
app/views/users/_form.html.haml:28: unknown regexp options - dv
app/views/users/_form.html.haml:28: syntax error, unexpected $undefined
app/views/users/_form.html.haml:28: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
app/views/users/_form.html.haml:28: syntax error, unexpected $undefined
app/views/users/_form.html.haml:30: syntax error, unexpected '}', expecting tSTRING_DEND
app/views/users/_form.html.haml:34: unknown regexp options - dv
app/views/users/_form.html.haml:34: syntax error, unexpected $undefined
app/views/users/_form.html.haml:34: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
app/views/users/_form.html.haml:34: syntax error, unexpected $undefined
app/views/users/_form.html.haml:36: syntax error, unexpected '}', expecting tSTRING_DEND
app/views/users/_form.html.haml:39: unknown regexp options - dv
app/views/users/_form.html.haml:39: syntax error, unexpected $undefined
app/views/users/_form.html.haml:39: syntax error, unexpected $undefined, expecting tSTRING_DEND
app/views/users/_form.html.haml:39: unterminated string meets end of file
app/views/users/_form.html.haml:39: syntax error, unexpected end-of-input, expecting tSTRING_DEND
app/views/users/new.html.haml:3:in `_app_views_users_new_html_haml__3055847958343059690_70082023265520'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.7ms)
Started GET "/users/new" for ::1 at 2016-11-29 16:27:28 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (6.1ms)
  Rendered users/new.html.haml within layouts/application (7.5ms)
Completed 200 OK in 57ms (Views: 55.8ms | ActiveRecord: 0.0ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
Started GET "/terms" for ::1 at 2016-11-29 16:31:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by TermsController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 16:31:36 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.0ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.9ms)
Completed 200 OK in 273ms (Views: 226.4ms | ActiveRecord: 3.0ms)


Started GET "/users" for ::1 at 2016-11-29 16:31:44 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.1ms)
Completed 200 OK in 43ms (Views: 41.8ms | ActiveRecord: 0.4ms)


Started GET "/terms" for ::1 at 2016-11-29 16:31:49 +0300
Processing by TermsController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 16:31:49 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.7ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.0ms)
Completed 200 OK in 43ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started GET "/users/new" for ::1 at 2016-11-29 16:32:03 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (189.2ms)
  Rendered users/new.html.haml within layouts/application (190.7ms)
Completed 200 OK in 229ms (Views: 227.9ms | ActiveRecord: 0.0ms)


Started GET "/groups" for ::1 at 2016-11-29 16:40:27 +0300
Processing by GroupsController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 16:40:27 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.6ms)
  Rendered user_sessions/new.html.haml within layouts/application (2.8ms)
Completed 200 OK in 41ms (Views: 40.3ms | ActiveRecord: 0.0ms)


Started GET "/users" for ::1 at 2016-11-29 16:40:59 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.6ms)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.2ms)


Started GET "/login" for ::1 at 2016-11-29 16:42:44 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.7ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.1ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 16:43:05 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7Xr45c4kLMAbxkmtQuh5OB/UnwxZt/wUivhJJJyJMA7/vV4fQQQRPPRTEeMBVxi3tHGwJU/o6CrIsBSGJglWxQ==", "email"=>"gidrargirum.games@gmail.com", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'gidrargirum.games@gmail.com' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.8ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.6ms)
Completed 200 OK in 51ms (Views: 46.4ms | ActiveRecord: 0.7ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
Started GET "/marks" for ::1 at 2016-11-29 16:50:04 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MarksController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 16:50:04 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.0ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.9ms)
Completed 200 OK in 300ms (Views: 253.0ms | ActiveRecord: 2.7ms)


Started GET "/marks" for ::1 at 2016-11-29 16:50:05 +0300
Processing by MarksController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 16:50:06 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.2ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.9ms)
Completed 200 OK in 44ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 16:50:11 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wwptPhwoYaunVCIW3TP4WjTZ4vdY+0AaUHXpyyViGIlRMdwDth9bBcjX/x+4J0foLv98XOMrP741Lg76zDuexA==", "email"=>"user", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'user' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.3ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.6ms)
Completed 200 OK in 51ms (Views: 45.6ms | ActiveRecord: 1.2ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 16:50:24 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"S/w6U2GEgAF5LH2y5VvlvWRTUgK3rRPb2BDsK08fbFnZx4tuy7O6rxavoLuAT1oPfnXMqQx9bH+9SwsapkbqFA==", "email"=>"student", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'student' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.7ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.0ms)
Completed 200 OK in 48ms (Views: 45.6ms | ActiveRecord: 0.8ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 16:50:30 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"d0RMbGF+Q7Cll+H5sBUHYE6dmc1yvIy/blB2Y0B7Twrlf/1Ry0l5HsoUPPDVAbjSVLsHZsls8xsLC5FSqSLJRw==", "email"=>"root", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'root' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.0ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.4ms)
Completed 200 OK in 54ms (Views: 51.9ms | ActiveRecord: 0.9ms)


Started GET "/users/new" for ::1 at 2016-11-29 16:50:35 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (190.3ms)
  Rendered users/new.html.haml within layouts/application (192.7ms)
Completed 200 OK in 238ms (Views: 235.8ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "1_2016"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2016-02-21"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2016-06-30"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "1_2016"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2016-02-21"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2016-06-30"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "1_2016"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2016-02-21"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2016-06-30"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20161129144522)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send" timestamp, "message_file_name" character varying, "message_content_type" character varying, "message_file_size" integer, "message_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "senders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" DROP "sex"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "user_description"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "birthday"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "last_name"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "second_name"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "first_name"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129093407"]]
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "notices"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123322"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "disciplines_institutions"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123254"]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "message_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122806"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (26.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.0ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (54.5ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122806"]]
  [1m[35m (34.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (140.6ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying, "short_instituton_name" character varying, "address" character varying, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.3ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (31.5ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (43.1ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer, "user_id" integer, "community_section_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (43.5ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129093407"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161129144845)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer, "study_file_name" character varying, "study_content_type" character varying, "study_file_size" integer, "study_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" DROP "sex"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "user_description"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "birthday"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "last_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "second_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "first_name"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129093407"]]
  [1m[35m (29.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "notices"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123322"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "disciplines_institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123254"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "message_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122806"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (30.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (58.8ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (64.1ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (43.2ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122806"]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (81.2ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying, "short_instituton_name" character varying, "address" character varying, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (81.9ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.7ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer, "user_id" integer, "community_section_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (43.3ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (14.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129093407"]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161129144845)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer, "study_file_name" character varying, "study_content_type" character varying, "study_file_size" integer, "study_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
  [1m[35m (248.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "base_app5_development"[0m
  [1m[35m (325.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "base_app5_test"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (138.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (108.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (115.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (29.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (41.2ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from block in execute at /home/alexandra/.gem/ruby/2.3.0/gems/rake-11.2.2/lib/rake/task.rb:248)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (41.3ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (111.4ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying, "actual" boolean, "term_start" date, "term_end" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (67.6ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying, "full_name" character varying, "role_name_eng" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (133.8ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer, "role_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (33.3ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (114.2ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying, "group_start" date, "archive_time" date, "term_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (31.7ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.3ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying, "template" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (27.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (82.4ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying, "discipline_type" integer, "discipline_end" integer, "term_id" integer, "ranking_algorithm_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (138.2ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "weight" integer, "min_score" integer, "max_score" integer, "require_type" integer, "attenuation_constant" float, "optimal_time" date, "limit_time" date, "discipline_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (14.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (83.3ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying, "community_visibility" integer, "archive" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (24.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (50.6ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer, "user_id" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (43.5ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (13.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (76.4ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "section_position" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (39.7ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.1ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer, "tab_name" character varying, "tab_position" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer, "report" date, "discipline_section_id" integer, "student_id" integer, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (54.1ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (43.2ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (54.5ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (32.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (90.5ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer, "content_body" text, "content_visibility" integer, "show" timestamp, "community_tab_id" integer, "creator_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (101.9ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161127122806)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (57.9ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", :environment]]
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (104.9ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying, "short_instituton_name" character varying, "address" character varying, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (22.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (97.1ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (53.3ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (43.6ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (20.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (40.3ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer, "user_id" integer, "community_section_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (43.1ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129093407"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161129144845)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (76.5ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer, "study_file_name" character varying, "study_content_type" character varying, "study_file_size" integer, "study_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.7ms)[0m  [1m[35mCREATE  INDEX  "index_study_files_on_user_id" ON "study_files"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129144845"]]
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (88.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send" timestamp, "message_file_name" character varying, "message_content_type" character varying, "message_file_size" integer, "message_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "senders" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (111.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send" timestamp, "message_file_name" character varying, "message_content_type" character varying, "message_file_size" integer, "message_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "senders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (154.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send" timestamp, "message_file_name" character varying, "message_content_type" character varying, "message_file_size" integer, "message_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (53.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_message_list_id" ON "messages"  ("message_list_id")[0m
  [1m[35m (54.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_id" ON "messages"  ("sender_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129151016"]]
  [1m[35m (19.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161129151323)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (33.2ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129151323"]]
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-11-29 15:16:31 UTC], ["updated_at", 2016-11-29 15:16:31 UTC]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from included at /home/alexandra/.gem/ruby/2.3.0/gems/sorcery-0.9.1/lib/sorcery/controller/submodules/session_timeout.rb:24)
Started GET "/users/new" for ::1 at 2016-11-29 18:52:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (199.8ms)
  Rendered users/new.html.haml within layouts/application (201.9ms)
Completed 200 OK in 493ms (Views: 440.6ms | ActiveRecord: 2.7ms)


Started GET "/users" for ::1 at 2016-11-29 18:52:35 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.7ms)
Completed 200 OK in 46ms (Views: 44.0ms | ActiveRecord: 0.6ms)


Started GET "/users/new" for ::1 at 2016-11-29 18:53:55 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (5.6ms)
  Rendered users/new.html.haml within layouts/application (6.9ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2016-11-29 18:54:14 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"acPK9aGmS+COjpyHA3epcqiY9f49zX+5lk+YrwCHbFCh1mUwt0zzhoAdqGg/WCOrzv8bgNGvCtaHsshO6S066A==", "user"=>{"last_name"=>"Меркель", "first_name"=>"Александра", "second_name"=>"", "birthday(1i)"=>"2011", "birthday(2i)"=>"11", "birthday(3i)"=>"29", "sex"=>"жж", "user_description"=>"", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (6.3ms)
  Rendered users/new.html.haml within layouts/application (7.6ms)
Completed 200 OK in 58ms (Views: 45.8ms | ActiveRecord: 0.9ms)


Started POST "/users" for ::1 at 2016-11-29 18:54:41 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"//15EyZTIPq+DGy9DARkZAZkecMeQb8Sv5huJuY1Ti3KmQmx3GYOf13GYCFyWuMIhd9b+d8xL5m6Uu2lmCRzyQ==", "user"=>{"last_name"=>"Меркель", "first_name"=>"Александра", "second_name"=>"", "birthday(1i)"=>"2011", "birthday(2i)"=>"11", "birthday(3i)"=>"29", "sex"=>"ж", "user_description"=>"", "email"=>"test@mail.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@mail.ru"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "activation_state", "activation_token", "first_name", "second_name", "last_name", "birthday", "user_description", "sex") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "test@mail.ru"], ["crypted_password", "$2a$10$uzD80w79l.qcMfSNQV1aZOb3nzVwW8VakJ8.EAniQKV9VQl/wZHwS"], ["salt", "fscCXhPY3NqnoaaYszPG"], ["created_at", 2016-11-29 15:54:41 UTC], ["updated_at", 2016-11-29 15:54:41 UTC], ["activation_state", "pending"], ["activation_token", "DwJwaFisxvdUsbTcYFA6"], ["first_name", "Александра"], ["second_name", ""], ["last_name", "Меркель"], ["birthday", Tue, 29 Nov 2011], ["user_description", ""], ["sex", "ж"]]
  Rendering user_mailer/activation_needed_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_needed_email.text.haml within layouts/mailer (0.7ms)
UserMailer#activation_needed_email: processed outbound mail in 99.3ms
Sent mail to test@mail.ru (4.9ms)
Date: Tue, 29 Nov 2016 18:54:41 +0300
From: from@example.com
To: test@mail.ru
Message-ID: <583da4c193c79_2f142af16eb78c68643ad@localhost.localdomain.mail>
Subject: Welcome to My Awesome Site
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Welcome to example.com,
test@mail.ru
=============================================
You have successfully signed up to example.com,
your username is:
test@mail.ru.
To login to the site, just follow this link:
http://0.0.0.0:3000/users/DwJwaFisxvdUsbTcYFA6/activate.
Thanks for joining and have a great day!


  [1m[35m (27.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 200ms (ActiveRecord: 29.0ms)


Started GET "/users" for ::1 at 2016-11-29 18:54:41 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.9ms)
Completed 200 OK in 43ms (Views: 41.5ms | ActiveRecord: 0.6ms)


Started GET "/users/DwJwaFisxvdUsbTcYFA6/activate" for ::1 at 2016-11-29 18:56:33 +0300
Processing by UsersController#activate as HTML
  Parameters: {"id"=>"DwJwaFisxvdUsbTcYFA6"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."activation_token" = 'DwJwaFisxvdUsbTcYFA6' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_mailer/activation_success_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_success_email.text.haml within layouts/mailer (0.8ms)
UserMailer#activation_success_email: processed outbound mail in 6.0ms
Sent mail to test@mail.ru (1.8ms)
Date: Tue, 29 Nov 2016 18:56:33 +0300
From: from@example.com
To: test@mail.ru
Message-ID: <583da531f163e_2f142af16eb78cf46443@localhost.localdomain.mail>
Subject: Your account is now activated
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Congratz,
test@mail.ru
=============================================
You have successfully activated your example.com account,
your username is:
test@mail.ru.
To login to the site, just follow this link:
http://0.0.0.0:3000/login.
Thanks for joining and have a great day!


  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "activation_token" = $1, "activation_state" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["activation_token", nil], ["activation_state", "active"], ["updated_at", 2016-11-29 15:56:33 UTC], ["id", 1]]
  [1m[35m (25.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/login
Completed 302 Found in 40ms (ActiveRecord: 27.0ms)


Started GET "/login" for ::1 at 2016-11-29 18:56:34 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.5ms)
  Rendered user_sessions/new.html.haml within layouts/application (2.6ms)
Completed 200 OK in 49ms (Views: 47.6ms | ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-11-29 18:57:09 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.1ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.5ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/user_sessions" for ::1 at 2016-11-29 18:57:21 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1e5CHthxZhkaELmvSYmWkn6mdQuByD//MX3cjxccVaFAsb/SlMiEZV8LPgp8HkCPJLXQQTAIivbK7seMEkKF1g==", "email"=>"test@mail.ru", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'test@mail.ru' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (22.7ms)[0m  [1m[33mUPDATE "users" SET "remember_me_token" = 'qsBENMBTos6yCHWPA1HD', "remember_me_token_expires_at" = '2016-12-13 15:57:21.378590' WHERE "users"."id" = $1[0m  [["id", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 148ms (ActiveRecord: 23.4ms)


Started GET "/users" for ::1 at 2016-11-29 18:57:21 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 58ms (Views: 56.0ms | ActiveRecord: 0.6ms)


Started GET "/marks" for ::1 at 2016-11-29 18:57:28 +0300
Processing by MarksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.4ms)


  
NameError (undefined local variable or method `class_name' for #<Class:0x007f6fdc9306e0>
Did you mean?  class_eval):
  
app/models/mark.rb:3:in `<class:Mark>'
app/models/mark.rb:1:in `<top (required)>'
app/controllers/marks_controller.rb:7:in `index'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.4ms)
Started GET "/marks" for ::1 at 2016-11-29 18:58:54 +0300
Processing by MarksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/index.html.haml within layouts/application
  [1m[36mMark Load (0.4ms)[0m  [1m[34mSELECT "marks".* FROM "marks"[0m
  Rendered marks/index.html.haml within layouts/application (3.5ms)
Completed 200 OK in 67ms (Views: 37.9ms | ActiveRecord: 1.5ms)


Started GET "/marks/new" for ::1 at 2016-11-29 18:58:57 +0300
Processing by MarksController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/new.html.haml within layouts/application
  Rendered marks/_form.html.haml (40.4ms)
  Rendered marks/new.html.haml within layouts/application (41.9ms)
Completed 200 OK in 94ms (Views: 84.4ms | ActiveRecord: 2.8ms)


Started POST "/marks" for ::1 at 2016-11-29 18:59:12 +0300
Processing by MarksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YTulY8brACTZUxX8PNQDHjdQt5KySFhESVwVIvFPOjcF35wFaMKoYJYBg1j2FJkijOr8hNoQ+H8+h710hU+/CA==", "mark"=>{"mark_value"=>"30", "report(1i)"=>"2016", "report(2i)"=>"11", "report(3i)"=>"29", "discipline_section"=>"", "student"=>"", "teacher"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: discipline_section, student, teacher
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering marks/new.html.haml within layouts/application
  Rendered marks/_form.html.haml (5.8ms)
  Rendered marks/new.html.haml within layouts/application (7.3ms)
Completed 200 OK in 65ms (Views: 60.2ms | ActiveRecord: 0.5ms)


Started GET "/terms" for ::1 at 2016-11-29 18:59:20 +0300
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (5.4ms)
Completed 200 OK in 83ms (Views: 56.4ms | ActiveRecord: 2.4ms)


Started GET "/terms/new" for ::1 at 2016-11-29 18:59:22 +0300
Processing by TermsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (31.6ms)
  Rendered terms/new.html.haml within layouts/application (34.0ms)
Completed 200 OK in 97ms (Views: 87.5ms | ActiveRecord: 2.8ms)


Started POST "/terms" for ::1 at 2016-11-29 18:59:45 +0300
Processing by TermsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"w5+IoqbapATOPdkvve4bklviPJNpPhKs4HZ/ORuVc4oJW90eLAmnYuxQXHCCjl0uHy5NoY65Ox3vyBQChYmMZA==", "term"=>{"term_name"=>"2_2016", "actual"=>"1", "term_start(1i)"=>"2016", "term_start(2i)"=>"11", "term_start(3i)"=>"22", "term_end(1i)"=>"2016", "term_end(2i)"=>"11", "term_end(3i)"=>"18"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "2_2016"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2016-11-22"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2016-11-18"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "terms" ("term_name", "actual", "term_start", "term_end", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["term_name", "2_2016"], ["actual", true], ["term_start", Tue, 22 Nov 2016], ["term_end", Fri, 18 Nov 2016], ["created_at", 2016-11-29 15:59:45 UTC], ["updated_at", 2016-11-29 15:59:45 UTC]]
  [1m[35m (30.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/terms/1
Completed 302 Found in 40ms (ActiveRecord: 32.4ms)


Started GET "/terms/1" for ::1 at 2016-11-29 18:59:45 +0300
Processing by TermsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/show.html.haml within layouts/application
  Rendered terms/show.html.haml within layouts/application (2.1ms)
Completed 200 OK in 55ms (Views: 51.6ms | ActiveRecord: 0.5ms)


Started GET "/disciplines" for ::1 at 2016-11-29 19:07:38 +0300
Processing by DisciplinesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/index.html.haml within layouts/application
  [1m[36mDiscipline Load (0.4ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  Rendered disciplines/index.html.haml within layouts/application (5.1ms)
Completed 200 OK in 69ms (Views: 56.8ms | ActiveRecord: 1.4ms)


Started GET "/disciplines/new" for ::1 at 2016-11-29 19:07:40 +0300
Processing by DisciplinesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/new.html.haml within layouts/application
  Rendered disciplines/_form.html.haml (6.8ms)
  Rendered disciplines/new.html.haml within layouts/application (8.3ms)
Completed 200 OK in 64ms (Views: 47.5ms | ActiveRecord: 2.7ms)


Started GET "/ranking_algorith/new" for ::1 at 2016-11-29 19:08:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/ranking_algorith/new"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [180 times] (30.4ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (6.4ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (73.9ms)
Started GET "/ranking_algorithm/new" for ::1 at 2016-11-29 19:08:27 +0300
  
ActionController::RoutingError (No route matches [GET] "/ranking_algorithm/new"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [180 times] (30.8ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.2ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (55.0ms)
Started GET "/ranking_algorithmes/new" for ::1 at 2016-11-29 19:08:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/ranking_algorithmes/new"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [180 times] (37.7ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (62.4ms)
Started GET "/ranking_algorithmes" for ::1 at 2016-11-29 19:08:48 +0300
  
ActionController::RoutingError (No route matches [GET] "/ranking_algorithmes"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.9ms)
  Rendered collection of /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [180 times] (36.7ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (59.3ms)
Started GET "/ranking_algorithmes" for ::1 at 2016-11-29 19:09:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/ranking_algorithmes"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered collection of /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [180 times] (28.3ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (51.3ms)
Started GET "/ranking_algorithms" for ::1 at 2016-11-29 19:09:55 +0300
Processing by RankingAlgorithmsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering ranking_algorithms/index.html.haml within layouts/application
  [1m[36mRankingAlgorithm Load (0.4ms)[0m  [1m[34mSELECT "ranking_algorithms".* FROM "ranking_algorithms"[0m
  Rendered ranking_algorithms/index.html.haml within layouts/application (4.0ms)
Completed 200 OK in 45ms (Views: 40.8ms | ActiveRecord: 1.8ms)


Started GET "/ranking_algorithms/new" for ::1 at 2016-11-29 19:09:57 +0300
Processing by RankingAlgorithmsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering ranking_algorithms/new.html.haml within layouts/application
  Rendered ranking_algorithms/_form.html.haml (2.9ms)
  Rendered ranking_algorithms/new.html.haml within layouts/application (4.3ms)
Completed 200 OK in 53ms (Views: 46.0ms | ActiveRecord: 2.5ms)


Started POST "/ranking_algorithms" for ::1 at 2016-11-29 19:10:09 +0300
Processing by RankingAlgorithmsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6SZMf0ILd3DQ8yLFNKgbspt9R+NV+2H1k2/YUZcjEVxlSFr+rRnSG+HXHz8BJYNPgZ2awgaiWbKlYR8T0jVihw==", "ranking_algorithm"=>{"algorithm_name"=>"Линейный", "template"=>"1111111"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRankingAlgorithm Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ranking_algorithms" WHERE "ranking_algorithms"."algorithm_name" = $1 LIMIT $2[0m  [["algorithm_name", "Линейный"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ranking_algorithms" ("algorithm_name", "template", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["algorithm_name", "Линейный"], ["template", "1111111"], ["created_at", 2016-11-29 16:10:09 UTC], ["updated_at", 2016-11-29 16:10:09 UTC]]
  [1m[35m (25.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ranking_algorithms/1
Completed 302 Found in 33ms (ActiveRecord: 26.9ms)


Started GET "/ranking_algorithms/1" for ::1 at 2016-11-29 19:10:09 +0300
Processing by RankingAlgorithmsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering ranking_algorithms/show.html.haml within layouts/application
  Rendered ranking_algorithms/show.html.haml within layouts/application (1.4ms)
Completed 200 OK in 55ms (Views: 51.0ms | ActiveRecord: 0.7ms)


Started POST "/disciplines" for ::1 at 2016-11-29 19:10:17 +0300
Processing by DisciplinesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yMmWzpKZK3EeFAN8nCGMKhkrMqaM0yq80hRnoLgDoDrV8afRtreDxhpCSiiPZb1MqDAmk2dF1cy5Ca9Ud42woQ==", "discipline"=>{"discipline_name"=>"Физика", "discipline_type"=>"1", "discipline_end"=>"2", "term"=>"1", "ranking_algorithm"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: term, ranking_algorithm
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDiscipline Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "disciplines" WHERE "disciplines"."discipline_name" = $1 AND "disciplines"."discipline_type" = $2 AND "disciplines"."discipline_end" = $3 AND "disciplines"."term_id" IS NULL LIMIT $4[0m  [["discipline_name", "Физика"], ["discipline_type", 1], ["discipline_end", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering disciplines/new.html.haml within layouts/application
  Rendered disciplines/_form.html.haml (4.9ms)
  Rendered disciplines/new.html.haml within layouts/application (6.4ms)
Completed 200 OK in 58ms (Views: 50.6ms | ActiveRecord: 1.0ms)


Started GET "/marks" for ::1 at 2016-11-29 19:19:24 +0300
Processing by MarksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/index.html.haml within layouts/application
  [1m[36mMark Load (0.3ms)[0m  [1m[34mSELECT "marks".* FROM "marks"[0m
  Rendered marks/index.html.haml within layouts/application (3.5ms)
Completed 200 OK in 95ms (Views: 50.9ms | ActiveRecord: 0.5ms)


Started GET "/marks/new" for ::1 at 2016-11-29 19:19:26 +0300
Processing by MarksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/new.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.4ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  Rendered marks/_form.html.haml (40.2ms)
  Rendered marks/new.html.haml within layouts/application (41.7ms)
Completed 200 OK in 86ms (Views: 78.3ms | ActiveRecord: 2.1ms)


Started GET "/marks/new" for ::1 at 2016-11-29 19:20:36 +0300
Processing by MarksController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/new.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.4ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered marks/_form.html.haml (142.1ms)
  Rendered marks/new.html.haml within layouts/application (143.5ms)
Completed 500 Internal Server Error in 150ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined local variable or method `tch' for #<#<Class:0x007f6ff4740638>:0x007f6ff0560ab0>):
    20:     = f.select(:student, student_options(f.object.student_id))
    21:   .field
    22:     = f.label :teacher
    23:     = f.select(:teacher, teacher_options(f.object.teacher_id))
    24:   .actions
    25:     = f.submit 'Save'
  
app/helpers/marks_helper.rb:12:in `block in teacher_options'
app/helpers/marks_helper.rb:12:in `teacher_options'
app/views/marks/_form.html.haml:23:in `block in _app_views_marks__form_html_haml___4319952198559141306_70059374782480'
app/views/marks/_form.html.haml:1:in `_app_views_marks__form_html_haml___4319952198559141306_70059374782480'
app/views/marks/new.html.haml:3:in `_app_views_marks_new_html_haml___3593371136885993185_70059375134320'
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /usr/local/share/gems/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.7ms)
Started GET "/marks/new" for ::1 at 2016-11-29 19:20:59 +0300
Processing by MarksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/new.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.4ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered marks/_form.html.haml (20.5ms)
  Rendered marks/new.html.haml within layouts/application (21.9ms)
Completed 200 OK in 110ms (Views: 66.2ms | ActiveRecord: 3.1ms)


Started GET "/users" for ::1 at 2016-11-29 19:33:05 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (11.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 71ms (Views: 52.7ms | ActiveRecord: 0.5ms)


Started GET "/users/new" for ::1 at 2016-11-29 19:33:09 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (6.6ms)
  Rendered users/new.html.haml within layouts/application (8.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 51ms (Views: 49.3ms | ActiveRecord: 0.2ms)


Started GET "/groups" for ::1 at 2016-11-29 19:34:18 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (0.4ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (3.7ms)
Completed 200 OK in 110ms (Views: 39.8ms | ActiveRecord: 1.3ms)


Started GET "/groups/new" for ::1 at 2016-11-29 19:34:22 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  Rendered groups/_form.html.haml (9.2ms)
  Rendered groups/new.html.haml within layouts/application (10.8ms)
Completed 200 OK in 70ms (Views: 51.2ms | ActiveRecord: 1.3ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
Started GET "/users" for ::1 at 2016-11-30 20:19:23 +0300
  [1m[36mActiveRecord::SchemaMigration Load (17.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (109.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (277.8ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "qsBENMBTos6yCHWPA1HD"], ["LIMIT", 1]]
Completed 200 OK in 1314ms (Views: 708.2ms | ActiveRecord: 226.6ms)


Started GET "/message_lists" for ::1 at 2016-11-30 20:19:39 +0300
Processing by MessageListsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/index.html.haml within layouts/application
  [1m[36mMessageList Load (12.9ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  Rendered message_lists/index.html.haml within layouts/application (16.3ms)
Completed 200 OK in 99ms (Views: 40.2ms | ActiveRecord: 14.4ms)


Started GET "/message_lists/new" for ::1 at 2016-11-30 20:19:44 +0300
Processing by MessageListsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/new.html.haml within layouts/application
  Rendered message_lists/_form.html.haml (366.9ms)
  Rendered message_lists/new.html.haml within layouts/application (368.4ms)
Completed 200 OK in 549ms (Views: 402.5ms | ActiveRecord: 1.3ms)


Started GET "/messages" for ::1 at 2016-11-30 20:21:10 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 1.2ms)


  
NameError (undefined local variable or method `class_name' for #<Class:0x007f3e10059740>
Did you mean?  class_eval):
  
app/models/message.rb:4:in `<class:Message>'
app/models/message.rb:1:in `<top (required)>'
app/controllers/messages_controller.rb:7:in `index'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.8ms)
Started GET "/messages" for ::1 at 2016-11-30 20:22:05 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (19.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (23.4ms)
Completed 200 OK in 124ms (Views: 47.1ms | ActiveRecord: 22.6ms)


Started GET "/messages/new" for ::1 at 2016-11-30 20:22:07 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (36.1ms)
  Rendered messages/new.html.haml within layouts/application (66.7ms)
Completed 500 Internal Server Error in 76ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `message' for #<Message:0x007f3dfc3c0550>
Did you mean?  message_list):
    14:     = f.datetime_select :send
    15:   .field
    16:     = f.label :message
    17:     = f.text_field :message
    18:   .field
    19:     = f.label :message_list
    20:     = f.text_field :message_list
  
app/views/messages/_form.html.haml:17:in `block in _app_views_messages__form_html_haml___1750896282392746497_69952100120080'
app/views/messages/_form.html.haml:1:in `_app_views_messages__form_html_haml___1750896282392746497_69952100120080'
app/views/messages/new.html.haml:3:in `_app_views_messages_new_html_haml___4483656003640846515_69952100216200'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.7ms)
Started GET "/messages" for ::1 at 2016-11-30 20:22:18 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (2.5ms)
Completed 200 OK in 50ms (Views: 47.2ms | ActiveRecord: 0.9ms)


Started GET "/messages" for ::1 at 2016-11-30 20:22:43 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (2.5ms)
Completed 200 OK in 44ms (Views: 41.7ms | ActiveRecord: 0.5ms)


Started GET "/messages/new" for ::1 at 2016-11-30 20:22:46 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (14.3ms)
  Rendered messages/new.html.haml within layouts/application (15.6ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `message' for #<Message:0x007f3e2862cf38>
Did you mean?  message_list):
    14:     = f.datetime_select :send
    15:   .field
    16:     = f.label :message
    17:     = f.text_field :message
    18:   .field
    19:     = f.label :message_list
    20:     = f.text_field :message_list
  
app/views/messages/_form.html.haml:17:in `block in _app_views_messages__form_html_haml___1750896282392746497_69952470890900'
app/views/messages/_form.html.haml:1:in `_app_views_messages__form_html_haml___1750896282392746497_69952470890900'
app/views/messages/new.html.haml:3:in `_app_views_messages_new_html_haml___4483656003640846515_69952471108340'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (18.5ms)
Started GET "/messages/new" for ::1 at 2016-11-30 20:25:19 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (0.9ms)
  Rendered messages/new.html.haml within layouts/application (2.1ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (Inconsistent indentation: 1 space used for indentation, but the rest of the document was indented using 2 spaces.):
    12:   .field
    13:     = f.label :send
    14:     = f.datetime_select :send
    15:  # .field
    16:   #  = f.label :message
    17:    # = f.text_field :message
    18:   .field
  
app/views/messages/_form.html.haml:15
app/views/messages/new.html.haml:3:in `_app_views_messages_new_html_haml___4483656003640846515_69952270782740'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.9ms)
Started GET "/messages/new" for ::1 at 2016-11-30 20:26:05 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (3.5ms)
  Rendered messages/new.html.haml within layouts/application (4.8ms)
Completed 200 OK in 44ms (Views: 40.3ms | ActiveRecord: 0.9ms)


Started GET "/messages" for ::1 at 2016-11-30 20:26:17 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (2.5ms)
Completed 200 OK in 41ms (Views: 38.6ms | ActiveRecord: 0.5ms)


Started GET "/messages/new" for ::1 at 2016-11-30 20:26:20 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (3.9ms)
  Rendered messages/new.html.haml within layouts/application (5.2ms)
Completed 200 OK in 44ms (Views: 41.1ms | ActiveRecord: 0.6ms)


Started GET "/messages/new" for ::1 at 2016-11-30 20:27:14 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (80.0ms)
  Rendered messages/new.html.haml within layouts/application (81.3ms)
Completed 200 OK in 118ms (Views: 115.6ms | ActiveRecord: 0.3ms)


Started GET "/message_lists" for ::1 at 2016-11-30 20:28:43 +0300
Processing by MessageListsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/index.html.haml within layouts/application
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  Rendered message_lists/index.html.haml within layouts/application (3.8ms)
Completed 200 OK in 45ms (Views: 41.3ms | ActiveRecord: 1.2ms)


Started GET "/message_lists/new" for ::1 at 2016-11-30 20:28:45 +0300
Processing by MessageListsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/new.html.haml within layouts/application
  Rendered message_lists/_form.html.haml (10.3ms)
  Rendered message_lists/new.html.haml within layouts/application (11.6ms)
Completed 200 OK in 54ms (Views: 48.2ms | ActiveRecord: 2.5ms)


Started POST "/message_lists" for ::1 at 2016-11-30 20:28:55 +0300
Processing by MessageListsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Nsf6UEDmZyfmNiDsfk+VCnVWXp4wae0wHwWKtUJAM6stjCAEoUzqmBS1666mE2qssOubtobxyPH8+FOTjP8wGg==", "message_list"=>{"header"=>"Просто привет!"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (32.0ms)[0m  [1m[32mINSERT INTO "message_lists" ("header", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["header", "Просто привет!"], ["created_at", 2016-11-30 17:28:55 UTC], ["updated_at", 2016-11-30 17:28:55 UTC]]
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/message_lists/1
Completed 302 Found in 59ms (ActiveRecord: 55.0ms)


Started GET "/message_lists/1" for ::1 at 2016-11-30 20:28:55 +0300
Processing by MessageListsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/show.html.haml within layouts/application
  Rendered message_lists/show.html.haml within layouts/application (1.3ms)
Completed 200 OK in 58ms (Views: 38.7ms | ActiveRecord: 0.7ms)


Started GET "/message_lists" for ::1 at 2016-11-30 20:29:00 +0300
Processing by MessageListsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/index.html.haml within layouts/application
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  Rendered message_lists/index.html.haml within layouts/application (2.8ms)
Completed 200 OK in 43ms (Views: 40.5ms | ActiveRecord: 0.6ms)


Started GET "/message_lists/1" for ::1 at 2016-11-30 20:29:01 +0300
Processing by MessageListsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/show.html.haml within layouts/application
  Rendered message_lists/show.html.haml within layouts/application (1.2ms)
Completed 200 OK in 38ms (Views: 36.0ms | ActiveRecord: 0.4ms)


Started GET "/messages/new" for ::1 at 2016-11-30 20:36:22 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (86.7ms)
  Rendered messages/new.html.haml within layouts/application (88.1ms)
Completed 200 OK in 168ms (Views: 133.4ms | ActiveRecord: 1.6ms)


Started POST "/messages" for ::1 at 2016-11-30 20:36:30 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2YQMvU+iWl3c4xhZOuoTt1Qr8xC27j09tAv3Le2vRn94ICCDW5kW6pewrKW7/MB123o1rg/6214FPZSCSIhkgg==", "message"=>{"message_content"=>"Привееет", "send(1i)"=>"2016", "send(2i)"=>"11", "send(3i)"=>"30", "send(4i)"=>"17", "send(5i)"=>"27", "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::MultiparameterAssignmentErrors (1 error(s) on assignment of multiparameter attributes [error on assignment [2016, 11, 30, 17, 27] to send (wrong number of arguments (given 2, expected 0))]):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.4ms)
Started POST "/messages" for ::1 at 2016-11-30 20:37:54 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2YQMvU+iWl3c4xhZOuoTt1Qr8xC27j09tAv3Le2vRn94ICCDW5kW6pewrKW7/MB123o1rg/6214FPZSCSIhkgg==", "message"=>{"message_content"=>"Привееет", "send(1i)"=>"2016", "send(2i)"=>"11", "send(3i)"=>"30", "send(4i)"=>"17", "send(5i)"=>"27", "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 39ms (ActiveRecord: 4.0ms)


  
ActiveRecord::MultiparameterAssignmentErrors (1 error(s) on assignment of multiparameter attributes [error on assignment [2016, 11, 30, 17, 27] to send (wrong number of arguments (given 2, expected 0))]):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.5ms)
Started GET "/messages/new" for ::1 at 2016-11-30 20:37:59 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (17.5ms)
  Rendered messages/new.html.haml within layouts/application (18.9ms)
Completed 200 OK in 58ms (Views: 51.4ms | ActiveRecord: 4.4ms)


Started POST "/messages" for ::1 at 2016-11-30 20:38:03 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Y19TjJP/m7bBC7MZ3SDaws+lAY7gD/w/EvgWKzR56b/C+3+yh8TXAYpYB+VcNgkAQPTHMFkbGlyjznWEkV7LQg==", "message"=>{"message_content"=>"dhfthwsrg", "send(1i)"=>"2016", "send(2i)"=>"11", "send(3i)"=>"30", "send(4i)"=>"17", "send(5i)"=>"37", "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms)


  
ActiveRecord::MultiparameterAssignmentErrors (1 error(s) on assignment of multiparameter attributes [error on assignment [2016, 11, 30, 17, 37] to send (wrong number of arguments (given 2, expected 0))]):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.4ms)
Started POST "/messages" for ::1 at 2016-11-30 20:39:01 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Y19TjJP/m7bBC7MZ3SDaws+lAY7gD/w/EvgWKzR56b/C+3+yh8TXAYpYB+VcNgkAQPTHMFkbGlyjznWEkV7LQg==", "message"=>{"message_content"=>"dhfthwsrg", "send(1i)"=>"2016", "send(2i)"=>"4", "send(3i)"=>"19", "send(4i)"=>"17", "send(5i)"=>"24", "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.2ms)


  
ActiveRecord::MultiparameterAssignmentErrors (1 error(s) on assignment of multiparameter attributes [error on assignment [2016, 4, 19, 17, 24] to send (wrong number of arguments (given 2, expected 0))]):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (14.9ms)
Started POST "/messages" for ::1 at 2016-11-30 20:39:10 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Y19TjJP/m7bBC7MZ3SDaws+lAY7gD/w/EvgWKzR56b/C+3+yh8TXAYpYB+VcNgkAQPTHMFkbGlyjznWEkV7LQg==", "message"=>{"message_content"=>"dhfthwsrg", "send(1i)"=>"2016", "send(2i)"=>"4", "send(3i)"=>"19", "send(4i)"=>"17", "send(5i)"=>"24", "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)


  
ActiveRecord::MultiparameterAssignmentErrors (1 error(s) on assignment of multiparameter attributes [error on assignment [2016, 4, 19, 17, 24] to send (wrong number of arguments (given 2, expected 0))]):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.5ms)
Started GET "/messages" for ::1 at 2016-11-30 21:12:42 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (2.9ms)
Completed 200 OK in 72ms (Views: 40.6ms | ActiveRecord: 0.4ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:12:45 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (13.3ms)
  Rendered messages/new.html.haml within layouts/application (14.7ms)
Completed 200 OK in 60ms (Views: 51.9ms | ActiveRecord: 1.7ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:12:50 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (6.4ms)
  Rendered messages/new.html.haml within layouts/application (8.0ms)
Completed 200 OK in 56ms (Views: 53.6ms | ActiveRecord: 0.9ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:13:52 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (18.1ms)
  Rendered messages/new.html.haml within layouts/application (19.6ms)
Completed 200 OK in 60ms (Views: 57.8ms | ActiveRecord: 0.2ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:14:33 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (5.7ms)
  Rendered messages/new.html.haml within layouts/application (7.6ms)
Completed 200 OK in 48ms (Views: 45.1ms | ActiveRecord: 0.3ms)


Started POST "/messages" for ::1 at 2016-11-30 21:14:38 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mFKkM+ExbRx11O4878UoShJ7ky3Sv1Q8XIlwSTc48mI59ogN9Qohqz6HWsBu0/uInSpVk2ursl/tvxPmkh/Qnw==", "message"=>{"message_content"=>"hrwhtrg", "send(1i)"=>"2016", "send(2i)"=>"11", "send(3i)"=>"30", "send(4i)"=>"18", "send(5i)"=>"13", "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
ActiveRecord::MultiparameterAssignmentErrors (1 error(s) on assignment of multiparameter attributes [error on assignment [2016, 11, 30, 18, 13] to send (wrong number of arguments (given 2, expected 0))]):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.1ms)
Started GET "/messages/new" for ::1 at 2016-11-30 21:16:28 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (6.4ms)
  Rendered messages/new.html.haml within layouts/application (7.8ms)
Completed 200 OK in 47ms (Views: 44.1ms | ActiveRecord: 0.7ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
  [1m[36mMessageList Load (0.4ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
Started GET "/messages" for ::1 at 2016-11-30 21:45:57 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (6.8ms)
Completed 200 OK in 284ms (Views: 225.6ms | ActiveRecord: 4.8ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:45:58 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (1.6ms)
  Rendered messages/new.html.haml within layouts/application (2.9ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (Inconsistent indentation: 1 space used for indentation, but the rest of the document was indented using 2 spaces.):
    12:   .field
    13:     = f.label :send
    14:     = f.datetime_select :send
    15:  <!-- .field
    16:     = f.label :message
    17:     = f.text_field :message ->
    18:   .field
  
app/views/messages/_form.html.haml:15
app/views/messages/new.html.haml:3:in `_app_views_messages_new_html_haml___2112295171883723866_70102154623680'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.1ms)
Started GET "/messages/new" for ::1 at 2016-11-30 21:48:12 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (9.1ms)
  Rendered messages/new.html.haml within layouts/application (10.4ms)
Completed 200 OK in 55ms (Views: 52.9ms | ActiveRecord: 0.2ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:48:29 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (1.0ms)
  Rendered messages/new.html.haml within layouts/application (2.3ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (Inconsistent indentation: 3 spaces used for indentation, but the rest of the document was indented using 2 spaces.):
    13:     = f.label :send
    14:     = f.datetime_select :send
    15: -# .field
    16:    = f.label :message
    17: -# = f.text_field :message ->
    18:   .field
    19:     = f.label :message_list
  
app/views/messages/_form.html.haml:16
app/views/messages/new.html.haml:3:in `_app_views_messages_new_html_haml___2112295171883723866_47173046952220'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (18.4ms)
Started GET "/messages/new" for ::1 at 2016-11-30 21:50:36 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (3.5ms)
  Rendered messages/new.html.haml within layouts/application (4.8ms)
Completed 200 OK in 46ms (Views: 43.6ms | ActiveRecord: 0.6ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:51:01 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (3.4ms)
  Rendered messages/new.html.haml within layouts/application (4.6ms)
Completed 200 OK in 46ms (Views: 43.5ms | ActiveRecord: 0.6ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:54:27 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (10.1ms)
  Rendered messages/new.html.haml within layouts/application (11.3ms)
Completed 200 OK in 56ms (Views: 53.6ms | ActiveRecord: 0.6ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:54:48 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.4ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (20.9ms)
  Rendered messages/new.html.haml within layouts/application (22.3ms)
Completed 200 OK in 64ms (Views: 57.2ms | ActiveRecord: 4.4ms)


Started GET "/messages/new" for ::1 at 2016-11-30 21:55:20 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.1ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (5.6ms)
  Rendered messages/new.html.haml within layouts/application (6.8ms)
Completed 200 OK in 57ms (Views: 54.5ms | ActiveRecord: 0.6ms)


Started POST "/messages" for ::1 at 2016-11-30 21:55:26 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bobe5O8Nm0SJok0uw1LyOyXETVX/+5SXDO9AsSG5jkXPIvLa+zbX88Lx+dJCRCH5qpWL60bvcvS92SMehJ6suA==", "message"=>{"message_content"=>"пупфвп", "send(1i)"=>"2016", "send(2i)"=>"11", "send(3i)"=>"30", "send(4i)"=>"18", "send(5i)"=>"48", "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::MultiparameterAssignmentErrors (1 error(s) on assignment of multiparameter attributes [error on assignment [2016, 11, 30, 18, 48] to send (wrong number of arguments (given 2, expected 0))]):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.4ms)
Started GET "/communities" for ::1 at 2016-11-30 21:56:03 +0300
Processing by CommunitiesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering communities/index.html.haml within layouts/application
  [1m[36mCommunity Load (19.4ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered communities/index.html.haml within layouts/application (24.1ms)
Completed 200 OK in 109ms (Views: 41.4ms | ActiveRecord: 21.3ms)


Started GET "/institutions" for ::1 at 2016-11-30 21:56:17 +0300
Processing by InstitutionsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering institutions/index.html.haml within layouts/application
  [1m[36mInstitution Load (12.4ms)[0m  [1m[34mSELECT "institutions".* FROM "institutions"[0m
  Rendered institutions/index.html.haml within layouts/application (17.9ms)
Completed 200 OK in 78ms (Views: 43.3ms | ActiveRecord: 14.4ms)


Started GET "/groups" for ::1 at 2016-11-30 21:59:47 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (20.4ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (24.3ms)
Completed 200 OK in 86ms (Views: 42.9ms | ActiveRecord: 21.7ms)


Started GET "/groups/new" for ::1 at 2016-11-30 21:59:48 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  Rendered groups/_form.html.haml (42.0ms)
  Rendered groups/new.html.haml within layouts/application (43.5ms)
Completed 200 OK in 93ms (Views: 83.8ms | ActiveRecord: 3.8ms)


Started POST "/groups" for ::1 at 2016-11-30 22:00:19 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LdDbLAR+Mvvsm5b8n8d4Gdu3T4CY78k/BRJt82tGAYaRpVio04PwG7+qh2x36cTlDWHpqBij+u/fR66DVaG6Eg==", "group"=>{"group_name"=>"Б13-510", "group_start(1i)"=>"2016", "group_start(2i)"=>"9", "group_start(3i)"=>"1", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"12", "archive_time(3i)"=>"30", "term"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "Б13-510"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering groups/new.html.haml within layouts/application
  Rendered groups/_form.html.haml (5.2ms)
  Rendered groups/new.html.haml within layouts/application (6.4ms)
Completed 200 OK in 119ms (Views: 44.6ms | ActiveRecord: 1.2ms)


Started GET "/terms" for ::1 at 2016-11-30 22:00:31 +0300
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (16.0ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (25.9ms)
Completed 200 OK in 66ms (Views: 44.6ms | ActiveRecord: 19.5ms)


Started POST "/groups" for ::1 at 2016-11-30 22:00:37 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ik2eg1mLRl1DuEh8VpB86cP3b96F29sHpyxFJoD0cDOD6bK9TbAK6gjr/IDXhq8rTKapYDzPPWQWGiaJJdNSzg==", "group"=>{"group_name"=>"Б13-510", "group_start(1i)"=>"2016", "group_start(2i)"=>"9", "group_start(3i)"=>"1", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"12", "archive_time(3i)"=>"30", "term"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "Б13-510"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering groups/new.html.haml within layouts/application
  Rendered groups/_form.html.haml (4.8ms)
  Rendered groups/new.html.haml within layouts/application (6.1ms)
Completed 200 OK in 51ms (Views: 45.6ms | ActiveRecord: 1.1ms)


Started POST "/groups" for ::1 at 2016-11-30 22:00:41 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zCNzKshpa9tJFscB7ufMyqZLv+FjKDvdIcttnmHuPtxth18U3FInbAJFc/1v8R8IKRp5X9o83b6Q/Q4xxMkcIQ==", "group"=>{"group_name"=>"Б13-510", "group_start(1i)"=>"2016", "group_start(2i)"=>"9", "group_start(3i)"=>"1", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"12", "archive_time(3i)"=>"30", "term"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "Б13-510"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering groups/new.html.haml within layouts/application
  Rendered groups/_form.html.haml (5.3ms)
  Rendered groups/new.html.haml within layouts/application (6.9ms)
Completed 200 OK in 52ms (Views: 44.1ms | ActiveRecord: 1.4ms)


  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
Started GET "/terms" for ::1 at 2016-11-30 22:01:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (10.8ms)
Completed 200 OK in 279ms (Views: 221.5ms | ActiveRecord: 5.7ms)


Started POST "/groups" for ::1 at 2016-11-30 22:01:14 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VToL4eZRj6Y7VMJ58I3RqFXTVPEkxJF+bVAK9m+/riP0niff8mrDEXAHdoVxmwJq2oKST53Qdx3cZmlZypiM3g==", "group"=>{"group_name"=>"Б13-510", "group_start(1i)"=>"2016", "group_start(2i)"=>"9", "group_start(3i)"=>"1", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"12", "archive_time(3i)"=>"30", "term"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "Б13-510"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering groups/new.html.haml within layouts/application
  Rendered groups/_form.html.haml (12.0ms)
  Rendered groups/new.html.haml within layouts/application (13.2ms)
Completed 200 OK in 247ms (Views: 49.4ms | ActiveRecord: 4.8ms)


Started GET "/groups" for ::1 at 2016-11-30 22:03:35 +0300
  
SyntaxError (/home/alexandra/diploma/temp/base_app5/app/helpers/groups_helper.rb:1: syntax error, unexpected ']'):
  
app/helpers/groups_helper.rb:1: syntax error, unexpected ']'
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/groups_controller.rb:1:in `<top (required)>'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.4ms)
Started GET "/groups" for ::1 at 2016-11-30 22:04:03 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (0.3ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (3.8ms)
Completed 200 OK in 85ms (Views: 42.9ms | ActiveRecord: 1.5ms)


Started GET "/groups/new" for ::1 at 2016-11-30 22:04:05 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (15.9ms)
  Rendered groups/new.html.haml within layouts/application (17.3ms)
Completed 200 OK in 65ms (Views: 53.6ms | ActiveRecord: 5.6ms)


Started POST "/groups" for ::1 at 2016-11-30 22:04:20 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9tsWXUJVNM0BqyXvUdmH1/7qk0GoPuRosPEMfLQT7BtKrpXZlaj2LVKaNH+59zsrKDw1aShy17hqpM8MivRXjw==", "group"=>{"group_name"=>"Б13-510", "group_start(1i)"=>"2016", "group_start(2i)"=>"9", "group_start(3i)"=>"1", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"12", "archive_time(3i)"=>"30", "term"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "Б13-510"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (6.3ms)
  Rendered groups/new.html.haml within layouts/application (7.5ms)
Completed 200 OK in 48ms (Views: 42.1ms | ActiveRecord: 1.2ms)


Started GET "/groups" for ::1 at 2016-11-30 22:05:13 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (2.4ms)
Completed 200 OK in 68ms (Views: 37.5ms | ActiveRecord: 0.4ms)


Started GET "/groups/new" for ::1 at 2016-11-30 22:05:15 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (12.0ms)
  Rendered groups/new.html.haml within layouts/application (13.6ms)
Completed 200 OK in 56ms (Views: 50.3ms | ActiveRecord: 1.3ms)


Started POST "/groups" for ::1 at 2016-11-30 22:05:24 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZRlxRHkhZIEqimnm0bsTBfgyxNAxYyofFPTlnXQzg0zZbPLArtymYXm7eHY5la/5LuRi+LEvGc/OoSbtStQ42A==", "group"=>{"group_name"=>"туст", "group_start(1i)"=>"2016", "group_start(2i)"=>"11", "group_start(3i)"=>"30", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"11", "archive_time(3i)"=>"30", "term"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "туст"], ["LIMIT", 1]]
  [1m[35mSQL (17.9ms)[0m  [1m[32mINSERT INTO "groups" ("group_name", "group_start", "archive_time", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["group_name", "туст"], ["group_start", Wed, 30 Nov 2016], ["archive_time", Wed, 30 Nov 2016], ["created_at", 2016-11-30 19:05:24 UTC], ["updated_at", 2016-11-30 19:05:24 UTC]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/groups/1
Completed 302 Found in 33ms (ActiveRecord: 26.7ms)


Started GET "/groups/1" for ::1 at 2016-11-30 22:05:24 +0300
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT  "groups".* FROM "groups" WHERE "groups"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/show.html.haml within layouts/application
  Rendered groups/show.html.haml within layouts/application (1.7ms)
Completed 200 OK in 58ms (Views: 55.0ms | ActiveRecord: 0.7ms)


Started GET "/groups/new" for ::1 at 2016-11-30 22:15:24 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.3ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (11.6ms)
  Rendered groups/new.html.haml within layouts/application (12.9ms)
Completed 200 OK in 91ms (Views: 57.4ms | ActiveRecord: 0.5ms)


Started POST "/groups" for ::1 at 2016-11-30 22:15:29 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DRUG7400ti9lxsbpaB6t+JubvZ2ph/p/qDovZymSMz+ssSrRmQ/6mC6VchXpCH46FMp7IxCTHBwZDEzIjLURwg==", "group"=>{"group_name"=>"туст", "group_start(1i)"=>"2016", "group_start(2i)"=>"11", "group_start(3i)"=>"30", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"11", "archive_time(3i)"=>"30", "term"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "туст"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (6.0ms)
  Rendered groups/new.html.haml within layouts/application (7.4ms)
Completed 200 OK in 64ms (Views: 58.2ms | ActiveRecord: 0.8ms)


Started POST "/groups" for ::1 at 2016-11-30 22:15:36 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3u782PtyQFVNgd25F21fOY002SFeSYj0Uo984r41wiV/StDm70kM4gbSaUWWe4z7AmUfn+ddbpfjuR9NGxLg2A==", "group"=>{"group_name"=>"туствмявм", "group_start(1i)"=>"2016", "group_start(2i)"=>"11", "group_start(3i)"=>"30", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"8", "archive_time(3i)"=>"30", "term"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "туствмявм"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "groups" ("group_name", "group_start", "archive_time", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["group_name", "туствмявм"], ["group_start", Wed, 30 Nov 2016], ["archive_time", Tue, 30 Aug 2016], ["created_at", 2016-11-30 19:15:36 UTC], ["updated_at", 2016-11-30 19:15:36 UTC]]
  [1m[35m (26.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/groups/2
Completed 302 Found in 32ms (ActiveRecord: 27.1ms)


Started GET "/groups/2" for ::1 at 2016-11-30 22:15:36 +0300
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGroup Load (0.3ms)[0m  [1m[34mSELECT  "groups".* FROM "groups" WHERE "groups"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering groups/show.html.haml within layouts/application
  Rendered groups/show.html.haml within layouts/application (1.8ms)
Completed 200 OK in 41ms (Views: 37.1ms | ActiveRecord: 1.1ms)


Started GET "/group" for ::1 at 2016-11-30 22:15:40 +0300
  
ActionController::RoutingError (No route matches [GET] "/group"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered collection of /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [180 times] (55.0ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (99.0ms)
Started GET "/groups" for ::1 at 2016-11-30 22:15:43 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (4.1ms)
Completed 200 OK in 48ms (Views: 45.2ms | ActiveRecord: 0.4ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/temp/base_app5/config/environment.rb:5)
Started GET "/users" for ::1 at 2016-12-01 11:07:45 +0300
  [1m[36mActiveRecord::SchemaMigration Load (28.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (91.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (241.8ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "qsBENMBTos6yCHWPA1HD"], ["LIMIT", 1]]
Completed 200 OK in 882ms (Views: 537.6ms | ActiveRecord: 199.0ms)


Started GET "/terms" for ::1 at 2016-12-01 11:10:54 +0300
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (21.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (29.2ms)
Completed 200 OK in 130ms (Views: 42.5ms | ActiveRecord: 23.3ms)


Started GET "/roles" for ::1 at 2016-12-01 11:11:12 +0300
Processing by RolesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering roles/index.html.haml within layouts/application
  [1m[36mRole Load (12.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  Rendered roles/index.html.haml within layouts/application (16.3ms)
Completed 200 OK in 83ms (Views: 38.7ms | ActiveRecord: 14.0ms)


Started GET "/roles/new" for ::1 at 2016-12-01 11:11:14 +0300
Processing by RolesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering roles/new.html.haml within layouts/application
  Rendered roles/_form.html.haml (433.0ms)
  Rendered roles/new.html.haml within layouts/application (434.4ms)
Completed 200 OK in 477ms (Views: 470.0ms | ActiveRecord: 1.9ms)


Started POST "/roles" for ::1 at 2016-12-01 11:11:27 +0300
Processing by RolesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"v1g7+j6yevoqbRzvCH4J/4on6CskxLb9LG8FWohMXjl4omrTMJ2hS4IQNuoQMMLrEgjnmP4VwTbQ1/JIByw6qA==", "role"=>{"role_name"=>"ст", "full_name"=>"студен", "role_name_eng"=>"student"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "roles" WHERE "roles"."role_name" = $1 LIMIT $2[0m  [["role_name", "ст"], ["LIMIT", 1]]
  [1m[36mRole Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "roles" WHERE "roles"."full_name" = $1 LIMIT $2[0m  [["full_name", "студен"], ["LIMIT", 1]]
  [1m[36mRole Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "roles" WHERE "roles"."role_name_eng" = $1 LIMIT $2[0m  [["role_name_eng", "student"], ["LIMIT", 1]]
  [1m[35mSQL (27.8ms)[0m  [1m[32mINSERT INTO "roles" ("role_name", "full_name", "role_name_eng", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role_name", "ст"], ["full_name", "студен"], ["role_name_eng", "student"], ["created_at", 2016-12-01 08:11:27 UTC], ["updated_at", 2016-12-01 08:11:27 UTC]]
  [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/roles/1
Completed 302 Found in 103ms (ActiveRecord: 51.3ms)


Started GET "/roles/1" for ::1 at 2016-12-01 11:11:27 +0300
Processing by RolesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering roles/show.html.haml within layouts/application
  Rendered roles/show.html.haml within layouts/application (1.3ms)
Completed 200 OK in 57ms (Views: 36.2ms | ActiveRecord: 0.4ms)


Started GET "/role_users" for ::1 at 2016-12-01 11:11:55 +0300
Processing by RoleUsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/index.html.haml within layouts/application
  [1m[36mRoleUser Load (35.1ms)[0m  [1m[34mSELECT "role_users".* FROM "role_users"[0m
  Rendered role_users/index.html.haml within layouts/application (38.8ms)
Completed 200 OK in 163ms (Views: 40.0ms | ActiveRecord: 36.4ms)


Started GET "/role_users/new" for ::1 at 2016-12-01 11:11:57 +0300
Processing by RoleUsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/new.html.haml within layouts/application
  Rendered role_users/_form.html.haml (11.0ms)
  Rendered role_users/new.html.haml within layouts/application (13.0ms)
Completed 200 OK in 55ms (Views: 48.8ms | ActiveRecord: 1.2ms)


Started POST "/role_users" for ::1 at 2016-12-01 11:12:16 +0300
Processing by RoleUsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kUZNkuABcg/zgWjs6iIP5Ei2masB9uRscXHbgRWwwQcWlhJwLtqW51BdC4xEa8YUfSPYD1M5wyT+XYP2l4uO9Q==", "role_user"=>{"info"=>"ничо не может!", "user"=>"1", "role"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: user, role
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRoleUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "role_users" WHERE "role_users"."role_id" IS NULL AND "role_users"."user_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering role_users/new.html.haml within layouts/application
  Rendered role_users/_form.html.haml (3.5ms)
  Rendered role_users/new.html.haml within layouts/application (4.8ms)
Completed 200 OK in 49ms (Views: 43.8ms | ActiveRecord: 0.7ms)


Started GET "/groupd" for ::1 at 2016-12-01 11:12:43 +0300
  
ActionController::RoutingError (No route matches [GET] "/groupd"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered collection of /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [180 times] (71.4ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (4.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (112.0ms)
Started GET "/groups" for ::1 at 2016-12-01 11:12:47 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (37.8ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (48.7ms)
Completed 200 OK in 104ms (Views: 45.8ms | ActiveRecord: 40.1ms)


Started GET "/groups/new" for ::1 at 2016-12-01 11:13:05 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.3ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (64.9ms)
  Rendered groups/new.html.haml within layouts/application (76.2ms)
Completed 200 OK in 118ms (Views: 113.0ms | ActiveRecord: 1.5ms)


Started GET "/groups/study_files" for ::1 at 2016-12-01 11:17:09 +0300
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"study_files"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT  "groups".* FROM "groups" WHERE "groups"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Group with 'id'=study_files):
  
app/controllers/groups_controller.rb:67:in `set_group'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.3ms)
Started GET "/study_files" for ::1 at 2016-12-01 11:17:23 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (22.7ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  Rendered study_files/index.html.haml within layouts/application (26.4ms)
Completed 200 OK in 96ms (Views: 39.0ms | ActiveRecord: 24.0ms)


Started GET "/study_files/new" for ::1 at 2016-12-01 11:17:25 +0300
Processing by StudyFilesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/new.html.haml within layouts/application
  Rendered study_files/_form.html.haml (8.1ms)
  Rendered study_files/new.html.haml within layouts/application (9.5ms)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined method `study' for #<StudyFile:0x007fc65c5e7070>):
    11:     = f.text_field :user
    12:   .field
    13:     = f.label :study
    14:     = f.text_field :study
    15:   .actions
    16:     = f.submit 'Save'
  
app/views/study_files/_form.html.haml:14:in `block in _app_views_study_files__form_html_haml__2836784476799079546_70244963801900'
app/views/study_files/_form.html.haml:1:in `_app_views_study_files__form_html_haml__2836784476799079546_70244963801900'
app/views/study_files/new.html.haml:3:in `_app_views_study_files_new_html_haml___860471355248002669_70244964060580'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (19.7ms)
Started GET "/study_files" for ::1 at 2016-12-01 11:17:28 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (0.2ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  Rendered study_files/index.html.haml within layouts/application (2.4ms)
Completed 200 OK in 39ms (Views: 37.2ms | ActiveRecord: 0.4ms)


Started GET "/groups" for ::1 at 2016-12-01 11:31:21 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (0.3ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (3.1ms)
Completed 200 OK in 42ms (Views: 39.8ms | ActiveRecord: 0.4ms)


Started GET "/groups/new" for ::1 at 2016-12-01 11:31:23 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (5.6ms)
  Rendered groups/new.html.haml within layouts/application (6.8ms)
Completed 200 OK in 53ms (Views: 50.1ms | ActiveRecord: 1.0ms)


Started POST "/groups" for ::1 at 2016-12-01 11:31:26 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lOnZpI4LkCfqAJyGqTe0y4wu/T+bbKSGi3D4KjMXyD7XRnoNm9/CKVSZz+yWdNmbjIsbQRp15pldf4tVmAR5Kg==", "group"=>{"group_name"=>"sfasdfasf", "group_start(1i)"=>"2016", "group_start(2i)"=>"12", "group_start(3i)"=>"1", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"12", "archive_time(3i)"=>"1", "term"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "sfasdfasf"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.3ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (5.2ms)
  Rendered groups/new.html.haml within layouts/application (6.4ms)
Completed 200 OK in 55ms (Views: 48.0ms | ActiveRecord: 1.8ms)


Started GET "/terms" for ::1 at 2016-12-01 11:33:36 +0300
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (0.3ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (2.9ms)
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.9ms)


Started GET "/terms/new" for ::1 at 2016-12-01 11:33:37 +0300
Processing by TermsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (23.2ms)
  Rendered terms/new.html.haml within layouts/application (24.6ms)
Completed 200 OK in 72ms (Views: 62.1ms | ActiveRecord: 0.7ms)


Started POST "/terms" for ::1 at 2016-12-01 11:33:52 +0300
Processing by TermsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HIgHdjqpdH6+zBLxwX1eDCQ9uAUxavtBzrP+17Amf4G4Gjjz6t1Fi8f/tvhEdZ91BNH7YdS6txC7I2DnKN7Ksg==", "term"=>{"term_name"=>"1_2017", "actual"=>"1", "term_start(1i)"=>"2016", "term_start(2i)"=>"12", "term_start(3i)"=>"1", "term_end(1i)"=>"2016", "term_end(2i)"=>"12", "term_end(3i)"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "1_2017"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2016-12-01"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2016-12-01"], ["LIMIT", 1]]
  [1m[35mSQL (17.7ms)[0m  [1m[32mINSERT INTO "terms" ("term_name", "actual", "term_start", "term_end", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["term_name", "1_2017"], ["actual", true], ["term_start", Thu, 01 Dec 2016], ["term_end", Thu, 01 Dec 2016], ["created_at", 2016-12-01 08:33:52 UTC], ["updated_at", 2016-12-01 08:33:52 UTC]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/terms/2
Completed 302 Found in 33ms (ActiveRecord: 26.6ms)


Started GET "/terms/2" for ::1 at 2016-12-01 11:33:52 +0300
Processing by TermsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering terms/show.html.haml within layouts/application
  Rendered terms/show.html.haml within layouts/application (2.7ms)
Completed 200 OK in 43ms (Views: 39.5ms | ActiveRecord: 0.5ms)


Started GET "/groups" for ::1 at 2016-12-01 11:33:58 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (2.9ms)
Completed 200 OK in 43ms (Views: 40.5ms | ActiveRecord: 0.5ms)


Started GET "/groups/new" for ::1 at 2016-12-01 11:33:59 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (5.9ms)
  Rendered groups/new.html.haml within layouts/application (7.3ms)
Completed 200 OK in 47ms (Views: 44.3ms | ActiveRecord: 0.6ms)


Started POST "/groups" for ::1 at 2016-12-01 11:34:02 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GAQcLEUGCcgnikWocQgiT7Rb2hbdBqrTvbnMypq/yCBbq7+FUNJbxpkTFsJOS08ftP48aFwf6Mxrtr+1Max5NA==", "group"=>{"group_name"=>"gdasf", "group_start(1i)"=>"2016", "group_start(2i)"=>"12", "group_start(3i)"=>"1", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"12", "archive_time(3i)"=>"1", "term"=>"2"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: term
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "gdasf"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (6.3ms)
  Rendered groups/new.html.haml within layouts/application (7.6ms)
Completed 200 OK in 49ms (Views: 44.3ms | ActiveRecord: 1.3ms)


Started GET "/study_files/new" for ::1 at 2016-12-01 11:44:28 +0300
Processing by StudyFilesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/new.html.haml within layouts/application
  Rendered study_files/_form.html.haml (6.8ms)
  Rendered study_files/new.html.haml within layouts/application (8.0ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (undefined method `study' for #<StudyFile:0x007fc6474cd208>):
    11:     = f.text_field :user
    12:   .field
    13:     = f.label :study
    14:     = f.text_field :study
    15:   .actions
    16:     = f.submit 'Save'
  
app/views/study_files/_form.html.haml:14:in `block in _app_views_study_files__form_html_haml__2836784476799079546_70244662521280'
app/views/study_files/_form.html.haml:1:in `_app_views_study_files__form_html_haml__2836784476799079546_70244662521280'
app/views/study_files/new.html.haml:3:in `_app_views_study_files_new_html_haml___860471355248002669_70244727315980'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.3ms)
Started GET "/messages/new" for ::1 at 2016-12-01 11:49:04 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (26.9ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (84.6ms)
  Rendered messages/new.html.haml within layouts/application (93.9ms)
Completed 200 OK in 174ms (Views: 101.2ms | ActiveRecord: 33.2ms)


Started POST "/messages" for ::1 at 2016-12-01 11:51:20 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QsTgGfzlanCt6dx6TiYQGt7IR9+i18B4N/rW0glzNa40zHkaEE3oDd6ij01l6VS4Iy5QmsvxojtSDmtT/O4yCw==", "message"=>{"message_content"=>"иярапявап", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"1", "send(4i)"=>"08", "send(5i)"=>"49", "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms)


  
ActiveRecord::MultiparameterAssignmentErrors (1 error(s) on assignment of multiparameter attributes [error on assignment [2016, 12, 1, 8, 49] to send (wrong number of arguments (given 2, expected 0))]):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.3ms)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started GET "/messages" for ::1 at 2016-12-06 18:47:52 +0300
  [1m[36mActiveRecord::SchemaMigration Load (23.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MessagesController#index as HTML
  [1m[36mUser Load (45.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "qsBENMBTos6yCHWPA1HD"], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (12.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (19.1ms)
Completed 200 OK in 1199ms (Views: 848.9ms | ActiveRecord: 223.1ms)


Started GET "/messages/new" for ::1 at 2016-12-06 18:47:56 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (20.7ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (467.2ms)
  Rendered messages/new.html.haml within layouts/application (468.5ms)
Completed 200 OK in 523ms (Views: 479.1ms | ActiveRecord: 24.6ms)


Started POST "/messages" for ::1 at 2016-12-06 18:48:28 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A+9oiL2TutxgXuDPdfZucrEe1SlEH81TGV9e5R86lMD9de9+eOXrq2jGLtnW/3vUumeefAvAhnLsPMqaMtxlBQ==", "message"=>{"message_content"=>"схема", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"47", "message"=>#<ActionDispatch::Http::UploadedFile:0x007f295635c3d0 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-2762-3954d6.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.2ms)
Started POST "/messages" for ::1 at 2016-12-06 18:51:06 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A+9oiL2TutxgXuDPdfZucrEe1SlEH81TGV9e5R86lMD9de9+eOXrq2jGLtnW/3vUumeefAvAhnLsPMqaMtxlBQ==", "message"=>{"message_content"=>"схема", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"47", "message"=>#<ActionDispatch::Http::UploadedFile:0x007f29604f0e80 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-2762-pm3re2.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 33ms (ActiveRecord: 2.5ms)


  
RuntimeError (<ActionController::Parameters {"message_content"=>"схема", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"47", "message"=>#<ActionDispatch::Http::UploadedFile:0x007f29604f0e80 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-2762-pm3re2.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">} permitted: true>):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.5ms)
Started POST "/messages" for ::1 at 2016-12-06 18:51:48 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A+9oiL2TutxgXuDPdfZucrEe1SlEH81TGV9e5R86lMD9de9+eOXrq2jGLtnW/3vUumeefAvAhnLsPMqaMtxlBQ==", "message"=>{"message_content"=>"схема", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"47", "message"=>#<ActionDispatch::Http::UploadedFile:0x0055c8d39ddc98 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-2762-16dglpm.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 44ms (ActiveRecord: 4.7ms)


  
RuntimeError (#<Message id: nil, message_content: nil, send: nil, message_file_name: nil, message_content_type: nil, message_file_size: nil, message_updated_at: nil, message_list_id: nil, sender_id: nil, created_at: nil, updated_at: nil>):
  
app/controllers/messages_controller.rb:27:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (1.9ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.6ms)
Started POST "/messages" for ::1 at 2016-12-06 18:52:17 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A+9oiL2TutxgXuDPdfZucrEe1SlEH81TGV9e5R86lMD9de9+eOXrq2jGLtnW/3vUumeefAvAhnLsPMqaMtxlBQ==", "message"=>{"message_content"=>"схема", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"47", "message"=>#<ActionDispatch::Http::UploadedFile:0x007f2955ca1ce8 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-2762-ix5ma1.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 46ms (ActiveRecord: 5.2ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/messages_controller.rb:28:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (17.0ms)
Started POST "/messages" for ::1 at 2016-12-06 18:53:25 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A+9oiL2TutxgXuDPdfZucrEe1SlEH81TGV9e5R86lMD9de9+eOXrq2jGLtnW/3vUumeefAvAhnLsPMqaMtxlBQ==", "message"=>{"message_content"=>"схема", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"47", "message"=>#<ActionDispatch::Http::UploadedFile:0x0055c8d3986970 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-2762-ov8bos.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 40ms (ActiveRecord: 4.2ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/messages_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.6ms)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started POST "/messages" for ::1 at 2016-12-06 18:57:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A+9oiL2TutxgXuDPdfZucrEe1SlEH81TGV9e5R86lMD9de9+eOXrq2jGLtnW/3vUumeefAvAhnLsPMqaMtxlBQ==", "message"=>{"message_content"=>"схема", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"47", "message"=>#<ActionDispatch::Http::UploadedFile:0x005653b01fec80 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-3181-1iqdeqb.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 58ms (ActiveRecord: 3.0ms)


  
ArgumentError (Unknown validator: 'FileNameValidator'):
  
app/models/message.rb:12:in `<class:Message>'
app/models/message.rb:1:in `<top (required)>'
app/controllers/messages_controller.rb:28:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.6ms)
Started POST "/messages" for ::1 at 2016-12-06 18:57:55 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A+9oiL2TutxgXuDPdfZucrEe1SlEH81TGV9e5R86lMD9de9+eOXrq2jGLtnW/3vUumeefAvAhnLsPMqaMtxlBQ==", "message"=>{"message_content"=>"схема", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"47", "message"=>#<ActionDispatch::Http::UploadedFile:0x005653afafbaf0 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-3181-1quslui.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 46ms (ActiveRecord: 3.8ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/messages_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.4ms)
Started GET "/messages/new" for ::1 at 2016-12-06 18:58:00 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (230.7ms)
  Rendered messages/new.html.haml within layouts/application (232.3ms)
Completed 200 OK in 1352ms (Views: 1347.1ms | ActiveRecord: 2.6ms)


Started POST "/messages" for ::1 at 2016-12-06 18:58:10 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"seWo8OWtR/tZInpIVmsY9HXu99Abo8iiyASbyfsUobOA6KQpOXsA4s+ksJvby+JARdzZpcVpcxcVJRb3MZ3LWw==", "message"=>{"message_content"=>"sdFF", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"58", "message"=>#<ActionDispatch::Http::UploadedFile:0x007f4b180c6c90 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-3181-lzmudt.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/messages_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.2ms)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started POST "/messages" for ::1 at 2016-12-06 19:01:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"seWo8OWtR/tZInpIVmsY9HXu99Abo8iiyASbyfsUobOA6KQpOXsA4s+ksJvby+JARdzZpcVpcxcVJRb3MZ3LWw==", "message"=>{"message_content"=>"sdFF", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"58", "message"=>#<ActionDispatch::Http::UploadedFile:0x00561ded051a20 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-3576-1i0avbe.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Completed 500 Internal Server Error in 64ms (ActiveRecord: 5.1ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/messages_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.4ms)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageUsers (20161129151323)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (220.7ms)[0m  [1m[35mDROP TABLE "message_users"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129151323"]]
  [1m[35m (14.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129151016"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161129144845)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "study_files"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129144845"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.3ms)[0m  [1m[35mALTER TABLE "users" DROP "sex"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "user_description"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "birthday"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "last_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "second_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "first_name"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129093407"]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "notices"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123322"]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "disciplines_institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123254"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122438"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_contents"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127100306"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "marks"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092556"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "community_tabs"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092344"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_sections"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092249"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "communities_disciplines"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091641"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091616"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "communities"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091553"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "discipline_sections"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091514"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "disciplines"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090724"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.6ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (19.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (300.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (69.7ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (14.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (69.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (14.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (47.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (25.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (73.2ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying, "actual" boolean, "term_start" date, "term_end" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (87.9ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying, "full_name" character varying, "role_name_eng" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.9ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer, "role_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (39.9ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (67.7ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (76.0ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying, "group_start" date, "archive_time" date, "term_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (11.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (98.9ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying, "template" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.7ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying, "discipline_type" integer, "discipline_end" integer, "term_id" integer, "ranking_algorithm_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (53.5ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (89.3ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "weight" integer, "min_score" integer, "max_score" integer, "require_type" integer, "attenuation_constant" float, "optimal_time" date, "limit_time" date, "discipline_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (30.7ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (98.0ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying, "community_visibility" integer, "archive" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (46.5ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer, "user_id" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (42.3ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (45.4ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (113.1ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying, "section_type" integer, "section_position" integer, "community_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (42.7ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (80.9ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer, "tab_name" character varying, "tab_position" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (65.3ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (309.8ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer, "report" date, "discipline_section_id" integer, "student_id" integer, "teacher_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (36.6ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (32.5ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (14.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (73.5ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer, "content_body" text, "content_visibility" integer, "show" timestamp, "community_tab_id" integer, "creator_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (46.5ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (39.5ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (24.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (118.6ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (141.5ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying, "short_instituton_name" character varying, "address" character varying, "phone_number" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (109.8ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (53.6ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (20.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (44.0ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer, "user_id" integer, "community_section_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (64.3ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (34.3ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129093407"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161129144845)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (80.7ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer, "study_file_name" character varying, "study_content_type" character varying, "study_file_size" integer, "study_updated_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (50.1ms)[0m  [1m[35mCREATE  INDEX  "index_study_files_on_user_id" ON "study_files"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129144845"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (70.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text, "send_time" timestamp, "message_file_name" character varying, "message_content_type" character varying, "message_file_size" integer, "message_updated_at" timestamp, "message_list_id" integer, "sender_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_message_list_id" ON "messages"  ("message_list_id")[0m
  [1m[35m (43.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_id" ON "messages"  ("sender_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129151016"]]
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161129151323)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (60.2ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer, "message_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129151323"]]
  [1m[35m (15.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (11.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started POST "/messages" for ::1 at 2016-12-06 19:06:29 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"seWo8OWtR/tZInpIVmsY9HXu99Abo8iiyASbyfsUobOA6KQpOXsA4s+ksJvby+JARdzZpcVpcxcVJRb3MZ3LWw==", "message"=>{"message_content"=>"sdFF", "send(1i)"=>"2016", "send(2i)"=>"12", "send(3i)"=>"6", "send(4i)"=>"15", "send(5i)"=>"58", "message"=>#<ActionDispatch::Http::UploadedFile:0x007faa284aea00 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-3818-6gpgu7.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "qsBENMBTos6yCHWPA1HD"], ["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 55ms (ActiveRecord: 4.3ms)


Started GET "/login" for ::1 at 2016-12-06 19:06:29 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.1ms)
  Rendered user_sessions/new.html.haml within layouts/application (4.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "qsBENMBTos6yCHWPA1HD"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 227.3ms | ActiveRecord: 0.6ms)


Started GET "/users/new" for ::1 at 2016-12-06 19:06:49 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (201.1ms)
  Rendered users/new.html.haml within layouts/application (202.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "qsBENMBTos6yCHWPA1HD"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 239.7ms | ActiveRecord: 1.2ms)


Started POST "/users" for ::1 at 2016-12-06 19:07:05 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4CU9iHe30tjzWuGd3ya8QK1+YbyHRFxtkEmHaaj27jeVXbmVgMyB7pVO8Io2cFnbgi0eBLIVop9A7/7+I1RNcw==", "user"=>{"last_name"=>"dgbdrg", "first_name"=>"zdgzdg", "second_name"=>"zdgdfg", "birthday(1i)"=>"2016", "birthday(2i)"=>"12", "birthday(3i)"=>"6", "sex"=>"м", "user_description"=>"sfDF", "email"=>"test@mail.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@mail.ru"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "activation_state", "activation_token", "first_name", "second_name", "last_name", "birthday", "user_description", "sex") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "test@mail.ru"], ["crypted_password", "$2a$10$SfE65gcEAAVB2IYEqwrEGeexi1LWAqXaEFJOKirc29EBzNfj.cT8m"], ["salt", "9M2xLnBry17Q8czNs4Gj"], ["created_at", 2016-12-06 16:07:05 UTC], ["updated_at", 2016-12-06 16:07:05 UTC], ["activation_state", "pending"], ["activation_token", "Bd5v9V4sbDziycaFWjQr"], ["first_name", "zdgzdg"], ["second_name", "zdgdfg"], ["last_name", "dgbdrg"], ["birthday", Tue, 06 Dec 2016], ["user_description", "sfDF"], ["sex", "м"]]
  Rendering user_mailer/activation_needed_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_needed_email.text.haml within layouts/mailer (0.9ms)
UserMailer#activation_needed_email: processed outbound mail in 167.4ms
Sent mail to test@mail.ru (5.6ms)
Date: Tue, 06 Dec 2016 19:07:06 +0300
From: from@example.com
To: test@mail.ru
Message-ID: <5846e22a12e38_eea2acdc67cd044237be@localhost.localdomain.mail>
Subject: Welcome to My Awesome Site
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Welcome to example.com,
test@mail.ru
=============================================
You have successfully signed up to example.com,
your username is:
test@mail.ru.
To login to the site, just follow this link:
http://0.0.0.0:3000/users/Bd5v9V4sbDziycaFWjQr/activate.
Thanks for joining and have a great day!


  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 337ms (ActiveRecord: 24.8ms)


Started GET "/users" for ::1 at 2016-12-06 19:07:06 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 43ms (Views: 41.2ms | ActiveRecord: 1.0ms)


Started GET "/users/Bd5v9V4sbDziycaFWjQr/activate" for ::1 at 2016-12-06 19:07:30 +0300
Processing by UsersController#activate as HTML
  Parameters: {"id"=>"Bd5v9V4sbDziycaFWjQr"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."activation_token" = 'Bd5v9V4sbDziycaFWjQr' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_mailer/activation_success_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_success_email.text.haml within layouts/mailer (0.8ms)
UserMailer#activation_success_email: processed outbound mail in 7.4ms
Sent mail to test@mail.ru (1.6ms)
Date: Tue, 06 Dec 2016 19:07:30 +0300
From: from@example.com
To: test@mail.ru
Message-ID: <5846e242d1990_eea2acdc67cd1c023863@localhost.localdomain.mail>
Subject: Your account is now activated
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Congratz,
test@mail.ru
=============================================
You have successfully activated your example.com account,
your username is:
test@mail.ru.
To login to the site, just follow this link:
http://0.0.0.0:3000/login.
Thanks for joining and have a great day!


  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "activation_token" = $1, "activation_state" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["activation_token", nil], ["activation_state", "active"], ["updated_at", 2016-12-06 16:07:30 UTC], ["id", 1]]
  [1m[35m (25.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/login
Completed 302 Found in 42ms (ActiveRecord: 26.8ms)


Started GET "/login" for ::1 at 2016-12-06 19:07:30 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.5ms)
  Rendered user_sessions/new.html.haml within layouts/application (2.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 40ms (Views: 37.9ms | ActiveRecord: 0.7ms)


Started POST "/user_sessions" for ::1 at 2016-12-06 19:07:34 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qhB84hb9z+Vm4vVR6F0nrw1VBBmTAr9dRe+sWl9YQl+bHXA7yiuI/PBkP4Jl/d0bPWcqbE3IBOiYziFkldEotw==", "email"=>"test@mail.ru", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'test@mail.ru' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (11.3ms)[0m  [1m[33mUPDATE "users" SET "remember_me_token" = 'J1tHMg1kwphc8bjpAnyU', "remember_me_token_expires_at" = '2016-12-20 16:07:35.103124' WHERE "users"."id" = $1[0m  [["id", 1]]
Redirected to http://localhost:3000/users
Completed 302 Found in 133ms (ActiveRecord: 11.7ms)


Started GET "/users" for ::1 at 2016-12-06 19:07:35 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 41ms (Views: 39.2ms | ActiveRecord: 0.7ms)


Started GET "/messages" for ::1 at 2016-12-06 19:07:41 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (4.7ms)
Completed 200 OK in 55ms (Views: 45.7ms | ActiveRecord: 2.0ms)


Started GET "/messages/new" for ::1 at 2016-12-06 19:07:43 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.4ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (16.4ms)
  Rendered messages/new.html.haml within layouts/application (17.8ms)
Completed 200 OK in 61ms (Views: 51.5ms | ActiveRecord: 2.9ms)


Started POST "/messages" for ::1 at 2016-12-06 19:08:14 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sDamFC4Fu0RTpcE3+CoAC1m1rI19ELH5a7SmUWunTB5OrCHi63PqM1s9DyFbIxWtUszn2DLP+tie1zIuRkG92w==", "message"=>{"message_content"=>"dgzsdgd", "send_time(1i)"=>"2016", "send_time(2i)"=>"12", "send_time(3i)"=>"6", "send_time(4i)"=>"16", "send_time(5i)"=>"07", "message"=>#<ActionDispatch::Http::UploadedFile:0x007faa0cf72cc8 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-3818-1gfcw3i.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.3ms)


  
ArgumentError (You need to supply at least one validation):
  
app/models/message.rb:7:in `<class:Message>'
app/models/message.rb:1:in `<top (required)>'
app/controllers/messages_controller.rb:28:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.0ms)
Started POST "/messages" for ::1 at 2016-12-06 19:08:28 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sDamFC4Fu0RTpcE3+CoAC1m1rI19ELH5a7SmUWunTB5OrCHi63PqM1s9DyFbIxWtUszn2DLP+tie1zIuRkG92w==", "message"=>{"message_content"=>"dgzsdgd", "send_time(1i)"=>"2016", "send_time(2i)"=>"12", "send_time(3i)"=>"6", "send_time(4i)"=>"16", "send_time(5i)"=>"07", "message"=>#<ActionDispatch::Http::UploadedFile:0x00559b8aaea670 @tempfile=#<Tempfile:/tmp/RackMultipart20161206-3818-mu6o3z.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: sender
Command :: file -b --mime '/tmp/a23d5bd6367d8840301784426dde028a20161206-3818-1vbkj0s.docx'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/a23d5bd6367d8840301784426dde028a20161206-3818-4gm2p.docx'
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("message_content", "send_time", "message_file_name", "message_content_type", "message_file_size", "message_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["message_content", "dgzsdgd"], ["send_time", 2016-12-06 16:07:00 UTC], ["message_file_name", "Схема_БД.docx"], ["message_content_type", "application/zip"], ["message_file_size", 12656], ["message_updated_at", 2016-12-06 16:08:28 UTC], ["created_at", 2016-12-06 16:08:28 UTC], ["updated_at", 2016-12-06 16:08:28 UTC]]
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/messages/1
Completed 302 Found in 154ms (ActiveRecord: 24.1ms)


Started GET "/messages/1" for ::1 at 2016-12-06 19:08:29 +0300
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/show.html.haml within layouts/application
  Rendered messages/show.html.haml within layouts/application (6.1ms)
Completed 200 OK in 46ms (Views: 43.1ms | ActiveRecord: 0.7ms)


Started GET "/messages/1" for ::1 at 2016-12-06 19:15:37 +0300
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/show.html.haml within layouts/application
  Rendered messages/show.html.haml within layouts/application (6.8ms)
Completed 200 OK in 90ms (Views: 54.3ms | ActiveRecord: 0.5ms)


Started GET "/messages/" for ::1 at 2016-12-06 19:15:41 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (3.9ms)
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 0.6ms)


Started GET "/messages/1/edit" for ::1 at 2016-12-06 19:15:44 +0300
Processing by MessagesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/edit.html.haml within layouts/application
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (9.0ms)
  Rendered messages/edit.html.haml within layouts/application (10.5ms)
Completed 200 OK in 50ms (Views: 45.5ms | ActiveRecord: 2.4ms)


Started GET "/messages/1/show_file" for ::1 at 2016-12-06 19:15:46 +0300
Processing by MessagesController#show_file as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Sent file /home/alexandra/diploma/base_app5/storage/messages/messages/000/000/001/original/Схема_БД.docx (0.1ms)
Completed 200 OK in 3ms (ActiveRecord: 0.8ms)


Started GET "/messages/1/show_file" for ::1 at 2016-12-06 19:15:46 +0300
Processing by MessagesController#show_file as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Sent file /home/alexandra/diploma/base_app5/storage/messages/messages/000/000/001/original/Схема_БД.docx (0.1ms)
Completed 200 OK in 3ms (ActiveRecord: 0.5ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started GET "/groups" for ::1 at 2016-12-08 18:51:45 +0300
  [1m[36mActiveRecord::SchemaMigration Load (10.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by GroupsController#index as HTML
  [1m[36mUser Load (76.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "J1tHMg1kwphc8bjpAnyU"], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (13.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (20.2ms)
Completed 200 OK in 1613ms (Views: 1204.5ms | ActiveRecord: 265.6ms)


Started GET "/terms" for ::1 at 2016-12-08 18:51:54 +0300
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (7.0ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (11.4ms)
Completed 200 OK in 103ms (Views: 55.1ms | ActiveRecord: 8.2ms)


Started GET "/terms/new" for ::1 at 2016-12-08 18:51:55 +0300
Processing by TermsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (413.8ms)
  Rendered terms/new.html.haml within layouts/application (419.1ms)
Completed 200 OK in 748ms (Views: 454.3ms | ActiveRecord: 1.2ms)


Started POST "/terms" for ::1 at 2016-12-08 18:55:08 +0300
Processing by TermsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jn2hPVEvb6KM/GIL+J5/kRi+gHiVEs5hTV/jf/LdU6wfSHGqZ4AOvyG9AxkNRNx8tP9U6L4rnBh5NeLbHvTYQQ==", "term"=>{"term_name"=>"осень 2016", "actual"=>"1", "term_start(1i)"=>"2016", "term_start(2i)"=>"9", "term_start(3i)"=>"1", "term_end(1i)"=>"2016", "term_end(2i)"=>"12", "term_end(3i)"=>"30"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "осень 2016"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2016-09-01"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2016-12-30"], ["LIMIT", 1]]
  [1m[35mSQL (28.2ms)[0m  [1m[32mINSERT INTO "terms" ("term_name", "actual", "term_start", "term_end", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["term_name", "осень 2016"], ["actual", true], ["term_start", Thu, 01 Sep 2016], ["term_end", Fri, 30 Dec 2016], ["created_at", 2016-12-08 15:55:08 UTC], ["updated_at", 2016-12-08 15:55:08 UTC]]
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/terms/1
Completed 302 Found in 116ms (ActiveRecord: 49.8ms)


Started GET "/terms/1" for ::1 at 2016-12-08 18:55:08 +0300
Processing by TermsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTerm Load (0.3ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/show.html.haml within layouts/application
  Rendered terms/show.html.haml within layouts/application (1.5ms)
Completed 200 OK in 54ms (Views: 36.9ms | ActiveRecord: 0.6ms)


Started GET "/terms" for ::1 at 2016-12-08 18:55:12 +0300
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (2.7ms)
Completed 200 OK in 41ms (Views: 38.8ms | ActiveRecord: 0.5ms)


Started GET "/terms/new" for ::1 at 2016-12-08 18:55:13 +0300
Processing by TermsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (6.8ms)
  Rendered terms/new.html.haml within layouts/application (8.5ms)
Completed 200 OK in 50ms (Views: 47.2ms | ActiveRecord: 0.3ms)


Started POST "/terms" for ::1 at 2016-12-08 18:55:26 +0300
Processing by TermsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GQ/0hAkwct7gWGzXsr/dxJktvDjZAZliRVim4xiiUgyIOiQTP58Tw00ZDcVHZX4pNWxoqPI4yxtxMqdH9IvZ4Q==", "term"=>{"term_name"=>"весна 2017", "actual"=>"0", "term_start(1i)"=>"2017", "term_start(2i)"=>"1", "term_start(3i)"=>"1", "term_end(1i)"=>"2016", "term_end(2i)"=>"12", "term_end(3i)"=>"8"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "весна 2017"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2017-01-01"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2016-12-08"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (5.9ms)
  Rendered terms/new.html.haml within layouts/application (7.3ms)
Completed 200 OK in 64ms (Views: 58.2ms | ActiveRecord: 0.9ms)


Started POST "/terms" for ::1 at 2016-12-08 18:56:32 +0300
Processing by TermsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"d13bbSLwtWZhgqTLGADLJj5+DCtZ9aNFDT9OjOK8JD97cWwLlnkAe6nQO4zy9Pjw014gU16y5TBR3xZoxMeDVA==", "term"=>{"term_name"=>"весна 2017", "actual"=>"0", "term_start(1i)"=>"2017", "term_start(2i)"=>"1", "term_start(3i)"=>"1", "term_end(1i)"=>"2017", "term_end(2i)"=>"6", "term_end(3i)"=>"30"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "весна 2017"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2017-01-01"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2017-06-30"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (5.7ms)
  Rendered terms/new.html.haml within layouts/application (7.6ms)
Completed 200 OK in 54ms (Views: 47.3ms | ActiveRecord: 1.1ms)


Started GET "/terms" for ::1 at 2016-12-08 18:59:20 +0300
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (2.5ms)
Completed 200 OK in 41ms (Views: 38.7ms | ActiveRecord: 0.5ms)


Started GET "/terms/new" for ::1 at 2016-12-08 18:59:21 +0300
Processing by TermsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (4.5ms)
  Rendered terms/new.html.haml within layouts/application (5.8ms)
Completed 200 OK in 46ms (Views: 43.8ms | ActiveRecord: 0.6ms)


Started POST "/terms" for ::1 at 2016-12-08 18:59:28 +0300
Processing by TermsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"70iWQqv2/6mK66N95BhZ/kr4Va474vv0tnLpm7m5PNV+fUbVnVmetCeqwm8RwvoT5rmBPhDbqY2CGOg/VZC3OA==", "term"=>{"term_name"=>"fsaff", "actual"=>"0", "term_start(1i)"=>"2016", "term_start(2i)"=>"12", "term_start(3i)"=>"8", "term_end(1i)"=>"2016", "term_end(2i)"=>"12", "term_end(3i)"=>"17"}, "commit"=>"Save"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "fsaff"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2016-12-08"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2016-12-17"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (5.9ms)
  Rendered terms/new.html.haml within layouts/application (7.9ms)
Completed 200 OK in 59ms (Views: 51.6ms | ActiveRecord: 1.6ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (38.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started GET "/terms" for ::1 at 2016-12-08 18:59:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (11.5ms)
Completed 200 OK in 278ms (Views: 219.1ms | ActiveRecord: 5.8ms)


Started GET "/terms/new" for ::1 at 2016-12-08 18:59:55 +0300
Processing by TermsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (200.8ms)
  Rendered terms/new.html.haml within layouts/application (202.2ms)
Completed 200 OK in 238ms (Views: 235.5ms | ActiveRecord: 0.3ms)


Started POST "/terms" for ::1 at 2016-12-08 18:59:59 +0300
Processing by TermsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RqnogUhucvBKKuWG11PlBk18owwg28EA+7ox5r8EbNLXnDgWfsET7edrhJQiiUbr4T13nAvik3nP0DBCUy3nPw==", "term"=>{"term_name"=>"fsf", "actual"=>"0", "term_start(1i)"=>"2016", "term_start(2i)"=>"12", "term_start(3i)"=>"8", "term_end(1i)"=>"2016", "term_end(2i)"=>"12", "term_end(3i)"=>"13"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "fsf"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2016-12-08"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2016-12-13"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (4.4ms)
  Rendered terms/new.html.haml within layouts/application (5.7ms)
Completed 200 OK in 51ms (Views: 40.9ms | ActiveRecord: 1.1ms)


Started GET "/terms" for ::1 at 2016-12-08 19:00:26 +0300
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (0.3ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (8.1ms)
Completed 200 OK in 71ms (Views: 39.4ms | ActiveRecord: 4.8ms)


Started GET "/terms/new" for ::1 at 2016-12-08 19:00:27 +0300
Processing by TermsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/new.html.haml within layouts/application
  Rendered terms/_form.html.haml (4.9ms)
  Rendered terms/new.html.haml within layouts/application (6.2ms)
Completed 200 OK in 57ms (Views: 55.3ms | ActiveRecord: 0.3ms)


Started POST "/terms" for ::1 at 2016-12-08 19:00:58 +0300
Processing by TermsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JZZJlBWw1Qc0azG4CIfGxkLPNKKRdBUnpGTRcVgXT+m0o5kDIx+0GpkqUKr9XWUr7o7gMrpNR16QDtDVtD7EBA==", "term"=>{"term_name"=>"весна 2017", "actual"=>"0", "term_start(1i)"=>"2017", "term_start(2i)"=>"1", "term_start(3i)"=>"1", "term_end(1i)"=>"2017", "term_end(2i)"=>"6", "term_end(3i)"=>"30"}, "commit"=>"Save"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTerm Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_name" = $1 LIMIT $2[0m  [["term_name", "весна 2017"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_start" = $1 LIMIT $2[0m  [["term_start", "2017-01-01"], ["LIMIT", 1]]
  [1m[36mTerm Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "terms" WHERE "terms"."term_end" = $1 LIMIT $2[0m  [["term_end", "2017-06-30"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "terms" ("term_name", "actual", "term_start", "term_end", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["term_name", "весна 2017"], ["actual", false], ["term_start", Sun, 01 Jan 2017], ["term_end", Fri, 30 Jun 2017], ["created_at", 2016-12-08 16:00:58 UTC], ["updated_at", 2016-12-08 16:00:58 UTC]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/terms/2
Completed 302 Found in 21ms (ActiveRecord: 14.8ms)


Started GET "/terms/2" for ::1 at 2016-12-08 19:00:58 +0300
Processing by TermsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering terms/show.html.haml within layouts/application
  Rendered terms/show.html.haml within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 40.1ms | ActiveRecord: 1.0ms)


Started GET "/terms" for ::1 at 2016-12-08 19:01:04 +0300
Processing by TermsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering terms/index.html.haml within layouts/application
  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered terms/index.html.haml within layouts/application (3.5ms)
Completed 200 OK in 44ms (Views: 41.5ms | ActiveRecord: 1.0ms)


Started GET "/groups" for ::1 at 2016-12-08 19:07:06 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (0.3ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  Rendered groups/index.html.haml within layouts/application (3.6ms)
Completed 200 OK in 74ms (Views: 42.7ms | ActiveRecord: 1.3ms)


Started GET "/groups/new" for ::1 at 2016-12-08 19:07:08 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (24.3ms)
  Rendered groups/new.html.haml within layouts/application (25.7ms)
Completed 200 OK in 66ms (Views: 57.3ms | ActiveRecord: 4.0ms)


Started POST "/groups" for ::1 at 2016-12-08 19:07:23 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rUjhpD3y/OvcxbR8M2LaeWW4qQPn7Qt9EVbtPADWGQdQJ7WJctHecCyEXWypEUeZf4WTXCDdem+0tvWE+iQSAQ==", "group"=>{"group_name"=>"Б13-510", "group_start(1i)"=>"2016", "group_start(2i)"=>"12", "group_start(3i)"=>"8", "archive_time(1i)"=>"2016", "archive_time(2i)"=>"9", "archive_time(3i)"=>"8", "term_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "Б13-510"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (16.5ms)
  Rendered groups/new.html.haml within layouts/application (17.6ms)
Completed 200 OK in 59ms (Views: 53.0ms | ActiveRecord: 1.2ms)


Started POST "/groups" for ::1 at 2016-12-08 19:07:44 +0300
Processing by GroupsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4oSZ9gmazjh+PSlE4miYUzXty7LbYbfnV8jHjKhVFjvuqC6QvRN7JbZvtgMInKuF2M3nytwm8ZILKJ9oji6xUA==", "group"=>{"group_name"=>"Б13-510", "group_start(1i)"=>"2016", "group_start(2i)"=>"9", "group_start(3i)"=>"1", "archive_time(1i)"=>"2017", "archive_time(2i)"=>"1", "archive_time(3i)"=>"31", "term_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mGroup Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "groups" WHERE "groups"."group_name" = $1 LIMIT $2[0m  [["group_name", "Б13-510"], ["LIMIT", 1]]
  [1m[35mSQL (24.1ms)[0m  [1m[32mINSERT INTO "groups" ("group_name", "group_start", "archive_time", "term_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["group_name", "Б13-510"], ["group_start", Thu, 01 Sep 2016], ["archive_time", Tue, 31 Jan 2017], ["term_id", 1], ["created_at", 2016-12-08 16:07:44 UTC], ["updated_at", 2016-12-08 16:07:44 UTC]]
  [1m[35m (42.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/groups/1
Completed 302 Found in 71ms (ActiveRecord: 67.0ms)


Started GET "/groups/1" for ::1 at 2016-12-08 19:07:45 +0300
Processing by GroupsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mGroup Load (0.2ms)[0m  [1m[34mSELECT  "groups".* FROM "groups" WHERE "groups"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/show.html.haml within layouts/application
  [1m[36mTerm Load (0.3ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered groups/show.html.haml within layouts/application (24.9ms)
Completed 200 OK in 66ms (Views: 62.2ms | ActiveRecord: 1.2ms)


Started GET "/groups" for ::1 at 2016-12-08 19:07:47 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (0.3ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered groups/index.html.haml within layouts/application (4.1ms)
Completed 200 OK in 45ms (Views: 42.3ms | ActiveRecord: 0.7ms)


Started GET "/groups" for ::1 at 2016-12-08 19:08:16 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (0.3ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered groups/index.html.haml within layouts/application (4.0ms)
Completed 200 OK in 43ms (Views: 40.4ms | ActiveRecord: 0.8ms)


Started GET "/users" for ::1 at 2016-12-08 19:08:28 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 53ms (Views: 50.7ms | ActiveRecord: 0.6ms)


Started GET "/users/new" for ::1 at 2016-12-08 19:08:45 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (14.8ms)
  Rendered users/new.html.haml within layouts/application (16.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 54ms (Views: 53.1ms | ActiveRecord: 0.2ms)


Started POST "/users" for ::1 at 2016-12-08 19:14:02 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EvUclDBaMRIC9PD6XVBW+w1bTUVBvXjbI/fY+tIiOcn+dxaJ0XSys60Ux3EOPPL7APOenkecjz02ScxdDaKruA==", "user"=>{"last_name"=>"sadsd", "first_name"=>"dasd", "second_name"=>"asasd", "birthday(1i)"=>"2016", "birthday(2i)"=>"12", "birthday(3i)"=>"8", "sex"=>"м", "user_description"=>"asddddddddddddddddddddddddddasdsafnnnnnnnnnnnns.jdsfjdnjksnkn.kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkdfsaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaassssdassssssssssssssssss", "email"=>"sdadsdf", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sdadsdf"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (5.7ms)
  Rendered users/new.html.haml within layouts/application (7.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 116ms (Views: 45.0ms | ActiveRecord: 1.1ms)


Started POST "/users" for ::1 at 2016-12-08 19:14:35 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xdTKFWC4dNIoyUamv/a2KTj/1lh+n5rAkeRLE1aGK7fJ+H1z1DHBz+Cb2eFVAoX/1d/6IHnY3LXNBBP3cP2M3A==", "user"=>{"last_name"=>"sadsd", "first_name"=>"dasd", "second_name"=>"asasd", "birthday(1i)"=>"2016", "birthday(2i)"=>"12", "birthday(3i)"=>"8", "sex"=>"м", "user_description"=>"", "email"=>"sdadsdf", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sdadsdf"], ["LIMIT", 1]]
  [1m[35mSQL (27.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "activation_state", "activation_token", "first_name", "second_name", "last_name", "birthday", "user_description", "sex") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "sdadsdf"], ["crypted_password", "$2a$10$B6cugoTuWVIAy9QPX2C2ae2YlfAwOZ9tJO7FSvc8LSvUC3AztCiUa"], ["salt", "xMLysXFhbx8YBpUbZ1NB"], ["created_at", 2016-12-08 16:14:35 UTC], ["updated_at", 2016-12-08 16:14:35 UTC], ["activation_state", "pending"], ["activation_token", "v5af8z1yw6dV1zjpz2H1"], ["first_name", "dasd"], ["second_name", "asasd"], ["last_name", "sadsd"], ["birthday", Thu, 08 Dec 2016], ["user_description", ""], ["sex", "м"]]
  Rendering user_mailer/activation_needed_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_needed_email.text.haml within layouts/mailer (0.9ms)
UserMailer#activation_needed_email: processed outbound mail in 191.8ms
Sent mail to sdadsdf (7.6ms)
Date: Thu, 08 Dec 2016 19:14:35 +0300
From: from@example.com
To: sdadsdf
Message-ID: <584986ebc9424_b7f3fd17e415b4c4654e@localhost.localdomain.mail>
Subject: Welcome to My Awesome Site
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Welcome to example.com,
sdadsdf
=============================================
You have successfully signed up to example.com,
your username is:
sdadsdf.
To login to the site, just follow this link:
http://0.0.0.0:3000/users/v5af8z1yw6dV1zjpz2H1/activate.
Thanks for joining and have a great day!


  [1m[35m (22.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 371ms (ActiveRecord: 50.4ms)


Started GET "/users" for ::1 at 2016-12-08 19:14:35 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (3.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 40ms (Views: 38.9ms | ActiveRecord: 0.6ms)


Started GET "/users/new" for ::1 at 2016-12-08 19:14:53 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (5.5ms)
  Rendered users/new.html.haml within layouts/application (6.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 62ms (Views: 39.5ms | ActiveRecord: 0.2ms)


Started POST "/users" for ::1 at 2016-12-08 19:15:03 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"96zOl1K+AxzuOhaaRW8kbjxl5OzotfWMK6y+9cSG24wbLsSKs5CAvUHaIREWA4BuMc03N+6UAmo+EqpSGwZJ/Q==", "user"=>{"last_name"=>"dsafs", "first_name"=>"dasfa", "second_name"=>"", "birthday(1i)"=>"2016", "birthday(2i)"=>"12", "birthday(3i)"=>"8", "sex"=>"м", "user_description"=>"", "email"=>"asdf", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "asdf"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (5.1ms)
  Rendered users/new.html.haml within layouts/application (6.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 118ms (Views: 50.8ms | ActiveRecord: 0.9ms)


Started GET "/roles" for ::1 at 2016-12-08 19:18:56 +0300
Processing by RolesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering roles/index.html.haml within layouts/application
  [1m[36mRole Load (8.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  Rendered roles/index.html.haml within layouts/application (11.9ms)
Completed 200 OK in 90ms (Views: 38.9ms | ActiveRecord: 9.4ms)


Started GET "/roles/new" for ::1 at 2016-12-08 19:18:58 +0300
Processing by RolesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering roles/new.html.haml within layouts/application
  Rendered roles/_form.html.haml (3.4ms)
  Rendered roles/new.html.haml within layouts/application (10.8ms)
Completed 200 OK in 243ms (Views: 48.8ms | ActiveRecord: 1.2ms)


Started POST "/roles" for ::1 at 2016-12-08 19:19:20 +0300
Processing by RolesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZgYimM/ZMj0J12KKOsnX818JTGeO6qWBexPki9AXaGfwtdFb3qhb2DWwPQr+DICbIpD9eXOOsyGHqXyMAvcxQQ==", "role"=>{"role_name"=>"студент", "full_name"=>"студент вуза", "role_name_eng"=>"student"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "roles" WHERE "roles"."role_name" = $1 LIMIT $2[0m  [["role_name", "студент"], ["LIMIT", 1]]
  [1m[36mRole Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "roles" WHERE "roles"."full_name" = $1 LIMIT $2[0m  [["full_name", "студент вуза"], ["LIMIT", 1]]
  [1m[36mRole Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "roles" WHERE "roles"."role_name_eng" = $1 LIMIT $2[0m  [["role_name_eng", "student"], ["LIMIT", 1]]
  [1m[35mSQL (20.7ms)[0m  [1m[32mINSERT INTO "roles" ("role_name", "full_name", "role_name_eng", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["role_name", "студент"], ["full_name", "студент вуза"], ["role_name_eng", "student"], ["created_at", 2016-12-08 16:19:20 UTC], ["updated_at", 2016-12-08 16:19:20 UTC]]
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/roles/1
Completed 302 Found in 41ms (ActiveRecord: 34.0ms)


Started GET "/roles/1" for ::1 at 2016-12-08 19:19:20 +0300
Processing by RolesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering roles/show.html.haml within layouts/application
  Rendered roles/show.html.haml within layouts/application (1.5ms)
Completed 200 OK in 50ms (Views: 36.2ms | ActiveRecord: 0.4ms)


Started GET "/roles" for ::1 at 2016-12-08 19:19:22 +0300
Processing by RolesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering roles/index.html.haml within layouts/application
  [1m[36mRole Load (0.4ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  Rendered roles/index.html.haml within layouts/application (3.0ms)
Completed 200 OK in 42ms (Views: 39.3ms | ActiveRecord: 0.7ms)


Started GET "/roles/new" for ::1 at 2016-12-08 19:19:23 +0300
Processing by RolesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering roles/new.html.haml within layouts/application
  Rendered roles/_form.html.haml (2.9ms)
  Rendered roles/new.html.haml within layouts/application (4.2ms)
Completed 200 OK in 53ms (Views: 50.7ms | ActiveRecord: 0.2ms)


Started POST "/roles" for ::1 at 2016-12-08 19:19:29 +0300
Processing by RolesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vTLXV0ivp1RIrYsy223ClAqsLRIqoHSRf/4u27XbLbMrgSSUWd7OsXTK1LIfqJX8dzWcDNfEYjGDRLbcZzt0lQ==", "role"=>{"role_name"=>"студент", "full_name"=>"", "role_name_eng"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRole Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "roles" WHERE "roles"."role_name" = $1 LIMIT $2[0m  [["role_name", "студент"], ["LIMIT", 1]]
  [1m[36mRole Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "roles" WHERE "roles"."full_name" = $1 LIMIT $2[0m  [["full_name", ""], ["LIMIT", 1]]
  [1m[36mRole Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "roles" WHERE "roles"."role_name_eng" = $1 LIMIT $2[0m  [["role_name_eng", ""], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering roles/new.html.haml within layouts/application
  Rendered roles/_form.html.haml (4.0ms)
  Rendered roles/new.html.haml within layouts/application (5.3ms)
Completed 200 OK in 49ms (Views: 43.3ms | ActiveRecord: 1.1ms)


Started GET "/ranking_algorithms" for ::1 at 2016-12-08 19:26:25 +0300
Processing by RankingAlgorithmsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering ranking_algorithms/index.html.haml within layouts/application
  [1m[36mRankingAlgorithm Load (10.9ms)[0m  [1m[34mSELECT "ranking_algorithms".* FROM "ranking_algorithms"[0m
  Rendered ranking_algorithms/index.html.haml within layouts/application (14.4ms)
Completed 200 OK in 87ms (Views: 38.3ms | ActiveRecord: 12.0ms)


Started GET "/ranking_algorithms/new" for ::1 at 2016-12-08 19:26:26 +0300
Processing by RankingAlgorithmsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering ranking_algorithms/new.html.haml within layouts/application
  Rendered ranking_algorithms/_form.html.haml (2.7ms)
  Rendered ranking_algorithms/new.html.haml within layouts/application (4.0ms)
Completed 200 OK in 47ms (Views: 41.1ms | ActiveRecord: 1.6ms)


Started POST "/ranking_algorithms" for ::1 at 2016-12-08 19:26:40 +0300
Processing by RankingAlgorithmsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mneholdZFccgGWhRtfZSZYH3qDHaTgFp4SP6/NaWRhA4BIfP0qh09LRGDOU7hOZfi9A8s9x1xA1CDt30u2I8lQ==", "ranking_algorithm"=>{"algorithm_name"=>"Линейный", "template"=>"=x*3"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRankingAlgorithm Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ranking_algorithms" WHERE "ranking_algorithms"."algorithm_name" = $1 LIMIT $2[0m  [["algorithm_name", "Линейный"], ["LIMIT", 1]]
  [1m[35mSQL (20.0ms)[0m  [1m[32mINSERT INTO "ranking_algorithms" ("algorithm_name", "template", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["algorithm_name", "Линейный"], ["template", "=x*3"], ["created_at", 2016-12-08 16:26:40 UTC], ["updated_at", 2016-12-08 16:26:40 UTC]]
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/ranking_algorithms/1
Completed 302 Found in 44ms (ActiveRecord: 38.3ms)


Started GET "/ranking_algorithms/1" for ::1 at 2016-12-08 19:26:40 +0300
Processing by RankingAlgorithmsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering ranking_algorithms/show.html.haml within layouts/application
  Rendered ranking_algorithms/show.html.haml within layouts/application (1.4ms)
Completed 200 OK in 53ms (Views: 50.0ms | ActiveRecord: 0.4ms)


Started GET "/ranking_algorithms" for ::1 at 2016-12-08 19:26:43 +0300
Processing by RankingAlgorithmsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering ranking_algorithms/index.html.haml within layouts/application
  [1m[36mRankingAlgorithm Load (0.3ms)[0m  [1m[34mSELECT "ranking_algorithms".* FROM "ranking_algorithms"[0m
  Rendered ranking_algorithms/index.html.haml within layouts/application (2.9ms)
Completed 200 OK in 42ms (Views: 40.0ms | ActiveRecord: 0.6ms)


Started GET "/ranking_algorithms/new" for ::1 at 2016-12-08 19:26:44 +0300
Processing by RankingAlgorithmsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering ranking_algorithms/new.html.haml within layouts/application
  Rendered ranking_algorithms/_form.html.haml (2.4ms)
  Rendered ranking_algorithms/new.html.haml within layouts/application (3.7ms)
Completed 200 OK in 41ms (Views: 39.0ms | ActiveRecord: 0.2ms)


Started POST "/ranking_algorithms" for ::1 at 2016-12-08 19:26:50 +0300
Processing by RankingAlgorithmsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Sd/8Yy+GahXfsToaziOMpMq4ULkBx/2KVFyBb/Mkfw3rrNoOqncLJkvuXq5AUTiewJ/EOwf8OO73caZnntAFiA==", "ranking_algorithm"=>{"algorithm_name"=>"Нелинейный", "template"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRankingAlgorithm Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "ranking_algorithms" WHERE "ranking_algorithms"."algorithm_name" = $1 LIMIT $2[0m  [["algorithm_name", "Нелинейный"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering ranking_algorithms/new.html.haml within layouts/application
  Rendered ranking_algorithms/_form.html.haml (2.5ms)
  Rendered ranking_algorithms/new.html.haml within layouts/application (3.7ms)
Completed 200 OK in 44ms (Views: 40.1ms | ActiveRecord: 0.8ms)


Started POST "/ranking_algorithms" for ::1 at 2016-12-08 19:26:57 +0300
Processing by RankingAlgorithmsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"V6uRVoJIHQZ91Q2eNUT6uWqLrUI8Ak2bK091YF85DhFbhyYwNsGoG7WHktnfsMlvh6uBOjtFC+53ry2EeUKpeg==", "ranking_algorithm"=>{"algorithm_name"=>"Линейный", "template"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRankingAlgorithm Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "ranking_algorithms" WHERE "ranking_algorithms"."algorithm_name" = $1 LIMIT $2[0m  [["algorithm_name", "Линейный"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering ranking_algorithms/new.html.haml within layouts/application
  Rendered ranking_algorithms/_form.html.haml (3.4ms)
  Rendered ranking_algorithms/new.html.haml within layouts/application (4.7ms)
Completed 200 OK in 51ms (Views: 46.8ms | ActiveRecord: 0.7ms)


Started GET "/disciplines" for ::1 at 2016-12-08 19:42:01 +0300
Processing by DisciplinesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/index.html.haml within layouts/application
  [1m[36mDiscipline Load (25.9ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  Rendered disciplines/index.html.haml within layouts/application (29.6ms)
Completed 200 OK in 110ms (Views: 38.5ms | ActiveRecord: 26.9ms)


Started GET "/disciplines/new" for ::1 at 2016-12-08 19:42:03 +0300
Processing by DisciplinesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/new.html.haml within layouts/application
  Rendered disciplines/_form.html.haml (22.7ms)
  Rendered disciplines/new.html.haml within layouts/application (40.4ms)
Completed 200 OK in 86ms (Views: 79.4ms | ActiveRecord: 1.4ms)


Started GET "/disciplines/new" for ::1 at 2016-12-08 19:45:47 +0300
Processing by DisciplinesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered disciplines/_form.html.haml (10.1ms)
  Rendered disciplines/new.html.haml within layouts/application (11.3ms)
Completed 200 OK in 95ms (Views: 60.1ms | ActiveRecord: 1.5ms)


Started GET "/disciplines/new" for ::1 at 2016-12-08 19:46:07 +0300
Processing by DisciplinesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT "ranking_algorithms".* FROM "ranking_algorithms"[0m
  Rendered disciplines/_form.html.haml (10.3ms)
  Rendered disciplines/new.html.haml within layouts/application (11.5ms)
Completed 200 OK in 51ms (Views: 47.4ms | ActiveRecord: 1.5ms)


Started POST "/disciplines" for ::1 at 2016-12-08 19:46:20 +0300
Processing by DisciplinesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"60G3Dq7T0SD2l2tMNSX/kgxd+l2RUar+VVVbCbN6EFrnbQBoGlpkPT7F9Avf0cxE4X3WJZYW7IsJtQPtlQG3MQ==", "discipline"=>{"discipline_name"=>"Физика", "discipline_type"=>"1", "discipline_end"=>"0", "term_id"=>"1", "ranking_algorithm_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDiscipline Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "disciplines" WHERE "disciplines"."discipline_name" = $1 AND "disciplines"."discipline_type" = $2 AND "disciplines"."discipline_end" = $3 LIMIT $4[0m  [["discipline_name", "Физика"], ["discipline_type", 1], ["discipline_end", 0], ["LIMIT", 1]]
  [1m[35mSQL (18.9ms)[0m  [1m[32mINSERT INTO "disciplines" ("discipline_name", "discipline_type", "discipline_end", "term_id", "ranking_algorithm_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["discipline_name", "Физика"], ["discipline_type", 1], ["discipline_end", 0], ["term_id", 1], ["ranking_algorithm_id", 1], ["created_at", 2016-12-08 16:46:20 UTC], ["updated_at", 2016-12-08 16:46:20 UTC]]
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/disciplines/1
Completed 302 Found in 43ms (ActiveRecord: 36.7ms)


Started GET "/disciplines/1" for ::1 at 2016-12-08 19:46:20 +0300
Processing by DisciplinesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDiscipline Load (0.2ms)[0m  [1m[34mSELECT  "disciplines".* FROM "disciplines" WHERE "disciplines"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/show.html.haml within layouts/application
  [1m[36mTerm Load (0.3ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered disciplines/show.html.haml within layouts/application (17.6ms)
Completed 200 OK in 58ms (Views: 54.8ms | ActiveRecord: 0.8ms)


Started GET "/disciplines" for ::1 at 2016-12-08 19:46:22 +0300
Processing by DisciplinesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/index.html.haml within layouts/application
  [1m[36mDiscipline Load (0.4ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered disciplines/index.html.haml within layouts/application (5.8ms)
Completed 200 OK in 46ms (Views: 43.6ms | ActiveRecord: 1.1ms)


Started GET "/disciplines" for ::1 at 2016-12-08 19:46:53 +0300
Processing by DisciplinesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/index.html.haml within layouts/application
  [1m[36mDiscipline Load (0.4ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRankingAlgorithm Load (0.1ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered disciplines/index.html.haml within layouts/application (5.4ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 1.2ms)


Started GET "/discipline_sections" for ::1 at 2016-12-08 19:53:18 +0300
Processing by DisciplineSectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.2ms)


  
ArgumentError (You need to supply at least one validation):
  
app/models/discipline_section.rb:16:in `<class:DisciplineSection>'
app/models/discipline_section.rb:1:in `<top (required)>'
app/controllers/discipline_sections_controller.rb:7:in `index'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.9ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (17.9ms)
Started GET "/discipline_sections/new" for ::1 at 2016-12-08 19:54:28 +0300
Processing by DisciplineSectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)


  
ArgumentError (You need to supply at least one validation):
  
app/models/discipline_section.rb:16:in `<class:DisciplineSection>'
app/models/discipline_section.rb:1:in `<top (required)>'
app/controllers/discipline_sections_controller.rb:17:in `new'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.9ms)
Started GET "/discipline_sections/new" for ::1 at 2016-12-08 19:54:46 +0300
Processing by DisciplineSectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.2ms)


  
ArgumentError (You need to supply at least one validation):
  
app/models/discipline_section.rb:17:in `<class:DisciplineSection>'
app/models/discipline_section.rb:1:in `<top (required)>'
app/controllers/discipline_sections_controller.rb:17:in `new'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.4ms)
Started GET "/discipline_sections/new" for ::1 at 2016-12-08 19:55:13 +0300
Processing by DisciplineSectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/new.html.haml within layouts/application
  Rendered discipline_sections/_form.html.haml (16.8ms)
  Rendered discipline_sections/new.html.haml within layouts/application (18.2ms)
Completed 200 OK in 133ms (Views: 68.7ms | ActiveRecord: 2.0ms)


Started POST "/discipline_sections" for ::1 at 2016-12-08 19:55:36 +0300
Processing by DisciplineSectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"X5TIzXpoJEn9cWtXHFz887Fr9NPzfJqsUe9wYAjZKZZTuH+rzuGRVDUj9BD2qM8lXEvYq/Q73NkNDyiELqKO/Q==", "discipline_section"=>{"section_name"=>"", "section_type"=>"", "weight"=>"", "min_score"=>"60", "max_score"=>"50", "require_type"=>"", "attenuation_constant"=>"", "optimal_time(1i)"=>"2016", "optimal_time(2i)"=>"12", "optimal_time(3i)"=>"8", "limit_time(1i)"=>"2016", "limit_time(2i)"=>"12", "limit_time(3i)"=>"8", "discipline"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: discipline
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDisciplineSection Exists (22.7ms)[0m  [1m[34mSELECT  1 AS one FROM "discipline_sections" WHERE "discipline_sections"."section_name" = $1 AND "discipline_sections"."discipline_id" IS NULL LIMIT $2[0m  [["section_name", ""], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering discipline_sections/new.html.haml within layouts/application
  Rendered discipline_sections/_form.html.haml (8.4ms)
  Rendered discipline_sections/new.html.haml within layouts/application (9.6ms)
Completed 200 OK in 76ms (Views: 45.5ms | ActiveRecord: 23.0ms)


Started POST "/discipline_sections" for ::1 at 2016-12-08 19:56:00 +0300
Processing by DisciplineSectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ek9DCYiMdtM1+VHEVvzrIYSDeTGM1/txURMdVgNiILl2Y/RvPAXDzv2rzoO8CNj3aaNVSYuQvQQN80WyJRmH0g==", "discipline_section"=>{"section_name"=>"", "section_type"=>"", "weight"=>"", "min_score"=>"60", "max_score"=>"50", "require_type"=>"", "attenuation_constant"=>"", "optimal_time(1i)"=>"2016", "optimal_time(2i)"=>"12", "optimal_time(3i)"=>"8", "limit_time(1i)"=>"2016", "limit_time(2i)"=>"12", "limit_time(3i)"=>"4", "discipline"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: discipline
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDisciplineSection Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "discipline_sections" WHERE "discipline_sections"."section_name" = $1 AND "discipline_sections"."discipline_id" IS NULL LIMIT $2[0m  [["section_name", ""], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering discipline_sections/new.html.haml within layouts/application
  Rendered discipline_sections/_form.html.haml (8.3ms)
  Rendered discipline_sections/new.html.haml within layouts/application (9.7ms)
Completed 200 OK in 55ms (Views: 47.8ms | ActiveRecord: 0.8ms)


Started GET "/discipline_sections" for ::1 at 2016-12-08 19:58:43 +0300
Processing by DisciplineSectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/index.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.2ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  Rendered discipline_sections/index.html.haml within layouts/application (3.3ms)
Completed 200 OK in 70ms (Views: 40.8ms | ActiveRecord: 0.4ms)


Started GET "/discipline_sections/new" for ::1 at 2016-12-08 19:58:45 +0300
Processing by DisciplineSectionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/new.html.haml within layouts/application
  [1m[36mDiscipline Load (0.3ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  Rendered discipline_sections/_form.html.haml (34.1ms)
  Rendered discipline_sections/new.html.haml within layouts/application (35.5ms)
Completed 200 OK in 82ms (Views: 70.8ms | ActiveRecord: 3.8ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started GET "/discipline_sections" for ::1 at 2016-12-08 21:12:04 +0300
  [1m[36mActiveRecord::SchemaMigration Load (21.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by DisciplineSectionsController#index as HTML
  [1m[36mUser Load (75.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "J1tHMg1kwphc8bjpAnyU"], ["LIMIT", 1]]
  Rendering discipline_sections/index.html.haml within layouts/application
  [1m[36mDisciplineSection Load (7.2ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  Rendered discipline_sections/index.html.haml within layouts/application (15.4ms)
Completed 200 OK in 1602ms (Views: 1200.3ms | ActiveRecord: 235.3ms)


Started GET "/discipline_sections/new" for ::1 at 2016-12-08 21:12:08 +0300
Processing by DisciplineSectionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/new.html.haml within layouts/application
  [1m[36mDiscipline Load (50.8ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  Rendered discipline_sections/_form.html.haml (453.6ms)
  Rendered discipline_sections/new.html.haml within layouts/application (463.3ms)
Completed 200 OK in 531ms (Views: 445.2ms | ActiveRecord: 54.1ms)


Started POST "/discipline_sections" for ::1 at 2016-12-08 21:12:30 +0300
Processing by DisciplineSectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rXEWC1oOw/qZoD4uICPuo9Qz9JDdIbqBUrf8Jd3ZkYQYDu4AfkXQCK3YS6bANAsFQHy9WmWlytjEdmcq9SjJSA==", "discipline_section"=>{"section_name"=>"", "section_type"=>"", "weight"=>"", "min_score"=>"", "max_score"=>"", "require_type"=>"", "attenuation_constant"=>"", "optimal_time(1i)"=>"2016", "optimal_time(2i)"=>"12", "optimal_time(3i)"=>"8", "limit_time(1i)"=>"2016", "limit_time(2i)"=>"12", "limit_time(3i)"=>"2", "discipline_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDisciplineSection Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "discipline_sections" WHERE "discipline_sections"."section_name" = $1 AND "discipline_sections"."discipline_id" = $2 LIMIT $3[0m  [["section_name", ""], ["discipline_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 54ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/discipline_section.rb:20:in `score_validator'
app/controllers/discipline_sections_controller.rb:30:in `block in create'
app/controllers/discipline_sections_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (23.4ms)
Started POST "/discipline_sections" for ::1 at 2016-12-08 21:16:55 +0300
Processing by DisciplineSectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rXEWC1oOw/qZoD4uICPuo9Qz9JDdIbqBUrf8Jd3ZkYQYDu4AfkXQCK3YS6bANAsFQHy9WmWlytjEdmcq9SjJSA==", "discipline_section"=>{"section_name"=>"", "section_type"=>"", "weight"=>"", "min_score"=>"", "max_score"=>"", "require_type"=>"", "attenuation_constant"=>"", "optimal_time(1i)"=>"2016", "optimal_time(2i)"=>"12", "optimal_time(3i)"=>"8", "limit_time(1i)"=>"2016", "limit_time(2i)"=>"12", "limit_time(3i)"=>"2", "discipline_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDisciplineSection Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "discipline_sections" WHERE "discipline_sections"."section_name" = $1 AND "discipline_sections"."discipline_id" = $2 LIMIT $3[0m  [["section_name", ""], ["discipline_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering discipline_sections/new.html.haml within layouts/application
  [1m[36mDiscipline Load (0.2ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  Rendered discipline_sections/_form.html.haml (22.1ms)
  Rendered discipline_sections/new.html.haml within layouts/application (23.4ms)
Completed 200 OK in 107ms (Views: 60.4ms | ActiveRecord: 6.6ms)


Started POST "/discipline_sections" for ::1 at 2016-12-08 21:17:03 +0300
Processing by DisciplineSectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3jGmyC8TFwATV8K0sZcYZTLf+3QTuuB6WSTZciBWEplKNIb/USw+brJ+1vFkvxRekRaxnv4gA79ViHgVvaY1cA==", "discipline_section"=>{"section_name"=>"", "section_type"=>"", "weight"=>"", "min_score"=>"", "max_score"=>"", "require_type"=>"", "attenuation_constant"=>"", "optimal_time(1i)"=>"2016", "optimal_time(2i)"=>"12", "optimal_time(3i)"=>"8", "limit_time(1i)"=>"2016", "limit_time(2i)"=>"12", "limit_time(3i)"=>"2", "discipline_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDisciplineSection Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "discipline_sections" WHERE "discipline_sections"."section_name" = $1 AND "discipline_sections"."discipline_id" = $2 LIMIT $3[0m  [["section_name", ""], ["discipline_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering discipline_sections/new.html.haml within layouts/application
  [1m[36mDiscipline Load (0.3ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  Rendered discipline_sections/_form.html.haml (10.1ms)
  Rendered discipline_sections/new.html.haml within layouts/application (11.4ms)
Completed 200 OK in 56ms (Views: 47.7ms | ActiveRecord: 1.6ms)


Started POST "/discipline_sections" for ::1 at 2016-12-08 21:17:18 +0300
Processing by DisciplineSectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ERVvtamjB2hMNNE5PqpYZrnvu62IdKT3RxtjKX4HdRCFEE+C15wuBu0dxXzrglRdGibxR2XuRzJLt8JO4/dS+Q==", "discipline_section"=>{"section_name"=>"", "section_type"=>"", "weight"=>"", "min_score"=>"78", "max_score"=>"77", "require_type"=>"", "attenuation_constant"=>"", "optimal_time(1i)"=>"2016", "optimal_time(2i)"=>"12", "optimal_time(3i)"=>"8", "limit_time(1i)"=>"2016", "limit_time(2i)"=>"12", "limit_time(3i)"=>"18", "discipline_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDisciplineSection Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "discipline_sections" WHERE "discipline_sections"."section_name" = $1 AND "discipline_sections"."discipline_id" = $2 LIMIT $3[0m  [["section_name", ""], ["discipline_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering discipline_sections/new.html.haml within layouts/application
  [1m[36mDiscipline Load (0.3ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  Rendered discipline_sections/_form.html.haml (8.7ms)
  Rendered discipline_sections/new.html.haml within layouts/application (10.0ms)
Completed 200 OK in 53ms (Views: 46.3ms | ActiveRecord: 0.9ms)


Started POST "/discipline_sections" for ::1 at 2016-12-08 21:18:04 +0300
Processing by DisciplineSectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kTH+sxJUulb2O9MBAxNgzC9TYFhaEXjQxHuSlaDxXWYFNN6EbGuTOFcSx0TWO2z3jJoqsreLmxXI1zPyPQF6jw==", "discipline_section"=>{"section_name"=>"Термодинамика", "section_type"=>"1", "weight"=>"50", "min_score"=>"16", "max_score"=>"30", "require_type"=>"1", "attenuation_constant"=>"0.8", "optimal_time(1i)"=>"2016", "optimal_time(2i)"=>"12", "optimal_time(3i)"=>"8", "limit_time(1i)"=>"2016", "limit_time(2i)"=>"12", "limit_time(3i)"=>"18", "discipline_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDisciplineSection Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "discipline_sections" WHERE "discipline_sections"."section_name" = $1 AND "discipline_sections"."discipline_id" = $2 LIMIT $3[0m  [["section_name", "Термодинамика"], ["discipline_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (33.9ms)[0m  [1m[32mINSERT INTO "discipline_sections" ("section_name", "section_type", "weight", "min_score", "max_score", "require_type", "attenuation_constant", "optimal_time", "limit_time", "discipline_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["section_name", "Термодинамика"], ["section_type", 1], ["weight", 50], ["min_score", 16], ["max_score", 30], ["require_type", 1], ["attenuation_constant", 0.8], ["optimal_time", Thu, 08 Dec 2016], ["limit_time", Sun, 18 Dec 2016], ["discipline_id", 1], ["created_at", 2016-12-08 18:18:04 UTC], ["updated_at", 2016-12-08 18:18:04 UTC]]
  [1m[35m (26.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/discipline_sections/1
Completed 302 Found in 67ms (ActiveRecord: 61.8ms)


Started GET "/discipline_sections/1" for ::1 at 2016-12-08 21:18:04 +0300
Processing by DisciplineSectionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDisciplineSection Load (0.3ms)[0m  [1m[34mSELECT  "discipline_sections".* FROM "discipline_sections" WHERE "discipline_sections"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/show.html.haml within layouts/application
  [1m[36mDiscipline Load (0.4ms)[0m  [1m[34mSELECT  "disciplines".* FROM "disciplines" WHERE "disciplines"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered discipline_sections/show.html.haml within layouts/application (31.7ms)
Completed 200 OK in 83ms (Views: 70.6ms | ActiveRecord: 1.6ms)


Started GET "/discipline_sections" for ::1 at 2016-12-08 21:18:07 +0300
Processing by DisciplineSectionsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/index.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.4ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mDiscipline Load (0.2ms)[0m  [1m[34mSELECT  "disciplines".* FROM "disciplines" WHERE "disciplines"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered discipline_sections/index.html.haml within layouts/application (7.3ms)
Completed 200 OK in 53ms (Views: 49.4ms | ActiveRecord: 1.4ms)


Started GET "/discipline_sections" for ::1 at 2016-12-08 21:18:43 +0300
Processing by DisciplineSectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/index.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.2ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mDiscipline Load (0.2ms)[0m  [1m[34mSELECT  "disciplines".* FROM "disciplines" WHERE "disciplines"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered discipline_sections/index.html.haml within layouts/application (4.4ms)
Completed 200 OK in 49ms (Views: 46.8ms | ActiveRecord: 0.8ms)


Started GET "/comminuties" for ::1 at 2016-12-08 21:30:18 +0300
  
ActionController::RoutingError (No route matches [GET] "/comminuties"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.8ms)
  Rendered collection of /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [181 times] (62.8ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (20.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (111.1ms)
Started GET "/communuties" for ::1 at 2016-12-08 21:30:22 +0300
  
ActionController::RoutingError (No route matches [GET] "/communuties"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendered collection of /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [181 times] (29.7ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (52.8ms)
Started GET "/communities" for ::1 at 2016-12-08 21:30:26 +0300
Processing by CommunitiesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering communities/index.html.haml within layouts/application
  [1m[36mCommunity Load (9.5ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered communities/index.html.haml within layouts/application (13.1ms)
Completed 200 OK in 109ms (Views: 48.9ms | ActiveRecord: 14.5ms)


Started GET "/communities/new" for ::1 at 2016-12-08 21:30:29 +0300
Processing by CommunitiesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering communities/new.html.haml within layouts/application
  Rendered communities/_form.html.haml (3.6ms)
  Rendered communities/new.html.haml within layouts/application (34.3ms)
Completed 200 OK in 322ms (Views: 71.8ms | ActiveRecord: 2.2ms)


Started POST "/communities" for ::1 at 2016-12-08 21:31:07 +0300
Processing by CommunitiesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Z1cWPHenv81+67mITgzgKSjRNR7VVN2GSpBPPxxmBvIXNuASsxkeM00Vbc8V7f40LpZ5MT8zFGMox18Fl1hOog==", "community"=>{"community_name"=>"Физика", "community_visibility"=>"1", "archive"=>"0"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCommunity Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "communities" WHERE "communities"."community_name" = $1 LIMIT $2[0m  [["community_name", "Физика"], ["LIMIT", 1]]
  [1m[35mSQL (23.4ms)[0m  [1m[32mINSERT INTO "communities" ("community_name", "community_visibility", "archive", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["community_name", "Физика"], ["community_visibility", 1], ["archive", 0], ["created_at", 2016-12-08 18:31:07 UTC], ["updated_at", 2016-12-08 18:31:07 UTC]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/communities/1
Completed 302 Found in 48ms (ActiveRecord: 41.8ms)


Started GET "/communities/1" for ::1 at 2016-12-08 21:31:07 +0300
Processing by CommunitiesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering communities/show.html.haml within layouts/application
  Rendered communities/show.html.haml within layouts/application (1.4ms)
Completed 200 OK in 42ms (Views: 39.3ms | ActiveRecord: 0.5ms)


Started GET "/communities" for ::1 at 2016-12-08 21:31:10 +0300
Processing by CommunitiesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering communities/index.html.haml within layouts/application
  [1m[36mCommunity Load (0.3ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered communities/index.html.haml within layouts/application (3.2ms)
Completed 200 OK in 42ms (Views: 38.4ms | ActiveRecord: 0.9ms)


Started GET "/community_ussers" for ::1 at 2016-12-08 21:35:11 +0300
  
ActionController::RoutingError (No route matches [GET] "/community_ussers"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendered collection of /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [181 times] (31.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (0.9ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (54.5ms)
Started GET "/community_users" for ::1 at 2016-12-08 21:35:14 +0300
Processing by CommunityUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/index.html.haml within layouts/application
  [1m[36mCommunityUser Load (25.4ms)[0m  [1m[34mSELECT "community_users".* FROM "community_users"[0m
  Rendered community_users/index.html.haml within layouts/application (28.9ms)
Completed 200 OK in 111ms (Views: 51.5ms | ActiveRecord: 29.9ms)


Started GET "/community_users/new" for ::1 at 2016-12-08 21:47:30 +0300
Processing by CommunityUsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/new.html.haml within layouts/application
  Rendered community_users/_form.html.haml (8.8ms)
  Rendered community_users/new.html.haml within layouts/application (10.3ms)
Completed 200 OK in 87ms (Views: 47.0ms | ActiveRecord: 1.9ms)


Started GET "/community_users/new" for ::1 at 2016-12-08 21:51:07 +0300
Processing by CommunityUsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered community_users/_form.html.haml (13.3ms)
  Rendered community_users/new.html.haml within layouts/application (14.6ms)
Completed 200 OK in 80ms (Views: 47.6ms | ActiveRecord: 4.6ms)


Started POST "/community_users" for ::1 at 2016-12-08 21:53:08 +0300
Processing by CommunityUsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CamI/C1s0aHbP0hoePoThQ+IK4UUrK8FiF6sn7K4ZO+drKjLU1P4z3oWXC2t0h++rEFhb/k2TMCE8g34L0hDBg==", "community_user"=>{"link_type"=>"0", "user_id"=>"2", "community_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCommunityUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "community_users" WHERE "community_users"."community_id" = $1 AND "community_users"."user_id" = $2 LIMIT $3[0m  [["community_id", 1], ["user_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (18.5ms)[0m  [1m[32mINSERT INTO "community_users" ("link_type", "user_id", "community_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["link_type", 0], ["user_id", 2], ["community_id", 1], ["created_at", 2016-12-08 18:53:08 UTC], ["updated_at", 2016-12-08 18:53:08 UTC]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/community_users/1
Completed 302 Found in 41ms (ActiveRecord: 36.0ms)


Started GET "/community_users/1" for ::1 at 2016-12-08 21:53:08 +0300
Processing by CommunityUsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCommunityUser Load (0.2ms)[0m  [1m[34mSELECT  "community_users".* FROM "community_users" WHERE "community_users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/show.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCommunity Load (0.1ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_users/show.html.haml within layouts/application (5.2ms)
Completed 200 OK in 44ms (Views: 40.9ms | ActiveRecord: 0.8ms)


Started GET "/community_users" for ::1 at 2016-12-08 21:53:12 +0300
Processing by CommunityUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/index.html.haml within layouts/application
  [1m[36mCommunityUser Load (0.4ms)[0m  [1m[34mSELECT "community_users".* FROM "community_users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_users/index.html.haml within layouts/application (5.2ms)
Completed 200 OK in 44ms (Views: 41.2ms | ActiveRecord: 0.9ms)


Started GET "/community_users" for ::1 at 2016-12-08 21:54:50 +0300
Processing by CommunityUsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/index.html.haml within layouts/application
  [1m[36mCommunityUser Load (0.4ms)[0m  [1m[34mSELECT "community_users".* FROM "community_users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_users/index.html.haml within layouts/application (5.0ms)
Completed 200 OK in 44ms (Views: 41.7ms | ActiveRecord: 1.0ms)


Started GET "/community_users" for ::1 at 2016-12-08 21:55:17 +0300
Processing by CommunityUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/index.html.haml within layouts/application
  Rendered community_users/index.html.haml within layouts/application (1.1ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (Inconsistent indentation: 11 spaces used for indentation, but the rest of the document was indented using 2 spaces.):
    15:       %tr
    16:         %td= community_user.link_type
    17:         %td= community_user.user.first_name
    18:            = community_user.user.first_name
    19:            = community_user.user.first_name
    20:         %td= community_user.community.community_name
    21:         %td= link_to 'Show', community_user
  
app/views/community_users/index.html.haml:18
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.4ms)
Started GET "/community_users" for ::1 at 2016-12-08 21:56:07 +0300
Processing by CommunityUsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/index.html.haml within layouts/application
  [1m[36mCommunityUser Load (0.2ms)[0m  [1m[34mSELECT "community_users".* FROM "community_users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCommunity Load (0.1ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_users/index.html.haml within layouts/application (5.9ms)
Completed 200 OK in 48ms (Views: 44.6ms | ActiveRecord: 0.9ms)


Started GET "/community_users" for ::1 at 2016-12-08 21:56:45 +0300
Processing by CommunityUsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/index.html.haml within layouts/application
  Rendered community_users/index.html.haml within layouts/application (1.0ms)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (Inconsistent indentation: 1 tab used for indentation, but the rest of the document was indented using 2 spaces.):
    16:     - @community_users.each do |community_user|
    17:       %tr
    18:         %td= community_user.link_type
    19: 	%td= community_user.community.community_name
    20:         %td= community_user.user.last_name
    21:         %td= community_user.user.first_name
    22:         %td= community_user.user.second_name
  
app/views/community_users/index.html.haml:19
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.1ms)
Started GET "/community_users" for ::1 at 2016-12-08 21:56:58 +0300
Processing by CommunityUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/index.html.haml within layouts/application
  [1m[36mCommunityUser Load (0.2ms)[0m  [1m[34mSELECT "community_users".* FROM "community_users"[0m
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered community_users/index.html.haml within layouts/application (5.4ms)
Completed 200 OK in 47ms (Views: 44.9ms | ActiveRecord: 0.7ms)


Started GET "/community_sections" for ::1 at 2016-12-08 22:05:28 +0300
Processing by CommunitySectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/index.html.haml within layouts/application
  [1m[36mCommunitySection Load (24.1ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  Rendered community_sections/index.html.haml within layouts/application (27.8ms)
Completed 200 OK in 116ms (Views: 55.6ms | ActiveRecord: 25.2ms)


Started GET "/community_sections/new" for ::1 at 2016-12-08 22:05:30 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/new.html.haml within layouts/application
  Rendered community_sections/_form.html.haml (9.3ms)
  Rendered community_sections/new.html.haml within layouts/application (19.5ms)
Completed 200 OK in 85ms (Views: 55.0ms | ActiveRecord: 1.8ms)


Started GET "/community_sections/new" for ::1 at 2016-12-08 22:07:36 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/new.html.haml within layouts/application
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered community_sections/_form.html.haml (10.7ms)
  Rendered community_sections/new.html.haml within layouts/application (11.9ms)
Completed 200 OK in 80ms (Views: 46.8ms | ActiveRecord: 1.4ms)


Started POST "/community_sections" for ::1 at 2016-12-08 22:07:45 +0300
Processing by CommunitySectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5pfT73rp1qc73N4CDCiWMaTov5K9u3bfQSQ6qXzBWu9ykvPYBNb/yZr1ykfZAJoKByH1eFAhlRpNiJvO4TF9Bg==", "community_section"=>{"section_name"=>"Оценки", "section_type"=>"1", "section_position"=>"1", "community_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCommunitySection Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "community_sections" WHERE "community_sections"."section_name" = $1 AND "community_sections"."community_id" = $2 LIMIT $3[0m  [["section_name", "Оценки"], ["community_id", 1], ["LIMIT", 1]]
  [1m[36mCommunitySection Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "community_sections" WHERE "community_sections"."section_type" = $1 AND "community_sections"."community_id" = $2 LIMIT $3[0m  [["section_type", 1], ["community_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (22.7ms)[0m  [1m[32mINSERT INTO "community_sections" ("section_name", "section_type", "section_position", "community_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["section_name", "Оценки"], ["section_type", 1], ["section_position", 1], ["community_id", 1], ["created_at", 2016-12-08 19:07:45 UTC], ["updated_at", 2016-12-08 19:07:45 UTC]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/community_sections/1
Completed 302 Found in 41ms (ActiveRecord: 33.2ms)


Started GET "/community_sections/1" for ::1 at 2016-12-08 22:07:45 +0300
Processing by CommunitySectionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCommunitySection Load (0.2ms)[0m  [1m[34mSELECT  "community_sections".* FROM "community_sections" WHERE "community_sections"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/show.html.haml within layouts/application
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_sections/show.html.haml within layouts/application (3.8ms)
Completed 200 OK in 42ms (Views: 38.7ms | ActiveRecord: 0.8ms)


Started GET "/community_sections" for ::1 at 2016-12-08 22:07:47 +0300
Processing by CommunitySectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/index.html.haml within layouts/application
  [1m[36mCommunitySection Load (0.3ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  [1m[36mCommunity Load (0.1ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_sections/index.html.haml within layouts/application (3.5ms)
Completed 200 OK in 43ms (Views: 40.1ms | ActiveRecord: 0.6ms)


Started GET "/community_sections" for ::1 at 2016-12-08 22:08:04 +0300
Processing by CommunitySectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/index.html.haml within layouts/application
  [1m[36mCommunitySection Load (0.4ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_sections/index.html.haml within layouts/application (5.0ms)
Completed 200 OK in 44ms (Views: 41.7ms | ActiveRecord: 0.8ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started GET "/community_sections" for ::1 at 2016-12-09 11:02:15 +0300
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CommunitySectionsController#index as HTML
  [1m[36mUser Load (74.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "J1tHMg1kwphc8bjpAnyU"], ["LIMIT", 1]]
  Rendering community_sections/index.html.haml within layouts/application
  [1m[36mCommunitySection Load (15.8ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  [1m[36mCommunity Load (16.8ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_sections/index.html.haml within layouts/application (114.6ms)
Completed 200 OK in 1691ms (Views: 1274.2ms | ActiveRecord: 265.2ms)


Started GET "/community_tabs" for ::1 at 2016-12-09 11:05:20 +0300
Processing by CommunityTabsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_tabs/index.html.haml within layouts/application
  [1m[36mCommunityTab Load (17.3ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  Rendered community_tabs/index.html.haml within layouts/application (20.8ms)
Completed 200 OK in 98ms (Views: 39.6ms | ActiveRecord: 18.4ms)


Started GET "/community_tabs/new" for ::1 at 2016-12-09 11:05:22 +0300
Processing by CommunityTabsController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_tabs/new.html.haml within layouts/application
  Rendered community_tabs/_form.html.haml (369.3ms)
  Rendered community_tabs/new.html.haml within layouts/application (371.0ms)
Completed 200 OK in 421ms (Views: 411.1ms | ActiveRecord: 3.8ms)


Started POST "/community_tabs" for ::1 at 2016-12-09 11:05:30 +0300
Processing by CommunityTabsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L9wNA1UIH3VNgOdivsfQV7UbeyZTkmk7wvUSRbLygFtSJuhdu41wSefCfRPyttxGbDI5+xrDe8JvuOnKKJUliQ==", "community_tab"=>{"community_section"=>"", "tab_name"=>"", "tab_position"=>"101"}, "commit"=>"Save"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: community_section
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCommunityTab Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "community_tabs" WHERE "community_tabs"."tab_name" = $1 AND "community_tabs"."community_section_id" IS NULL LIMIT $2[0m  [["tab_name", ""], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering community_tabs/new.html.haml within layouts/application
  Rendered community_tabs/_form.html.haml (3.4ms)
  Rendered community_tabs/new.html.haml within layouts/application (4.6ms)
Completed 200 OK in 78ms (Views: 42.6ms | ActiveRecord: 1.6ms)


Started GET "/community_tabs" for ::1 at 2016-12-09 11:07:23 +0300
Processing by CommunityTabsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_tabs/index.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  Rendered community_tabs/index.html.haml within layouts/application (2.3ms)
Completed 200 OK in 65ms (Views: 37.5ms | ActiveRecord: 0.5ms)


Started GET "/community_tabs/new" for ::1 at 2016-12-09 11:07:25 +0300
Processing by CommunityTabsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_tabs/new.html.haml within layouts/application
  [1m[36mCommunitySection Load (0.4ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  Rendered community_tabs/_form.html.haml (38.1ms)
  Rendered community_tabs/new.html.haml within layouts/application (39.4ms)
Completed 200 OK in 83ms (Views: 72.3ms | ActiveRecord: 5.5ms)


Started POST "/community_tabs" for ::1 at 2016-12-09 11:08:16 +0300
Processing by CommunityTabsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RZM9pm3TW3Xp1jhj4HoDIpDGbx6FuH148crCn8MMHn04adj4g1Y0SUOUohKsCw8zSe8tw8zpb4FchzkQWWu7rw==", "community_tab"=>{"community_section_id"=>"1", "tab_name"=>"Оценки за первую КР", "tab_position"=>"0"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCommunityTab Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "community_tabs" WHERE "community_tabs"."tab_name" = $1 AND "community_tabs"."community_section_id" = $2 LIMIT $3[0m  [["tab_name", "Оценки за первую КР"], ["community_section_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (21.8ms)[0m  [1m[32mINSERT INTO "community_tabs" ("community_section_id", "tab_name", "tab_position", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["community_section_id", 1], ["tab_name", "Оценки за первую КР"], ["tab_position", 0], ["created_at", 2016-12-09 08:08:16 UTC], ["updated_at", 2016-12-09 08:08:16 UTC]]
  [1m[35m (15.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/community_tabs/1
Completed 302 Found in 44ms (ActiveRecord: 38.3ms)


Started GET "/community_tabs/1" for ::1 at 2016-12-09 11:08:17 +0300
Processing by CommunityTabsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT  "community_tabs".* FROM "community_tabs" WHERE "community_tabs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_tabs/show.html.haml within layouts/application
  [1m[36mCommunitySection Load (0.2ms)[0m  [1m[34mSELECT  "community_sections".* FROM "community_sections" WHERE "community_sections"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_tabs/show.html.haml within layouts/application (4.0ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.7ms)


Started GET "/community_tabs" for ::1 at 2016-12-09 11:08:19 +0300
Processing by CommunityTabsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_tabs/index.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.4ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mCommunitySection Load (0.2ms)[0m  [1m[34mSELECT  "community_sections".* FROM "community_sections" WHERE "community_sections"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_tabs/index.html.haml within layouts/application (14.0ms)
Completed 200 OK in 54ms (Views: 50.7ms | ActiveRecord: 1.4ms)


Started GET "/community_tabs" for ::1 at 2016-12-09 11:08:41 +0300
Processing by CommunityTabsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_tabs/index.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.3ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mCommunitySection Load (0.3ms)[0m  [1m[34mSELECT  "community_sections".* FROM "community_sections" WHERE "community_sections"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_tabs/index.html.haml within layouts/application (4.2ms)
Completed 200 OK in 41ms (Views: 38.6ms | ActiveRecord: 1.2ms)


Started GET "/community_contents" for ::1 at 2016-12-09 11:11:01 +0300
Processing by CommunityContentsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.4ms)


  
SyntaxError (/home/alexandra/diploma/base_app5/app/models/community_content.rb:7: syntax error, unexpected '\n', expecting =>):
  
app/models/community_content.rb:7: syntax error, unexpected '\n', expecting =>
app/controllers/community_contents_controller.rb:7:in `index'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (17.5ms)
Started GET "/community_contents" for ::1 at 2016-12-09 11:11:26 +0300
Processing by CommunityContentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/index.html.haml within layouts/application
  [1m[36mCommunityContent Load (32.9ms)[0m  [1m[34mSELECT "community_contents".* FROM "community_contents"[0m
  Rendered community_contents/index.html.haml within layouts/application (36.9ms)
Completed 200 OK in 115ms (Views: 39.1ms | ActiveRecord: 34.0ms)


Started GET "/community_contents/new" for ::1 at 2016-12-09 11:11:28 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  Rendered community_contents/_form.html.haml (29.0ms)
  Rendered community_contents/new.html.haml within layouts/application (44.0ms)
Completed 200 OK in 99ms (Views: 91.5ms | ActiveRecord: 1.8ms)


Started GET "/community_contents/new" for ::1 at 2016-12-09 11:18:17 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  Rendered community_contents/_form.html.haml (8.5ms)
  Rendered community_contents/new.html.haml within layouts/application (9.7ms)
Completed 200 OK in 74ms (Views: 45.0ms | ActiveRecord: 0.2ms)


Started GET "/community_contents/new" for ::1 at 2016-12-09 11:20:10 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  Rendered community_contents/_form.html.haml (19.8ms)
  Rendered community_contents/new.html.haml within layouts/application (20.9ms)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `community__tab_id' for #<CommunityContent:0x007f5510744638>
Did you mean?  community_tab_id
               community_tab
               community_tab_id?
               community_tab_id=
               community_tab=
               community_tab_id_was):
    20:     = f.datetime_select :show
    21:   .field
    22:     = f.label :community_tab_id
    23:     = f.select(:community__tab_id, community_tab_options(f.object.community_tab_id))
    24:   .field
    25:     = f.label :creator
    26:     = f.text_field :creator
  
app/views/community_contents/_form.html.haml:23:in `block in _app_views_community_contents__form_html_haml__2346767991079773257_70001661134920'
app/views/community_contents/_form.html.haml:1:in `_app_views_community_contents__form_html_haml__2346767991079773257_70001661134920'
app/views/community_contents/new.html.haml:3:in `_app_views_community_contents_new_html_haml___3616950235007569549_70001661503080'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.5ms)
Started GET "/community_contents/new" for ::1 at 2016-12-09 11:20:23 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  Rendered community_contents/_form.html.haml (7.6ms)
  Rendered community_contents/new.html.haml within layouts/application (8.9ms)
Completed 200 OK in 59ms (Views: 57.3ms | ActiveRecord: 0.4ms)


Started POST "/community_contents" for ::1 at 2016-12-09 11:20:45 +0300
Processing by CommunityContentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2rN9oqlpLi+Q6lAHZe7Fz/rRdWegPKp+64SoSzeF1Xtk6wCxL0YOZ6nX8pXivgmihsbbB84z01jCsoo0QPYOTg==", "community_content"=>{"view_type"=>"2", "content_body"=>"", "content_visibility"=>"", "show(1i)"=>"2016", "show(2i)"=>"12", "show(3i)"=>"9", "show(4i)"=>"08", "show(5i)"=>"18", "community_tab_id"=>"1", "creator"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: creator
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.3ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  Rendered community_contents/_form.html.haml (7.5ms)
  Rendered community_contents/new.html.haml within layouts/application (8.7ms)
Completed 200 OK in 50ms (Views: 44.6ms | ActiveRecord: 0.7ms)


Started POST "/community_contents" for ::1 at 2016-12-09 11:21:19 +0300
Processing by CommunityContentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zXPdLTlYHQ4Mykizx5a3LFmAhEykqG++jhzcz+sUluxzK6A+v3c9RjX36iFAxntBJZcqLMqnFpinKv6wnGdN2Q==", "community_content"=>{"view_type"=>"0", "content_body"=>"Test", "content_visibility"=>"0", "show(1i)"=>"2016", "show(2i)"=>"12", "show(3i)"=>"9", "show(4i)"=>"08", "show(5i)"=>"18", "community_tab_id"=>"1", "creator"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: creator
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  Rendered community_contents/_form.html.haml (6.8ms)
  Rendered community_contents/new.html.haml within layouts/application (8.1ms)
Completed 200 OK in 51ms (Views: 46.8ms | ActiveRecord: 0.8ms)


Started POST "/community_contents" for ::1 at 2016-12-09 11:21:48 +0300
Processing by CommunityContentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UsCafS9HdLB0l7co90hHb5PXrYH9DtsKmJZM1v2E1WXsmOduqWhU+E2qFbpwGIsC78AD4ZMBoiyxoG6pivcOUA==", "community_content"=>{"view_type"=>"1", "content_body"=>"Test", "content_visibility"=>"0", "show(1i)"=>"2016", "show(2i)"=>"12", "show(3i)"=>"9", "show(4i)"=>"08", "show(5i)"=>"18", "community_tab_id"=>"1", "creator"=>""}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: creator
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.3ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  Rendered community_contents/_form.html.haml (7.2ms)
  Rendered community_contents/new.html.haml within layouts/application (8.6ms)
Completed 200 OK in 61ms (Views: 56.9ms | ActiveRecord: 0.7ms)


Started GET "/community_contents" for ::1 at 2016-12-09 11:23:51 +0300
Processing by CommunityContentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/index.html.haml within layouts/application
  [1m[36mCommunityContent Load (0.2ms)[0m  [1m[34mSELECT "community_contents".* FROM "community_contents"[0m
  Rendered community_contents/index.html.haml within layouts/application (2.8ms)
Completed 200 OK in 67ms (Views: 38.5ms | ActiveRecord: 0.5ms)


Started GET "/community_contents/new" for ::1 at 2016-12-09 11:23:52 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  Rendered community_contents/_form.html.haml (14.1ms)
  Rendered community_contents/new.html.haml within layouts/application (15.5ms)
Completed 200 OK in 59ms (Views: 49.7ms | ActiveRecord: 3.7ms)


Started GET "/community_contents/new" for ::1 at 2016-12-09 11:24:33 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  Rendered community_contents/_form.html.haml (10.2ms)
  Rendered community_contents/new.html.haml within layouts/application (11.5ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `user_id' for #<CommunityContent:0x007f5504b26708>):
    23:     = f.select(:community_tab_id, community_tab_options(f.object.community_tab_id))
    24:   .field
    25:     = f.label :creator
    26:     = f.select(:user_id, user_options(f.object.user_id))
    27:   .actions
    28:     = f.submit 'Save'
  
app/views/community_contents/_form.html.haml:26:in `block in _app_views_community_contents__form_html_haml__2346767991079773257_70001564067520'
app/views/community_contents/_form.html.haml:1:in `_app_views_community_contents__form_html_haml__2346767991079773257_70001564067520'
app/views/community_contents/new.html.haml:3:in `_app_views_community_contents_new_html_haml___3616950235007569549_70001563909140'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.2ms)
Started GET "/community_contents/new" for ::1 at 2016-12-09 11:25:09 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered community_contents/_form.html.haml (11.0ms)
  Rendered community_contents/new.html.haml within layouts/application (12.2ms)
Completed 200 OK in 79ms (Views: 48.0ms | ActiveRecord: 0.6ms)


Started POST "/community_contents" for ::1 at 2016-12-09 11:25:23 +0300
Processing by CommunityContentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OaMK/uM9OZvrZp5I/B5Vum9njagetLyedfY5DnhcUlSvvE4faPUrlaQOOukoLU7laowVs51q9RQ4fqbTpKqfA==", "community_content"=>{"view_type"=>"0", "content_body"=>"test", "content_visibility"=>"0", "show(1i)"=>"2016", "show(2i)"=>"12", "show(3i)"=>"9", "show(4i)"=>"08", "show(5i)"=>"25", "community_tab_id"=>"1", "creator_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.3ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered community_contents/_form.html.haml (8.7ms)
  Rendered community_contents/new.html.haml within layouts/application (10.3ms)
Completed 200 OK in 64ms (Views: 59.2ms | ActiveRecord: 1.0ms)


Started POST "/community_contents" for ::1 at 2016-12-09 11:25:29 +0300
Processing by CommunityContentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kpdSeQIBBJfeZHLcKsEAOR3m8/5hP6P5nzAswGC+/hAszy9qhC4k3+dZ0E6tkcxUYfFdng8w2t+2Bg6/F80lJQ==", "community_content"=>{"view_type"=>"1", "content_body"=>"test", "content_visibility"=>"0", "show(1i)"=>"2016", "show(2i)"=>"12", "show(3i)"=>"9", "show(4i)"=>"08", "show(5i)"=>"25", "community_tab_id"=>"1", "creator_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered community_contents/_form.html.haml (7.6ms)
  Rendered community_contents/new.html.haml within layouts/application (8.9ms)
Completed 200 OK in 50ms (Views: 45.6ms | ActiveRecord: 0.9ms)


Started POST "/community_contents" for ::1 at 2016-12-09 11:25:52 +0300
Processing by CommunityContentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"30ASEJImW+AypNxy9D/yWd3m2cZDtrEhDKGp3QdCXwZhGG8DFAl7qAuZfuBzbz40ofF3pi25yAcll4uicDGEMw==", "community_content"=>{"view_type"=>"1", "content_body"=>"test", "content_visibility"=>"0", "show(1i)"=>"2016", "show(2i)"=>"12", "show(3i)"=>"9", "show(4i)"=>"08", "show(5i)"=>"25", "community_tab_id"=>"1", "creator_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (14.8ms)[0m  [1m[32mINSERT INTO "community_contents" ("view_type", "content_body", "content_visibility", "show", "community_tab_id", "creator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["view_type", 1], ["content_body", "test"], ["content_visibility", 0], ["show", 2016-12-09 08:25:00 UTC], ["community_tab_id", 1], ["creator_id", 1], ["created_at", 2016-12-09 08:25:52 UTC], ["updated_at", 2016-12-09 08:25:52 UTC]]
  [1m[35m (12.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/community_contents/1
Completed 302 Found in 67ms (ActiveRecord: 31.8ms)


Started GET "/community_contents/1" for ::1 at 2016-12-09 11:25:52 +0300
Processing by CommunityContentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCommunityContent Load (0.3ms)[0m  [1m[34mSELECT  "community_contents".* FROM "community_contents" WHERE "community_contents"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/show.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT  "community_tabs".* FROM "community_tabs" WHERE "community_tabs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_contents/show.html.haml within layouts/application (10.6ms)
Completed 200 OK in 51ms (Views: 48.2ms | ActiveRecord: 0.9ms)


Started GET "/community_contents" for ::1 at 2016-12-09 11:25:54 +0300
Processing by CommunityContentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/index.html.haml within layouts/application
  [1m[36mCommunityContent Load (0.4ms)[0m  [1m[34mSELECT "community_contents".* FROM "community_contents"[0m
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT  "community_tabs".* FROM "community_tabs" WHERE "community_tabs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_contents/index.html.haml within layouts/application (6.0ms)
Completed 200 OK in 60ms (Views: 56.8ms | ActiveRecord: 1.1ms)


Started GET "/community_contents" for ::1 at 2016-12-09 11:26:54 +0300
Processing by CommunityContentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/index.html.haml within layouts/application
  [1m[36mCommunityContent Load (0.4ms)[0m  [1m[34mSELECT "community_contents".* FROM "community_contents"[0m
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT  "community_tabs".* FROM "community_tabs" WHERE "community_tabs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_contents/index.html.haml within layouts/application (6.1ms)
Completed 200 OK in 46ms (Views: 43.2ms | ActiveRecord: 1.0ms)


Started GET "/community_contents" for ::1 at 2016-12-09 11:27:31 +0300
Processing by CommunityContentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/index.html.haml within layouts/application
  [1m[36mCommunityContent Load (0.2ms)[0m  [1m[34mSELECT "community_contents".* FROM "community_contents"[0m
  [1m[36mCommunityTab Load (0.1ms)[0m  [1m[34mSELECT  "community_tabs".* FROM "community_tabs" WHERE "community_tabs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_contents/index.html.haml within layouts/application (5.0ms)
Completed 200 OK in 58ms (Views: 56.1ms | ActiveRecord: 0.7ms)


Started GET "/community_contents" for ::1 at 2016-12-09 11:38:45 +0300
Processing by CommunityContentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/index.html.haml within layouts/application
  [1m[36mCommunityContent Load (0.3ms)[0m  [1m[34mSELECT "community_contents".* FROM "community_contents"[0m
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT  "community_tabs".* FROM "community_tabs" WHERE "community_tabs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_contents/index.html.haml within layouts/application (31.1ms)
Completed 200 OK in 97ms (Views: 66.2ms | ActiveRecord: 2.6ms)


Started GET "/marks" for ::1 at 2016-12-09 11:38:49 +0300
Processing by MarksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
SyntaxError (/home/alexandra/diploma/base_app5/app/models/mark.rb:8: syntax error, unexpected '}', expecting =>
...cope: :student_id, :teacher_id} 
...                               ^):
  
app/models/mark.rb:8: syntax error, unexpected '}', expecting =>
app/controllers/marks_controller.rb:7:in `index'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.7ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (17.2ms)
Started GET "/marks" for ::1 at 2016-12-09 11:39:42 +0300
Processing by MarksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/index.html.haml within layouts/application
  [1m[36mMark Load (19.4ms)[0m  [1m[34mSELECT "marks".* FROM "marks"[0m
  Rendered marks/index.html.haml within layouts/application (23.3ms)
Completed 200 OK in 117ms (Views: 42.4ms | ActiveRecord: 20.4ms)


Started GET "/marks/new" for ::1 at 2016-12-09 11:39:44 +0300
Processing by MarksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/new.html.haml within layouts/application
  [1m[36mDisciplineSection Load (57.7ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered marks/_form.html.haml (80.7ms)
  Rendered marks/new.html.haml within layouts/application (82.4ms)
Completed 200 OK in 155ms (Views: 86.9ms | ActiveRecord: 62.0ms)


Started GET "/marks/new" for ::1 at 2016-12-09 11:52:12 +0300
Processing by MarksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/new.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.4ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered marks/_form.html.haml (19.9ms)
  Rendered marks/new.html.haml within layouts/application (21.1ms)
Completed 200 OK in 101ms (Views: 56.2ms | ActiveRecord: 4.4ms)


Started POST "/marks" for ::1 at 2016-12-09 11:52:24 +0300
Processing by MarksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"55m6IzIYZbLJzpLPJphNGilUVNm/CS07Vj3gkTq/EDxZwccwtDdF+vDzMF2hyIF3VUP6udEGVB1/C8LuTczLCQ==", "mark"=>{"mark_value"=>"1000", "report(1i)"=>"2016", "report(2i)"=>"12", "report(3i)"=>"9", "discipline_section"=>"1", "student"=>"1", "teacher"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: discipline_section, student, teacher
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMark Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "marks" WHERE "marks"."discipline_section_id" IS NULL AND "marks"."student_id" IS NULL AND "marks"."teacher_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.1ms)


  
NameError (undefined local variable or method `max_value' for #<Mark:0x007f5515f036a8>
Did you mean?  mark_value
               mark_value?
               mark_value=):
  
app/models/mark.rb:16:in `mark_validator'
app/controllers/marks_controller.rb:30:in `block in create'
app/controllers/marks_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (17.5ms)
Started POST "/marks" for ::1 at 2016-12-09 11:52:46 +0300
Processing by MarksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"55m6IzIYZbLJzpLPJphNGilUVNm/CS07Vj3gkTq/EDxZwccwtDdF+vDzMF2hyIF3VUP6udEGVB1/C8LuTczLCQ==", "mark"=>{"mark_value"=>"1000", "report(1i)"=>"2016", "report(2i)"=>"12", "report(3i)"=>"9", "discipline_section"=>"1", "student"=>"1", "teacher"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: discipline_section, student, teacher
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMark Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "marks" WHERE "marks"."discipline_section_id" IS NULL AND "marks"."student_id" IS NULL AND "marks"."teacher_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 46ms (ActiveRecord: 0.6ms)


  
NameError (undefined local variable or method `max_values' for #<Mark:0x007f55109c1988>
Did you mean?  mark_value
               mark_value_was
               mark_value?
               mark_value=):
  
app/models/mark.rb:17:in `mark_validator'
app/controllers/marks_controller.rb:30:in `block in create'
app/controllers/marks_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.2ms)
Started POST "/marks" for ::1 at 2016-12-09 11:53:09 +0300
Processing by MarksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"55m6IzIYZbLJzpLPJphNGilUVNm/CS07Vj3gkTq/EDxZwccwtDdF+vDzMF2hyIF3VUP6udEGVB1/C8LuTczLCQ==", "mark"=>{"mark_value"=>"1000", "report(1i)"=>"2016", "report(2i)"=>"12", "report(3i)"=>"9", "discipline_section"=>"1", "student"=>"1", "teacher"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: discipline_section, student, teacher
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMark Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "marks" WHERE "marks"."discipline_section_id" IS NULL AND "marks"."student_id" IS NULL AND "marks"."teacher_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 63ms (ActiveRecord: 0.8ms)


  
NameError (uninitialized constant Mark::DisiplineSection):
  
app/models/mark.rb:17:in `mark_validator'
app/controllers/marks_controller.rb:30:in `block in create'
app/controllers/marks_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.9ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (17.1ms)
Started GET "/discipline_sections" for ::1 at 2016-12-09 11:54:04 +0300
Processing by DisciplineSectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/index.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.2ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mDiscipline Load (42.0ms)[0m  [1m[34mSELECT  "disciplines".* FROM "disciplines" WHERE "disciplines"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered discipline_sections/index.html.haml within layouts/application (66.1ms)
Completed 200 OK in 144ms (Views: 58.8ms | ActiveRecord: 44.5ms)


Started GET "/message_lists" for ::1 at 2016-12-09 12:01:24 +0300
Processing by MessageListsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/index.html.haml within layouts/application
  [1m[36mMessageList Load (8.1ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  Rendered message_lists/index.html.haml within layouts/application (11.3ms)
Completed 200 OK in 93ms (Views: 45.1ms | ActiveRecord: 9.2ms)


Started GET "/message_lists/new" for ::1 at 2016-12-09 12:01:27 +0300
Processing by MessageListsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/new.html.haml within layouts/application
  Rendered message_lists/_form.html.haml (3.0ms)
  Rendered message_lists/new.html.haml within layouts/application (5.0ms)
Completed 200 OK in 49ms (Views: 42.4ms | ActiveRecord: 2.2ms)


Started POST "/message_lists" for ::1 at 2016-12-09 12:01:32 +0300
Processing by MessageListsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"t7r3+GzFa9IR+ky3gfB1su9rNlJQ6BYbdG/e1WI5eezIOB/8Dr0d/3L1WD9cyT6ERJIqP+2/rrktQhnAXyQUrg==", "message_list"=>{"header"=>"Hello"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (17.3ms)[0m  [1m[32mINSERT INTO "message_lists" ("header", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["header", "Hello"], ["created_at", 2016-12-09 09:01:32 UTC], ["updated_at", 2016-12-09 09:01:32 UTC]]
  [1m[35m (13.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/message_lists/1
Completed 302 Found in 35ms (ActiveRecord: 31.4ms)


Started GET "/message_lists/1" for ::1 at 2016-12-09 12:01:32 +0300
Processing by MessageListsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/show.html.haml within layouts/application
  Rendered message_lists/show.html.haml within layouts/application (1.2ms)
Completed 200 OK in 40ms (Views: 36.7ms | ActiveRecord: 0.5ms)


Started GET "/message_lists" for ::1 at 2016-12-09 12:01:34 +0300
Processing by MessageListsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_lists/index.html.haml within layouts/application
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  Rendered message_lists/index.html.haml within layouts/application (2.5ms)
Completed 200 OK in 56ms (Views: 53.3ms | ActiveRecord: 0.5ms)


Started GET "/institutions" for ::1 at 2016-12-09 12:39:55 +0300
Processing by InstitutionsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering institutions/index.html.haml within layouts/application
  [1m[36mInstitution Load (10.8ms)[0m  [1m[34mSELECT "institutions".* FROM "institutions"[0m
  Rendered institutions/index.html.haml within layouts/application (14.7ms)
Completed 200 OK in 98ms (Views: 40.3ms | ActiveRecord: 13.8ms)


Started GET "/institutions/new" for ::1 at 2016-12-09 12:39:58 +0300
Processing by InstitutionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering institutions/new.html.haml within layouts/application
  Rendered institutions/_form.html.haml (3.2ms)
  Rendered institutions/new.html.haml within layouts/application (5.0ms)
Completed 200 OK in 60ms (Views: 42.4ms | ActiveRecord: 1.1ms)


Started POST "/institutions" for ::1 at 2016-12-09 12:40:41 +0300
Processing by InstitutionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kbQGrTF9ZeWgCPOqG5ugvUBnfATwazssL8tFWk1voVcEQ9B44Ne0yA4Rq3KnAGNJl5GRhBsiOkCuPkjkBEzD7A==", "institution"=>{"institution_name"=>"Научно-исследовательский ядерный университет МИФИ", "short_instituton_name"=>"МИФИ", "address"=>"Москва, Каширское шоссе, 31", "phone_number"=>"8495111222333"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInstitution Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "institutions" WHERE "institutions"."institution_name" = $1 LIMIT $2[0m  [["institution_name", "Научно-исследовательский ядерный университет МИФИ"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `short_institution_name' for #<Institution:0x0055b689f013e8>
Did you mean?  short_instituton_name
               short_instituton_name?
               short_instituton_name=
               short_instituton_name_was
               short_instituton_name_change
               short_instituton_name_changed?
               short_instituton_name_came_from_user?
               short_instituton_name_before_type_cast
               restore_institution_name!):
  
app/controllers/institutions_controller.rb:30:in `block in create'
app/controllers/institutions_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.6ms)
Started POST "/institutions" for ::1 at 2016-12-09 12:43:51 +0300
Processing by InstitutionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kbQGrTF9ZeWgCPOqG5ugvUBnfATwazssL8tFWk1voVcEQ9B44Ne0yA4Rq3KnAGNJl5GRhBsiOkCuPkjkBEzD7A==", "institution"=>{"institution_name"=>"Научно-исследовательский ядерный университет МИФИ", "short_instituton_name"=>"МИФИ", "address"=>"Москва, Каширское шоссе, 31", "phone_number"=>"8495111222333"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameter: short_instituton_name
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInstitution Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "institutions" WHERE "institutions"."institution_name" = $1 LIMIT $2[0m  [["institution_name", "Научно-исследовательский ядерный университет МИФИ"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 48ms (ActiveRecord: 1.4ms)


  
NoMethodError (undefined method `short_institution_name' for #<Institution:0x0055b689b21890>
Did you mean?  short_instituton_name
               short_instituton_name?
               short_instituton_name=
               short_instituton_name_was
               short_instituton_name_change
               short_instituton_name_changed?
               short_instituton_name_came_from_user?
               short_instituton_name_before_type_cast
               restore_institution_name!):
  
app/controllers/institutions_controller.rb:30:in `block in create'
app/controllers/institutions_controller.rb:29:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (17.6ms)
Started GET "/institutions" for ::1 at 2016-12-09 12:43:55 +0300
Processing by InstitutionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering institutions/index.html.haml within layouts/application
  [1m[36mInstitution Load (0.3ms)[0m  [1m[34mSELECT "institutions".* FROM "institutions"[0m
  Rendered institutions/index.html.haml within layouts/application (2.6ms)
Completed 200 OK in 50ms (Views: 47.5ms | ActiveRecord: 0.5ms)


Started GET "/institutions/new" for ::1 at 2016-12-09 12:43:57 +0300
Processing by InstitutionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering institutions/new.html.haml within layouts/application
  Rendered institutions/_form.html.haml (15.4ms)
  Rendered institutions/new.html.haml within layouts/application (16.7ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `short_institution_name' for #<Institution:0x007f55047749e8>
Did you mean?  short_instituton_name
               short_instituton_name?
               short_instituton_name=
               short_instituton_name_was
               short_instituton_name_change
               short_instituton_name_changed?
               short_instituton_name_came_from_user?
               short_instituton_name_before_type_cast
               restore_institution_name!):
    11:     = f.text_field :institution_name
    12:   .field
    13:     = f.label :short_institution_name
    14:     = f.text_field :short_institution_name
    15:   .field
    16:     = f.label :address
    17:     = f.text_field :address
  
app/views/institutions/_form.html.haml:14:in `block in _app_views_institutions__form_html_haml___1064012860589321027_70001561747600'
app/views/institutions/_form.html.haml:1:in `_app_views_institutions__form_html_haml___1064012860589321027_70001561747600'
app/views/institutions/new.html.haml:3:in `_app_views_institutions_new_html_haml__4326462203191481404_70001561908600'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.9ms)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (38.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started GET "/institutions" for ::1 at 2016-12-09 12:44:50 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by InstitutionsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering institutions/index.html.haml within layouts/application
  [1m[36mInstitution Load (0.3ms)[0m  [1m[34mSELECT "institutions".* FROM "institutions"[0m
  Rendered institutions/index.html.haml within layouts/application (5.9ms)
Completed 200 OK in 274ms (Views: 216.9ms | ActiveRecord: 4.2ms)


Started GET "/institutions/new" for ::1 at 2016-12-09 12:44:52 +0300
Processing by InstitutionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering institutions/new.html.haml within layouts/application
  Rendered institutions/_form.html.haml (208.5ms)
  Rendered institutions/new.html.haml within layouts/application (209.8ms)
Completed 500 Internal Server Error in 218ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `short_institution_name' for #<Institution:0x0055e44de643d0>
Did you mean?  short_instituton_name
               short_instituton_name=
               short_instituton_name?
               short_instituton_name_was
               short_instituton_name_change
               short_instituton_name_changed?
               short_instituton_name_came_from_user?
               short_instituton_name_before_type_cast
               restore_institution_name!):
    11:     = f.text_field :institution_name
    12:   .field
    13:     = f.label :short_institution_name
    14:     = f.text_field :short_institution_name
    15:   .field
    16:     = f.label :address
    17:     = f.text_field :address
  
app/views/institutions/_form.html.haml:14:in `block in _app_views_institutions__form_html_haml___4416209430495113283_70002900575460'
app/views/institutions/_form.html.haml:1:in `_app_views_institutions__form_html_haml___4416209430495113283_70002900575460'
app/views/institutions/new.html.haml:3:in `_app_views_institutions_new_html_haml___2195757255886873170_70002900493960'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.5ms)
Started GET "/institutions/new" for ::1 at 2016-12-09 12:45:22 +0300
Processing by InstitutionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering institutions/new.html.haml within layouts/application
  Rendered institutions/_form.html.haml (13.4ms)
  Rendered institutions/new.html.haml within layouts/application (14.5ms)
Completed 500 Internal Server Error in 55ms (ActiveRecord: 4.2ms)


  
ActionView::Template::Error (undefined method `short_institution_name' for #<Institution:0x007f5598755a40>
Did you mean?  short_instituton_name
               short_instituton_name=
               short_instituton_name?
               short_instituton_name_was
               short_instituton_name_change
               short_instituton_name_changed?
               short_instituton_name_came_from_user?
               short_instituton_name_before_type_cast
               restore_institution_name!):
    11:     = f.text_field :institution_name
    12:   .field
    13:     = f.label :short_institution_name
    14:     = f.text_field :short_institution_name
    15:   .field
    16:     = f.label :address
    17:     = f.text_field :address
  
app/views/institutions/_form.html.haml:14:in `block in _app_views_institutions__form_html_haml___4416209430495113283_70002902294020'
app/views/institutions/_form.html.haml:1:in `_app_views_institutions__form_html_haml___4416209430495113283_70002902294020'
app/views/institutions/new.html.haml:3:in `_app_views_institutions_new_html_haml___2195757255886873170_70002803587900'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.5ms)
Started GET "/institutions/new" for ::1 at 2016-12-09 12:45:23 +0300
Processing by InstitutionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering institutions/new.html.haml within layouts/application
  Rendered institutions/_form.html.haml (14.5ms)
  Rendered institutions/new.html.haml within layouts/application (24.0ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (undefined method `short_institution_name' for #<Institution:0x0055e44a385d40>
Did you mean?  short_instituton_name
               short_instituton_name=
               short_instituton_name?
               short_instituton_name_was
               short_instituton_name_change
               short_instituton_name_changed?
               short_instituton_name_came_from_user?
               short_instituton_name_before_type_cast
               restore_institution_name!):
    11:     = f.text_field :institution_name
    12:   .field
    13:     = f.label :short_institution_name
    14:     = f.text_field :short_institution_name
    15:   .field
    16:     = f.label :address
    17:     = f.text_field :address
  
app/views/institutions/_form.html.haml:14:in `block in _app_views_institutions__form_html_haml___4416209430495113283_70002807229080'
app/views/institutions/_form.html.haml:1:in `_app_views_institutions__form_html_haml___4416209430495113283_70002807229080'
app/views/institutions/new.html.haml:3:in `_app_views_institutions_new_html_haml___2195757255886873170_47219492798360'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.9ms)
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started GET "/notices" for ::1 at 2016-12-09 12:49:00 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by NoticesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/index.html.haml within layouts/application
  [1m[36mNotice Load (12.9ms)[0m  [1m[34mSELECT "notices".* FROM "notices"[0m
  Rendered notices/index.html.haml within layouts/application (19.4ms)
Completed 200 OK in 279ms (Views: 189.7ms | ActiveRecord: 17.3ms)


Started GET "/notices/new" for ::1 at 2016-12-09 12:49:02 +0300
Processing by NoticesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/new.html.haml within layouts/application
  Rendered notices/_form.html.haml (332.2ms)
  Rendered notices/new.html.haml within layouts/application (335.8ms)
Completed 200 OK in 387ms (Views: 374.0ms | ActiveRecord: 2.1ms)


Started GET "/notices/new" for ::1 at 2016-12-09 12:50:23 +0300
Processing by NoticesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/new.html.haml within layouts/application
  Rendered notices/_form.html.haml (6.2ms)
  Rendered notices/new.html.haml within layouts/application (7.4ms)
Completed 200 OK in 79ms (Views: 44.3ms | ActiveRecord: 4.5ms)


Started GET "/notices/new" for ::1 at 2016-12-09 12:52:52 +0300
Processing by NoticesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunitySection Load (0.3ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  Rendered notices/_form.html.haml (12.7ms)
  Rendered notices/new.html.haml within layouts/application (13.8ms)
Completed 200 OK in 78ms (Views: 46.8ms | ActiveRecord: 2.7ms)


Started GET "/notices/new" for ::1 at 2016-12-09 12:52:54 +0300
Processing by NoticesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunitySection Load (0.3ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  Rendered notices/_form.html.haml (13.5ms)
  Rendered notices/new.html.haml within layouts/application (14.7ms)
Completed 200 OK in 54ms (Views: 51.2ms | ActiveRecord: 0.8ms)


Started POST "/notices" for ::1 at 2016-12-09 12:53:03 +0300
Processing by NoticesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1Dz6PXw1OXyy0pYhxrXuTJIQi9ozRM0GcPS5CHbjA89qZIcu+hoZNIvvNLNB5SIh7gclul1LtCBZwpt3AZDY+g==", "notice"=>{"notice_type"=>"1", "user_id"=>"2", "community_section_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNotice Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "notices" WHERE "notices"."community_section_id" = $1 AND "notices"."user_id" = $2 LIMIT $3[0m  [["community_section_id", 1], ["user_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (21.5ms)[0m  [1m[32mINSERT INTO "notices" ("notice_type", "user_id", "community_section_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["notice_type", 1], ["user_id", 2], ["community_section_id", 1], ["created_at", 2016-12-09 09:53:03 UTC], ["updated_at", 2016-12-09 09:53:03 UTC]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/notices/1
Completed 302 Found in 38ms (ActiveRecord: 29.2ms)


Started GET "/notices/1" for ::1 at 2016-12-09 12:53:03 +0300
Processing by NoticesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mNotice Load (0.3ms)[0m  [1m[34mSELECT  "notices".* FROM "notices" WHERE "notices"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/show.html.haml within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCommunitySection Load (0.2ms)[0m  [1m[34mSELECT  "community_sections".* FROM "community_sections" WHERE "community_sections"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered notices/show.html.haml within layouts/application (6.3ms)
Completed 200 OK in 47ms (Views: 42.8ms | ActiveRecord: 1.5ms)


Started GET "/notices" for ::1 at 2016-12-09 12:53:05 +0300
Processing by NoticesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/index.html.haml within layouts/application
  [1m[36mNotice Load (0.4ms)[0m  [1m[34mSELECT "notices".* FROM "notices"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCommunitySection Load (0.2ms)[0m  [1m[34mSELECT  "community_sections".* FROM "community_sections" WHERE "community_sections"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered notices/index.html.haml within layouts/application (6.0ms)
Completed 200 OK in 50ms (Views: 46.5ms | ActiveRecord: 1.5ms)


Started GET "/notices" for ::1 at 2016-12-09 12:54:02 +0300
Processing by NoticesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/index.html.haml within layouts/application
  [1m[36mNotice Load (0.3ms)[0m  [1m[34mSELECT "notices".* FROM "notices"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCommunitySection Load (0.2ms)[0m  [1m[34mSELECT  "community_sections".* FROM "community_sections" WHERE "community_sections"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered notices/index.html.haml within layouts/application (5.4ms)
Completed 200 OK in 46ms (Views: 43.4ms | ActiveRecord: 1.4ms)


Started GET "/notices/new" for ::1 at 2016-12-09 12:54:17 +0300
Processing by NoticesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunitySection Load (0.2ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  Rendered notices/_form.html.haml (4.6ms)
  Rendered notices/new.html.haml within layouts/application (5.9ms)
Completed 200 OK in 46ms (Views: 44.1ms | ActiveRecord: 0.6ms)


Started POST "/notices" for ::1 at 2016-12-09 12:54:19 +0300
Processing by NoticesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sT98XJVhS9dSxDSNLz/9L8x5CzhSpE3tXKC3+ptYxRW4NThS6NGzgUHbVVtElYP7aeHEyOhgEEF4e8Sokklysg==", "notice"=>{"notice_type"=>"10", "user_id"=>"1", "community_section_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNotice Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "notices" WHERE "notices"."community_section_id" = $1 AND "notices"."user_id" = $2 LIMIT $3[0m  [["community_section_id", 1], ["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering notices/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunitySection Load (0.3ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  Rendered notices/_form.html.haml (5.1ms)
  Rendered notices/new.html.haml within layouts/application (6.3ms)
Completed 200 OK in 49ms (Views: 43.2ms | ActiveRecord: 1.9ms)


Started GET "/message_users" for ::1 at 2016-12-09 13:04:47 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MessageUsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/index.html.haml within layouts/application
  [1m[36mMessageUser Load (36.1ms)[0m  [1m[34mSELECT "message_users".* FROM "message_users"[0m
  Rendered message_users/index.html.haml within layouts/application (39.6ms)
Completed 200 OK in 124ms (Views: 43.4ms | ActiveRecord: 37.1ms)


Started GET "/message_users/new" for ::1 at 2016-12-09 13:04:49 +0300
Processing by MessageUsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/new.html.haml within layouts/application
  Rendered message_users/_form.html.haml (7.3ms)
  Rendered message_users/new.html.haml within layouts/application (31.0ms)
Completed 200 OK in 113ms (Views: 87.6ms | ActiveRecord: 2.5ms)


Started GET "/role_users/new" for ::1 at 2016-12-09 13:19:19 +0300
Processing by RoleUsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/new.html.haml within layouts/application
  Rendered role_users/_form.html.haml (24.2ms)
  Rendered role_users/new.html.haml within layouts/application (25.6ms)
Completed 200 OK in 119ms (Views: 65.1ms | ActiveRecord: 2.2ms)


Started GET "/role_users/new" for ::1 at 2016-12-09 13:23:02 +0300
Processing by RoleUsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/new.html.haml within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mRole Load (53.6ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  Rendered role_users/_form.html.haml (65.2ms)
  Rendered role_users/new.html.haml within layouts/application (66.5ms)
Completed 200 OK in 147ms (Views: 61.6ms | ActiveRecord: 56.0ms)


Started GET "/role_users" for ::1 at 2016-12-09 13:23:07 +0300
Processing by RoleUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/index.html.haml within layouts/application
  [1m[36mRoleUser Load (34.3ms)[0m  [1m[34mSELECT "role_users".* FROM "role_users"[0m
  Rendered role_users/index.html.haml within layouts/application (36.8ms)
Completed 200 OK in 75ms (Views: 38.9ms | ActiveRecord: 34.7ms)


Started GET "/roles" for ::1 at 2016-12-09 13:23:16 +0300
Processing by RolesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering roles/index.html.haml within layouts/application
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  Rendered roles/index.html.haml within layouts/application (3.5ms)
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 0.6ms)


Started GET "/role_users" for ::1 at 2016-12-09 13:33:34 +0300
Processing by RoleUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/index.html.haml within layouts/application
  [1m[36mRoleUser Load (0.3ms)[0m  [1m[34mSELECT "role_users".* FROM "role_users"[0m
  Rendered role_users/index.html.haml within layouts/application (2.7ms)
Completed 200 OK in 78ms (Views: 50.3ms | ActiveRecord: 0.5ms)


Started GET "/role_users/new" for ::1 at 2016-12-09 13:33:37 +0300
Processing by RoleUsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  Rendered role_users/_form.html.haml (12.4ms)
  Rendered role_users/new.html.haml within layouts/application (13.7ms)
Completed 200 OK in 59ms (Views: 49.5ms | ActiveRecord: 5.0ms)


Started POST "/role_users" for ::1 at 2016-12-09 13:33:49 +0300
Processing by RoleUsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KegRLttHRJljh+c8xqLR/qwDDL6jV+nupO16HehWGE60tHd1SCquzOzenwTNi9MeV/TKW1QJ5zExAQMfBbb6iw==", "role_user"=>{"info"=>"cтудент", "user_id"=>"2", "role_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRoleUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "role_users" WHERE "role_users"."role_id" = $1 AND "role_users"."user_id" = $2 LIMIT $3[0m  [["role_id", 1], ["user_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (24.0ms)[0m  [1m[32mINSERT INTO "role_users" ("info", "user_id", "role_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["info", "\"cтудент\""], ["user_id", 2], ["role_id", 1], ["created_at", 2016-12-09 10:33:49 UTC], ["updated_at", 2016-12-09 10:33:49 UTC]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/role_users/1
Completed 302 Found in 40ms (ActiveRecord: 32.4ms)


Started GET "/role_users/1" for ::1 at 2016-12-09 13:33:49 +0300
Processing by RoleUsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRoleUser Load (0.3ms)[0m  [1m[34mSELECT  "role_users".* FROM "role_users" WHERE "role_users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/show.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered role_users/show.html.haml within layouts/application (6.0ms)
Completed 200 OK in 45ms (Views: 41.7ms | ActiveRecord: 1.1ms)


Started GET "/role_users" for ::1 at 2016-12-09 13:33:51 +0300
Processing by RoleUsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/index.html.haml within layouts/application
  [1m[36mRoleUser Load (0.2ms)[0m  [1m[34mSELECT "role_users".* FROM "role_users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered role_users/index.html.haml within layouts/application (5.5ms)
Completed 200 OK in 46ms (Views: 43.8ms | ActiveRecord: 0.9ms)


Started GET "/role_users" for ::1 at 2016-12-09 13:35:09 +0300
Processing by RoleUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering role_users/index.html.haml within layouts/application
  [1m[36mRoleUser Load (0.2ms)[0m  [1m[34mSELECT "role_users".* FROM "role_users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered role_users/index.html.haml within layouts/application (4.8ms)
Completed 200 OK in 45ms (Views: 42.5ms | ActiveRecord: 0.7ms)


Started GET "/messages" for ::1 at 2016-12-09 13:38:28 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (11.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (27.6ms)
Completed 200 OK in 109ms (Views: 53.7ms | ActiveRecord: 13.6ms)


Started GET "/messages/new" for ::1 at 2016-12-09 13:38:33 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.4ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (27.5ms)
  Rendered messages/new.html.haml within layouts/application (34.7ms)
Completed 200 OK in 122ms (Views: 70.4ms | ActiveRecord: 2.7ms)


Started POST "/messages" for ::1 at 2016-12-09 13:38:47 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wah1+gf4zV3086G4yV3Gec1Gby4ijpH+pF/Y8O9nsxR6ChhidD4vm/NdenDBe1/V18ipMPj/OMTMYg5XhV7cUQ==", "message"=>{"message_content"=>"Тест", "send_time(1i)"=>"2016", "send_time(2i)"=>"12", "send_time(3i)"=>"9", "send_time(4i)"=>"10", "send_time(5i)"=>"38", "message"=>#<ActionDispatch::Http::UploadedFile:0x0055fd8a6a9ce8 @tempfile=#<Tempfile:/tmp/RackMultipart20161209-7200-1eriyf5.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
Command :: file -b --mime '/tmp/a23d5bd6367d8840301784426dde028a20161209-7200-1vd93av.docx'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/a23d5bd6367d8840301784426dde028a20161209-7200-18ltq5j.docx'
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering messages/new.html.haml within layouts/application
  Rendered messages/_form.html.haml (7.6ms)
  Rendered messages/new.html.haml within layouts/application (8.8ms)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (No route matches {:action=>"show_file", :controller=>"messages", :id=>nil} missing required keys: [:id]):
    15:   .field
    16:     = f.label :message
    17:     -if f.object.message.present?
    18:       =link_to(f.object.message_file_name, show_file_message_path(f.object))
    19:     -else 
    20:       Еще не сохранен
    21:     = f.file_field :message 
  
app/views/messages/_form.html.haml:18:in `block in _app_views_messages__form_html_haml__4090044457730098780_47273707797740'
app/views/messages/_form.html.haml:1:in `_app_views_messages__form_html_haml__4090044457730098780_47273707797740'
app/views/messages/new.html.haml:3:in `_app_views_messages_new_html_haml___1336055062406427257_47273717384160'
app/controllers/messages_controller.rb:43:in `block (2 levels) in create'
app/controllers/messages_controller.rb:38:in `create'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.1ms)
Started GET "/messages" for ::1 at 2016-12-09 13:39:46 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (3.5ms)
Completed 200 OK in 42ms (Views: 39.9ms | ActiveRecord: 0.7ms)


Started GET "/messages/new" for ::1 at 2016-12-09 13:39:51 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.4ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (8.0ms)
  Rendered messages/new.html.haml within layouts/application (9.6ms)
Completed 200 OK in 51ms (Views: 47.9ms | ActiveRecord: 1.0ms)


Started POST "/messages" for ::1 at 2016-12-09 13:39:58 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qQng2QKlDAX0E2ZE5EImshJ1tsIe2w13UC0IebsfP0ISq41BcWPuw/O9vYzsZL8eCPtw3MSqpE04EN7e0SZQBw==", "message"=>{"message_content"=>"Тест1", "send_time(1i)"=>"2016", "send_time(2i)"=>"12", "send_time(3i)"=>"9", "send_time(4i)"=>"10", "send_time(5i)"=>"39", "message_list"=>"1", "sender"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.4ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (7.9ms)
  Rendered messages/new.html.haml within layouts/application (9.3ms)
Completed 200 OK in 63ms (Views: 57.8ms | ActiveRecord: 1.1ms)


Started POST "/messages" for ::1 at 2016-12-09 13:40:05 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rYeReGM0JZDtqhYMqR+pKNSYk9wmC4ti0Psvuhluzf8T3+xr5RsF2NSXtJ4uT2VFqI89vEgE8kT5zQ3Fbh0Wyg==", "message"=>{"message_content"=>"Тест1", "send_time(1i)"=>"2016", "send_time(2i)"=>"12", "send_time(3i)"=>"9", "send_time(4i)"=>"10", "send_time(5i)"=>"39", "message_list"=>"1", "sender"=>"2"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: message_list, sender
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (8.1ms)
  Rendered messages/new.html.haml within layouts/application (9.5ms)
Completed 200 OK in 51ms (Views: 46.7ms | ActiveRecord: 1.0ms)


Started GET "/messages" for ::1 at 2016-12-09 13:40:33 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (3.4ms)
Completed 200 OK in 47ms (Views: 44.9ms | ActiveRecord: 0.6ms)


Started GET "/messages/new" for ::1 at 2016-12-09 13:40:35 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.4ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (10.9ms)
  Rendered messages/new.html.haml within layouts/application (12.7ms)
Completed 200 OK in 56ms (Views: 52.5ms | ActiveRecord: 0.8ms)


Started POST "/messages" for ::1 at 2016-12-09 13:40:41 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fFIBgfNR1hl/c0NlsinDFC5UFSuOFQ2rCt74Nknj9B7H8GwZgJc033jdmK26D1q4NNrTNVRkpJFi4y6RI9qbWw==", "message"=>{"message_content"=>"Lol", "send_time(1i)"=>"2016", "send_time(2i)"=>"12", "send_time(3i)"=>"9", "send_time(4i)"=>"10", "send_time(5i)"=>"40", "message_list_id"=>"1", "sender_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (19.5ms)[0m  [1m[32mINSERT INTO "messages" ("message_content", "send_time", "message_list_id", "sender_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["message_content", "Lol"], ["send_time", 2016-12-09 10:40:00 UTC], ["message_list_id", 1], ["sender_id", 1], ["created_at", 2016-12-09 10:40:41 UTC], ["updated_at", 2016-12-09 10:40:41 UTC]]
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/messages/2
Completed 302 Found in 36ms (ActiveRecord: 32.1ms)


Started GET "/messages/2" for ::1 at 2016-12-09 13:40:41 +0300
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering messages/show.html.haml within layouts/application
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/show.html.haml within layouts/application (4.5ms)
Completed 200 OK in 43ms (Views: 40.2ms | ActiveRecord: 0.7ms)


Started GET "/messages" for ::1 at 2016-12-09 13:40:43 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.haml within layouts/application (6.5ms)
Completed 200 OK in 47ms (Views: 44.2ms | ActiveRecord: 1.3ms)


Started GET "/messages" for ::1 at 2016-12-09 13:41:22 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (4.9ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `message_list_name' for nil:NilClass):
    18:         %td= message.message_content
    19:         %td= message.send_time
    20:         %td= message.message
    21:         %td= message.message_list.message_list_name
    22:         %td= message.sender
    23:         %td= link_to 'Show', message
    24:         %td= link_to 'Edit', edit_message_path(message)
  
app/views/messages/index.html.haml:21:in `block in _app_views_messages_index_html_haml__2074936335357991686_69916301978520'
app/views/messages/index.html.haml:16:in `_app_views_messages_index_html_haml__2074936335357991686_69916301978520'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.4ms)
Started GET "/messages" for ::1 at 2016-12-09 13:42:19 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (4.5ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `header' for nil:NilClass):
    20:         %td= message.message_content
    21:         %td= message.send_time
    22:         %td= message.message
    23:         %td= message.message_list.header
    24:         %td= message.sender.last_name
    25:         %td= message.sender.first_name
    26:         %td= message.sender.second_name
  
app/views/messages/index.html.haml:23:in `block in _app_views_messages_index_html_haml__2074936335357991686_69916374131360'
app/views/messages/index.html.haml:18:in `_app_views_messages_index_html_haml__2074936335357991686_69916374131360'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.0ms)
Started GET "/messages" for ::1 at 2016-12-09 13:42:28 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (4.5ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `header' for nil:NilClass):
    20:         %td= message.message_content
    21:         %td= message.send_time
    22:         %td= message.message
    23:         %td= message.message_list.header
    24:         %td= message.sender.last_name
    25:         %td= message.sender.first_name
    26:         %td= message.sender.second_name
  
app/views/messages/index.html.haml:23:in `block in _app_views_messages_index_html_haml__2074936335357991686_69916431073040'
app/views/messages/index.html.haml:18:in `_app_views_messages_index_html_haml__2074936335357991686_69916431073040'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.9ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.3ms)
Started GET "/messages" for ::1 at 2016-12-09 13:42:48 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (4.7ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `last_name' for nil:NilClass):
    21:         %td= message.send_time
    22:         %td= message.message
    23:         %td= message.message_list
    24:         %td= message.sender.last_name
    25:         %td= message.sender.first_name
    26:         %td= message.sender.second_name
    27:         %td= link_to 'Show', message
  
app/views/messages/index.html.haml:24:in `block in _app_views_messages_index_html_haml__2074936335357991686_69916301603280'
app/views/messages/index.html.haml:18:in `_app_views_messages_index_html_haml__2074936335357991686_69916301603280'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (15.8ms)
Started GET "/messages" for ::1 at 2016-12-09 13:43:08 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.haml within layouts/application (5.6ms)
Completed 200 OK in 48ms (Views: 45.3ms | ActiveRecord: 0.7ms)


Started DELETE "/messages/1" for ::1 at 2016-12-09 13:43:19 +0300
Processing by MessagesController#destroy as HTML
  Parameters: {"authenticity_token"=>"TIYsv/Ofsu+Ph1cJSw9vu22sfOx/oJTzTl6S9XugP5fy3lGsdbCSp7a69ZvMX6PWEbvSjBGv7dVnaLCKDNPkog==", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "messages" WHERE "messages"."id" = $1[0m  [["id", 1]]
  [1m[35m (16.6ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/alexandra/diploma/base_app5/storage/messages/messages/000/000/001/original/Схема_БД.docx
Redirected to http://localhost:3000/messages
Completed 302 Found in 67ms (ActiveRecord: 17.7ms)


Started GET "/messages" for ::1 at 2016-12-09 13:43:19 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.haml within layouts/application (4.9ms)
Completed 200 OK in 45ms (Views: 42.8ms | ActiveRecord: 0.6ms)


Started GET "/messages" for ::1 at 2016-12-09 13:43:47 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.haml within layouts/application (5.2ms)
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.8ms)


Started GET "/messages" for ::1 at 2016-12-09 13:44:14 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.haml within layouts/application (6.5ms)
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.8ms)


Started GET "/messages/new" for ::1 at 2016-12-09 13:44:33 +0300
Processing by MessagesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/new.html.haml within layouts/application
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT "message_lists".* FROM "message_lists"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered messages/_form.html.haml (7.8ms)
  Rendered messages/new.html.haml within layouts/application (9.1ms)
Completed 200 OK in 49ms (Views: 46.9ms | ActiveRecord: 0.6ms)


Started POST "/messages" for ::1 at 2016-12-09 13:44:43 +0300
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HgxuhlFT7BTHqxq3DyhgVvCbWkLOmlg0T5KAWul+J+OlrgMeIpUO0sAFwX8HDvn66hWcXBTr8Q4nr1b9g0dIpg==", "message"=>{"message_content"=>"Lol2", "send_time(1i)"=>"2016", "send_time(2i)"=>"12", "send_time(3i)"=>"9", "send_time(4i)"=>"10", "send_time(5i)"=>"44", "message"=>#<ActionDispatch::Http::UploadedFile:0x0055fd8afc5778 @tempfile=#<Tempfile:/tmp/RackMultipart20161209-7200-1s2145z.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"message[message]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">, "message_list_id"=>"1", "sender_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/a23d5bd6367d8840301784426dde028a20161209-7200-1ssi2et.docx'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/a23d5bd6367d8840301784426dde028a20161209-7200-19r780x.docx'
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("message_content", "send_time", "message_file_name", "message_content_type", "message_file_size", "message_updated_at", "message_list_id", "sender_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["message_content", "Lol2"], ["send_time", 2016-12-09 10:44:00 UTC], ["message_file_name", "Схема_БД.docx"], ["message_content_type", "application/zip"], ["message_file_size", 12656], ["message_updated_at", 2016-12-09 10:44:43 UTC], ["message_list_id", 1], ["sender_id", 1], ["created_at", 2016-12-09 10:44:43 UTC], ["updated_at", 2016-12-09 10:44:43 UTC]]
  [1m[35m (24.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/messages/3
Completed 302 Found in 38ms (ActiveRecord: 25.6ms)


Started GET "/messages/3" for ::1 at 2016-12-09 13:44:43 +0300
Processing by MessagesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering messages/show.html.haml within layouts/application
  [1m[36mMessageList Load (0.3ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/show.html.haml within layouts/application (4.0ms)
Completed 200 OK in 55ms (Views: 51.8ms | ActiveRecord: 0.7ms)


Started GET "/messages" for ::1 at 2016-12-09 13:44:46 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.haml within layouts/application (7.8ms)
Completed 200 OK in 47ms (Views: 44.4ms | ActiveRecord: 0.8ms)


Started GET "/message_users" for ::1 at 2016-12-09 13:45:00 +0300
Processing by MessageUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/index.html.haml within layouts/application
  [1m[36mMessageUser Load (0.3ms)[0m  [1m[34mSELECT "message_users".* FROM "message_users"[0m
  Rendered message_users/index.html.haml within layouts/application (5.3ms)
Completed 200 OK in 50ms (Views: 43.3ms | ActiveRecord: 2.5ms)


Started GET "/message_users/new" for ::1 at 2016-12-09 13:45:01 +0300
Processing by MessageUsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/new.html.haml within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered message_users/_form.html.haml (5.3ms)
  Rendered message_users/new.html.haml within layouts/application (6.6ms)
Completed 200 OK in 52ms (Views: 45.6ms | ActiveRecord: 1.7ms)


Started POST "/message_users" for ::1 at 2016-12-09 13:45:09 +0300
Processing by MessageUsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qYogkFDceQcWAjWVgmcTCcfBN8demDoCKL2b08+jEwg1Vq0PRf3h660THH/YwxKSILBpUV8oYWEB3FM0CcTkow==", "message_user"=>{"viewing"=>"0", "message_id"=>"3", "user_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mMessageUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "message_users" WHERE "message_users"."message_id" = $1 AND "message_users"."user_id" = $2 LIMIT $3[0m  [["message_id", 3], ["user_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (17.9ms)[0m  [1m[32mINSERT INTO "message_users" ("viewing", "message_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["viewing", 0], ["message_id", 3], ["user_id", 1], ["created_at", 2016-12-09 10:45:09 UTC], ["updated_at", 2016-12-09 10:45:09 UTC]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/message_users/1
Completed 302 Found in 34ms (ActiveRecord: 28.1ms)


Started GET "/message_users/1" for ::1 at 2016-12-09 13:45:09 +0300
Processing by MessageUsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessageUser Load (0.3ms)[0m  [1m[34mSELECT  "message_users".* FROM "message_users" WHERE "message_users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/show.html.haml within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered message_users/show.html.haml within layouts/application (5.5ms)
Completed 200 OK in 47ms (Views: 44.0ms | ActiveRecord: 0.8ms)


Started GET "/message_users" for ::1 at 2016-12-09 13:45:10 +0300
Processing by MessageUsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/index.html.haml within layouts/application
  [1m[36mMessageUser Load (0.3ms)[0m  [1m[34mSELECT "message_users".* FROM "message_users"[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered message_users/index.html.haml within layouts/application (160.2ms)
Completed 500 Internal Server Error in 164ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined local variable or method `role_user' for #<#<Class:0x007f2d586f2638>:0x0055fd8adfb730>
Did you mean?  role_user_url
               role_url):
    17:       %tr
    18:         %td= message_user.viewing
    19:         %td= message_user.message.message_content
    20:         %td= role_user.user.last_name
    21:         %td= role_user.user.first_name
    22:         %td= role_user.user.second_name
    23:         %td= link_to 'Show', message_user
  
app/views/message_users/index.html.haml:20:in `block in _app_views_message_users_index_html_haml__3943216959631833150_47273722508380'
app/views/message_users/index.html.haml:16:in `_app_views_message_users_index_html_haml__3943216959631833150_47273722508380'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (15.0ms)
Started GET "/message_users" for ::1 at 2016-12-09 13:45:23 +0300
Processing by MessageUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/index.html.haml within layouts/application
  [1m[36mMessageUser Load (0.2ms)[0m  [1m[34mSELECT "message_users".* FROM "message_users"[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered message_users/index.html.haml within layouts/application (306.0ms)
Completed 500 Internal Server Error in 311ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined local variable or method `role_user' for #<#<Class:0x007f2d586f2638>:0x007f2d6010d580>
Did you mean?  role_user_url
               role_url):
    17:       %tr
    18:         %td= message_user.viewing
    19:         %td= message_user.message.message_content
    20:         %td= role_user.user.last_name
    21:         %td= role_user.user.first_name
    22:         %td= role_user.user.second_name
    23:         %td= link_to 'Show', message_user
  
app/views/message_users/index.html.haml:20:in `block in _app_views_message_users_index_html_haml__3943216959631833150_69916430987640'
app/views/message_users/index.html.haml:16:in `_app_views_message_users_index_html_haml__3943216959631833150_69916430987640'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (15.0ms)
Started GET "/message_users" for ::1 at 2016-12-09 13:46:31 +0300
Processing by MessageUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/index.html.haml within layouts/application
  [1m[36mMessageUser Load (0.3ms)[0m  [1m[34mSELECT "message_users".* FROM "message_users"[0m
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered message_users/index.html.haml within layouts/application (4.8ms)
Completed 200 OK in 41ms (Views: 38.6ms | ActiveRecord: 0.7ms)


Started GET "/study_files" for ::1 at 2016-12-09 13:47:17 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (12.3ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  Rendered study_files/index.html.haml within layouts/application (16.4ms)
Completed 200 OK in 69ms (Views: 37.9ms | ActiveRecord: 13.4ms)


Started GET "/study_files/new" for ::1 at 2016-12-09 13:47:18 +0300
Processing by StudyFilesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/new.html.haml within layouts/application
  Rendered study_files/_form.html.haml (7.8ms)
  Rendered study_files/new.html.haml within layouts/application (9.3ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 2.3ms)


  
ActionView::Template::Error (undefined method `study' for #<StudyFile:0x0055fd8ad7cf20>):
    11:     = f.text_field :user
    12:   .field
    13:     = f.label :study
    14:     = f.text_field :study
    15:   .actions
    16:     = f.submit 'Save'
  
app/views/study_files/_form.html.haml:14:in `block in _app_views_study_files__form_html_haml___1831192529489146452_47273721092020'
app/views/study_files/_form.html.haml:1:in `_app_views_study_files__form_html_haml___1831192529489146452_47273721092020'
app/views/study_files/new.html.haml:3:in `_app_views_study_files_new_html_haml__4228641428999516041_47273721387520'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.9ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.7ms)
Started GET "/study_files" for ::1 at 2016-12-09 13:47:21 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (0.3ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  Rendered study_files/index.html.haml within layouts/application (2.6ms)
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 0.5ms)


Started GET "/study_files" for ::1 at 2016-12-09 13:56:37 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (0.3ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  Rendered study_files/index.html.haml within layouts/application (2.4ms)
Completed 200 OK in 42ms (Views: 40.3ms | ActiveRecord: 0.5ms)


Started GET "/study_files" for ::1 at 2016-12-09 15:32:22 +0300
Processing by StudyFilesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for ::1 at 2016-12-09 15:32:23 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.7ms)
  Rendered user_sessions/new.html.haml within layouts/application (3.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "J1tHMg1kwphc8bjpAnyU"], ["LIMIT", 1]]
Completed 200 OK in 76ms (Views: 47.4ms | ActiveRecord: 2.5ms)


Started POST "/user_sessions" for ::1 at 2016-12-09 15:32:31 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"D6lFIGLsAMrw2rp2O1cnOJh2hOzxkFdwuQmK8NPCM4zEf8Ah1QFITZR1lhv8couh2pQnW+QB9jjrqOc13lF9Mw==", "email"=>"test@mail.ru", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'test@mail.ru' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (19.0ms)[0m  [1m[33mUPDATE "users" SET "remember_me_token" = 'gzWy88rX9LypPPK9eG4m', "remember_me_token_expires_at" = '2016-12-23 12:32:31.663368' WHERE "users"."id" = $1[0m  [["id", 1]]
Redirected to http://localhost:3000/study_files
Completed 302 Found in 140ms (ActiveRecord: 19.7ms)


Started GET "/study_files" for ::1 at 2016-12-09 15:32:31 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (0.2ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  Rendered study_files/index.html.haml within layouts/application (2.7ms)
Completed 200 OK in 45ms (Views: 40.2ms | ActiveRecord: 0.4ms)


Started GET "/study_files/new" for ::1 at 2016-12-09 15:32:33 +0300
Processing by StudyFilesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/new.html.haml within layouts/application
  Rendered study_files/_form.html.haml (3.6ms)
  Rendered study_files/new.html.haml within layouts/application (4.9ms)
Completed 200 OK in 46ms (Views: 40.1ms | ActiveRecord: 1.0ms)


Started GET "/study_files/new" for ::1 at 2016-12-09 15:34:29 +0300
Processing by StudyFilesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered study_files/_form.html.haml (3.5ms)
  Rendered study_files/new.html.haml within layouts/application (4.7ms)
Completed 200 OK in 79ms (Views: 42.7ms | ActiveRecord: 4.5ms)


Started GET "/study_files/new" for ::1 at 2016-12-09 15:38:04 +0300
Processing by StudyFilesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/new.html.haml within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered study_files/_form.html.haml (3.3ms)
  Rendered study_files/new.html.haml within layouts/application (4.4ms)
Completed 200 OK in 44ms (Views: 42.0ms | ActiveRecord: 0.4ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started GET "/study_files/new" for ::1 at 2016-12-09 15:40:01 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by StudyFilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/new.html.haml within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered study_files/_form.html.haml (217.9ms)
  Rendered study_files/new.html.haml within layouts/application (219.8ms)
Completed 200 OK in 520ms (Views: 459.5ms | ActiveRecord: 5.1ms)


Started GET "/study_files" for ::1 at 2016-12-09 15:40:05 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (0.4ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  Rendered study_files/index.html.haml within layouts/application (2.5ms)
Completed 200 OK in 41ms (Views: 38.1ms | ActiveRecord: 1.3ms)


Started GET "/study_files/new" for ::1 at 2016-12-09 15:40:08 +0300
Processing by StudyFilesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered study_files/_form.html.haml (3.8ms)
  Rendered study_files/new.html.haml within layouts/application (5.0ms)
Completed 200 OK in 42ms (Views: 39.9ms | ActiveRecord: 0.9ms)


Started POST "/study_files" for ::1 at 2016-12-09 15:40:13 +0300
Processing by StudyFilesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wS9WI9+C0Xfpj6y2XYMePCyXoEvAR+qwAa2Z2//yqyTe0ss9+c6iwznOzcyTXCgqPO7AoimEQKKmwno70Nz9jw==", "study_file"=>{"user_id"=>"1", "study"=>#<ActionDispatch::Http::UploadedFile:0x007f16adf93cb8 @tempfile=#<Tempfile:/tmp/RackMultipart20161209-9144-srzji0.docx>, @original_filename="Схема БД.docx", @content_type="application/vnd.openxmlformats-officedocument.wordprocessingml.document", @headers="Content-Disposition: form-data; name=\"study_file[study]\"; filename=\"\xD0\xA1\xD1\x85\xD0\xB5\xD0\xBC\xD0\xB0 \xD0\x91\xD0\x94.docx\"\r\nContent-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n">}, "commit"=>"Save"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/a23d5bd6367d8840301784426dde028a20161209-9144-nlbxy5.docx'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/a23d5bd6367d8840301784426dde028a20161209-9144-1x20vkp.docx'
  [1m[35mSQL (27.0ms)[0m  [1m[32mINSERT INTO "study_files" ("user_id", "study_file_name", "study_content_type", "study_file_size", "study_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["study_file_name", "Схема_БД.docx"], ["study_content_type", "application/zip"], ["study_file_size", 12656], ["study_updated_at", 2016-12-09 12:40:13 UTC], ["created_at", 2016-12-09 12:40:13 UTC], ["updated_at", 2016-12-09 12:40:13 UTC]]
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/study_files/1
Completed 302 Found in 54ms (ActiveRecord: 38.3ms)


Started GET "/study_files/1" for ::1 at 2016-12-09 15:40:13 +0300
Processing by StudyFilesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudyFile Load (0.3ms)[0m  [1m[34mSELECT  "study_files".* FROM "study_files" WHERE "study_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/show.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered study_files/show.html.haml within layouts/application (7.9ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 1.3ms)


Started GET "/study_files/1/edit" for ::1 at 2016-12-09 15:40:14 +0300
Processing by StudyFilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudyFile Load (0.3ms)[0m  [1m[34mSELECT  "study_files".* FROM "study_files" WHERE "study_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/edit.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered study_files/_form.html.haml (84.6ms)
  Rendered study_files/edit.html.haml within layouts/application (85.8ms)
Completed 500 Internal Server Error in 90ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined method `show_file_study_path' for #<#<Class:0x00558dbece9388>:0x007f16a02d3b20>
Did you mean?  show_file_message_path):
    12:   .field
    13:     = f.label :study
    14:     -if f.object.study.present?
    15:       =link_to(f.object.study_file_name, show_file_study_path(f.object))
    16:     -else 
    17:       Еще не сохранен
    18:     = f.file_field :study
  
app/views/study_files/_form.html.haml:15:in `block in _app_views_study_files__form_html_haml___354002713593601439_69867576753640'
app/views/study_files/_form.html.haml:1:in `_app_views_study_files__form_html_haml___354002713593601439_69867576753640'
app/views/study_files/edit.html.haml:3:in `_app_views_study_files_edit_html_haml__2671740643214410866_47033626402380'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.2ms)
Started GET "/study_files/1/edit" for ::1 at 2016-12-09 15:41:18 +0300
Processing by StudyFilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudyFile Load (0.2ms)[0m  [1m[34mSELECT  "study_files".* FROM "study_files" WHERE "study_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/edit.html.haml within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered study_files/_form.html.haml (96.1ms)
  Rendered study_files/edit.html.haml within layouts/application (97.3ms)
Completed 500 Internal Server Error in 102ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (undefined method `show_file_study_file_path' for #<#<Class:0x00558dbece9388>:0x007f16901eae58>
Did you mean?  show_file_message_path):
    12:   .field
    13:     = f.label :study
    14:     -if f.object.study.present?
    15:       =link_to(f.object.study_file_name, show_file_study_file_path(f.object))
    16:     -else 
    17:       Еще не сохранен
    18:     = f.file_field :study
  
app/views/study_files/_form.html.haml:15:in `block in _app_views_study_files__form_html_haml___354002713593601439_69867576558800'
app/views/study_files/_form.html.haml:1:in `_app_views_study_files__form_html_haml___354002713593601439_69867576558800'
app/views/study_files/edit.html.haml:3:in `_app_views_study_files_edit_html_haml__2671740643214410866_69867441970280'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (19.5ms)
Started GET "/study_files/1/edit" for ::1 at 2016-12-09 15:41:32 +0300
Processing by StudyFilesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mStudyFile Load (0.2ms)[0m  [1m[34mSELECT  "study_files".* FROM "study_files" WHERE "study_files"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/edit.html.haml within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered study_files/_form.html.haml (4.5ms)
  Rendered study_files/edit.html.haml within layouts/application (5.9ms)
Completed 200 OK in 59ms (Views: 55.6ms | ActiveRecord: 0.8ms)


Started GET "/study_files" for ::1 at 2016-12-09 15:41:41 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (0.2ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered study_files/index.html.haml within layouts/application (4.1ms)
Completed 200 OK in 42ms (Views: 38.8ms | ActiveRecord: 0.9ms)


Started GET "/study_files" for ::1 at 2016-12-09 15:42:13 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (0.2ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered study_files/index.html.haml within layouts/application (3.9ms)
Completed 200 OK in 46ms (Views: 43.3ms | ActiveRecord: 0.7ms)


Started GET "/study_files" for ::1 at 2016-12-09 15:42:54 +0300
Processing by StudyFilesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering study_files/index.html.haml within layouts/application
  [1m[36mStudyFile Load (0.3ms)[0m  [1m[34mSELECT "study_files".* FROM "study_files"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered study_files/index.html.haml within layouts/application (5.1ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 1.2ms)


Started GET "/messages" for ::1 at 2016-12-09 15:44:23 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  Rendered messages/index.html.haml within layouts/application (15.1ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.2ms)


  
ActionView::Template::Error (undefined method `message_file_name' for #<Paperclip::Attachment:0x007f16a11200c0>):
    19:       %tr
    20:         %td= message.message_content
    21:         %td= message.send_time
    22:         %td= message.message.message_file_name
    23:         %td= message.message_list.header
    24:         %td= message.sender.last_name
    25:         %td= message.sender.first_name
  
app/views/messages/index.html.haml:22:in `block in _app_views_messages_index_html_haml__4299911773532338998_69867611026060'
app/views/messages/index.html.haml:18:in `_app_views_messages_index_html_haml__4299911773532338998_69867611026060'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.0ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.6ms)
Started GET "/messages" for ::1 at 2016-12-09 15:45:22 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.haml within layouts/application (20.4ms)
Completed 200 OK in 63ms (Views: 56.5ms | ActiveRecord: 4.4ms)


Started GET "/messages" for ::1 at 2016-12-09 15:45:53 +0300
Processing by MessagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering messages/index.html.haml within layouts/application
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mMessageList Load (0.2ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "message_lists".* FROM "message_lists" WHERE "message_lists"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/index.html.haml within layouts/application (6.8ms)
Completed 200 OK in 47ms (Views: 44.0ms | ActiveRecord: 1.2ms)


Started GET "/community_contents/new" for ::1 at 2016-12-09 16:22:56 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.4ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered community_contents/_form.html.haml (18.6ms)
  Rendered community_contents/new.html.haml within layouts/application (20.0ms)
Completed 200 OK in 70ms (Views: 55.6ms | ActiveRecord: 4.7ms)


Started POST "/community_contents" for ::1 at 2016-12-09 16:23:06 +0300
Processing by CommunityContentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sUKfP+SM0a/SGlCT5AVKbLPnDC+N4zuTPphiZEb4msZ6lBo+U2GZKLa1fP4jIOb18QWvmJhymttsOQ+hS2vUeQ==", "community_content"=>{"view_type"=>"1", "content_body"=>"", "content_visibility"=>"", "show(1i)"=>"2016", "show(2i)"=>"12", "show(3i)"=>"9", "show(4i)"=>"13", "show(5i)"=>"22", "community_tab_id"=>"1", "creator_id"=>"2"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.4ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered community_contents/_form.html.haml (7.3ms)
  Rendered community_contents/new.html.haml within layouts/application (8.5ms)
Completed 200 OK in 53ms (Views: 48.8ms | ActiveRecord: 1.1ms)


Started POST "/community_contents" for ::1 at 2016-12-09 16:23:12 +0300
Processing by CommunityContentsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jq9o042eQh7ezrZHvljxQjSqDWMSpCU7716LHgsaEAhFee3SOnMKmbphmip5fV3bdkiu1Ac1hHO9/+bbBoletw==", "community_content"=>{"view_type"=>"2", "content_body"=>"", "content_visibility"=>"", "show(1i)"=>"2016", "show(2i)"=>"12", "show(3i)"=>"9", "show(4i)"=>"13", "show(5i)"=>"22", "community_tab_id"=>"1", "creator_id"=>"2"}, "commit"=>"Save"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.3ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered community_contents/_form.html.haml (8.0ms)
  Rendered community_contents/new.html.haml within layouts/application (9.3ms)
Completed 200 OK in 52ms (Views: 47.6ms | ActiveRecord: 0.8ms)


Started GET "/disciplines" for ::1 at 2016-12-09 16:37:35 +0300
Processing by DisciplinesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/index.html.haml within layouts/application
  [1m[36mDiscipline Load (0.4ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  [1m[36mTerm Load (32.5ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRankingAlgorithm Load (16.3ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered disciplines/index.html.haml within layouts/application (97.8ms)
Completed 200 OK in 168ms (Views: 81.1ms | ActiveRecord: 55.1ms)


Started GET "/disciplines/new" for ::1 at 2016-12-09 16:37:37 +0300
Processing by DisciplinesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/new.html.haml within layouts/application
  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  [1m[36mRankingAlgorithm Load (0.3ms)[0m  [1m[34mSELECT "ranking_algorithms".* FROM "ranking_algorithms"[0m
  Rendered disciplines/_form.html.haml (6.9ms)
  Rendered disciplines/new.html.haml within layouts/application (8.3ms)
Completed 200 OK in 47ms (Views: 44.2ms | ActiveRecord: 0.9ms)


Started POST "/disciplines" for ::1 at 2016-12-09 16:38:00 +0300
Processing by DisciplinesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/ZzbHrBeW+H5DHso2FknlRzz/F7Ovni9kjGaX3YZLHVOMUQS7Ak3WdE9zJFIKF6rkUbXQ2Ycthmt2PyLE1SfWg==", "discipline"=>{"discipline_name"=>"Химия", "discipline_type"=>"2", "discipline_end"=>"0", "term_id"=>"1", "ranking_algorithm_id"=>"1"}, "commit"=>"Save"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDiscipline Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "disciplines" WHERE "disciplines"."discipline_name" = $1 AND "disciplines"."discipline_type" = $2 AND "disciplines"."discipline_end" = $3 LIMIT $4[0m  [["discipline_name", "Химия"], ["discipline_type", 2], ["discipline_end", 0], ["LIMIT", 1]]
  [1m[35mSQL (32.4ms)[0m  [1m[32mINSERT INTO "disciplines" ("discipline_name", "discipline_type", "discipline_end", "term_id", "ranking_algorithm_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["discipline_name", "Химия"], ["discipline_type", 2], ["discipline_end", 0], ["term_id", 1], ["ranking_algorithm_id", 1], ["created_at", 2016-12-09 13:38:00 UTC], ["updated_at", 2016-12-09 13:38:00 UTC]]
  [1m[35m (17.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/disciplines/2
Completed 302 Found in 70ms (ActiveRecord: 50.4ms)


Started GET "/disciplines/2" for ::1 at 2016-12-09 16:38:00 +0300
Processing by DisciplinesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDiscipline Load (0.2ms)[0m  [1m[34mSELECT  "disciplines".* FROM "disciplines" WHERE "disciplines"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering disciplines/show.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered disciplines/show.html.haml within layouts/application (3.6ms)
Completed 200 OK in 43ms (Views: 39.5ms | ActiveRecord: 0.7ms)


Started GET "/disciplines" for ::1 at 2016-12-09 16:38:03 +0300
Processing by DisciplinesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/index.html.haml within layouts/application
  [1m[36mDiscipline Load (0.4ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  [1m[36mTerm Load (0.3ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered disciplines/index.html.haml within layouts/application (7.1ms)
Completed 200 OK in 46ms (Views: 43.5ms | ActiveRecord: 1.2ms)


Started GET "/disciplines" for ::1 at 2016-12-09 16:42:59 +0300
Processing by DisciplinesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/index.html.haml within layouts/application
  [1m[36mDiscipline Load (0.3ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "ranking_algorithms".* FROM "ranking_algorithms" WHERE "ranking_algorithms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered disciplines/index.html.haml within layouts/application (29.2ms)
Completed 200 OK in 103ms (Views: 61.0ms | ActiveRecord: 9.0ms)


Started GET "/disciplines/new" for ::1 at 2016-12-09 16:43:01 +0300
Processing by DisciplinesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/new.html.haml within layouts/application
  Rendered disciplines/_form.html.haml (138.6ms)
  Rendered disciplines/new.html.haml within layouts/application (139.9ms)
Completed 500 Internal Server Error in 144ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined local variable or method `ends' for #<#<Class:0x007f16982558b8>:0x007f1698631270>):
    11:     = f.text_field :discipline_name
    12:   .field
    13:     = f.label :discipline_type
    14:     = f.select(:discipline_type, type_options(f.object.discipline_type))
    15:   .field
    16:     = f.label :discipline_end
    17:     = f.select(:discipline_end, end_options(f.object.discipline_end))
  
app/helpers/disciplines_helper.rb:5:in `type_options'
app/views/disciplines/_form.html.haml:14:in `block in _app_views_disciplines__form_html_haml___1322403001350384964_69867511046760'
app/views/disciplines/_form.html.haml:1:in `_app_views_disciplines__form_html_haml___1322403001350384964_69867511046760'
app/views/disciplines/new.html.haml:3:in `_app_views_disciplines_new_html_haml__3939742362772283307_69867511320180'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.7ms)
Started GET "/disciplines/new" for ::1 at 2016-12-09 16:43:15 +0300
Processing by DisciplinesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT "ranking_algorithms".* FROM "ranking_algorithms"[0m
  Rendered disciplines/_form.html.haml (17.6ms)
  Rendered disciplines/new.html.haml within layouts/application (18.8ms)
Completed 200 OK in 122ms (Views: 80.0ms | ActiveRecord: 0.6ms)


Started GET "/disciplines/new" for ::1 at 2016-12-09 16:45:49 +0300
Processing by DisciplinesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  [1m[36mRankingAlgorithm Load (0.3ms)[0m  [1m[34mSELECT "ranking_algorithms".* FROM "ranking_algorithms"[0m
  Rendered disciplines/_form.html.haml (14.7ms)
  Rendered disciplines/new.html.haml within layouts/application (15.9ms)
Completed 200 OK in 89ms (Views: 53.6ms | ActiveRecord: 0.6ms)


Started GET "/disciplines/new" for ::1 at 2016-12-09 16:47:36 +0300
Processing by DisciplinesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering disciplines/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  [1m[36mRankingAlgorithm Load (0.2ms)[0m  [1m[34mSELECT "ranking_algorithms".* FROM "ranking_algorithms"[0m
  Rendered disciplines/_form.html.haml (15.2ms)
  Rendered disciplines/new.html.haml within layouts/application (16.5ms)
Completed 200 OK in 92ms (Views: 55.0ms | ActiveRecord: 0.7ms)


Started GET "/notices/new" for ::1 at 2016-12-09 16:51:54 +0300
Processing by NoticesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/new.html.haml within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunitySection Load (0.3ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  Rendered notices/_form.html.haml (13.2ms)
  Rendered notices/new.html.haml within layouts/application (14.5ms)
Completed 200 OK in 94ms (Views: 51.6ms | ActiveRecord: 7.0ms)


Started GET "/notices/new" for ::1 at 2016-12-09 16:52:54 +0300
Processing by NoticesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunitySection Load (0.2ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  Rendered notices/_form.html.haml (9.9ms)
  Rendered notices/new.html.haml within layouts/application (11.0ms)
Completed 200 OK in 77ms (Views: 46.0ms | ActiveRecord: 0.6ms)


Started GET "/notices/new" for ::1 at 2016-12-09 16:56:36 +0300
Processing by NoticesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering notices/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunitySection Load (0.2ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  Rendered notices/_form.html.haml (12.5ms)
  Rendered notices/new.html.haml within layouts/application (13.9ms)
Completed 200 OK in 86ms (Views: 47.6ms | ActiveRecord: 6.7ms)


Started GET "/message_users" for ::1 at 2016-12-09 17:00:11 +0300
Processing by MessageUsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/index.html.haml within layouts/application
  [1m[36mMessageUser Load (0.3ms)[0m  [1m[34mSELECT "message_users".* FROM "message_users"[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered message_users/index.html.haml within layouts/application (22.5ms)
Completed 200 OK in 94ms (Views: 58.8ms | ActiveRecord: 4.7ms)


Started GET "/message_users/new" for ::1 at 2016-12-09 17:00:12 +0300
Processing by MessageUsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/new.html.haml within layouts/application
  Rendered message_users/_form.html.haml (11.9ms)
  Rendered message_users/new.html.haml within layouts/application (13.6ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `viewing_type' for #<MessageUser:0x007f16a439e2e0>
Did you mean?  viewing):
     8: 
     9:   .field
    10:     = f.label :viewing
    11:     = f.select(:viewing_type, type_options(f.object.viewing_type))
    12:   .field
    13:     = f.label :message_id
    14:     = f.select(:message_id, message_options(f.object.message_id))
  
app/views/message_users/_form.html.haml:11:in `block in _app_views_message_users__form_html_haml___2913179474466977528_69867509722080'
app/views/message_users/_form.html.haml:1:in `_app_views_message_users__form_html_haml___2913179474466977528_69867509722080'
app/views/message_users/new.html.haml:3:in `_app_views_message_users_new_html_haml___4446239303483457220_69867610718140'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.6ms)
Started GET "/message_users/new" for ::1 at 2016-12-09 17:00:26 +0300
Processing by MessageUsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/new.html.haml within layouts/application
  Rendered message_users/_form.html.haml (8.7ms)
  Rendered message_users/new.html.haml within layouts/application (9.9ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `viewing_type' for #<MessageUser:0x007f16a00aa498>
Did you mean?  viewing):
     8: 
     9:   .field
    10:     = f.label :viewing
    11:     = f.select(:viewing_type, viewing_options(f.object.viewing_type))
    12:   .field
    13:     = f.label :message_id
    14:     = f.select(:message_id, message_options(f.object.message_id))
  
app/views/message_users/_form.html.haml:11:in `block in _app_views_message_users__form_html_haml___2913179474466977528_69867692904120'
app/views/message_users/_form.html.haml:1:in `_app_views_message_users__form_html_haml___2913179474466977528_69867692904120'
app/views/message_users/new.html.haml:3:in `_app_views_message_users_new_html_haml___4446239303483457220_69867575526520'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.9ms)
Started GET "/message_users/new" for ::1 at 2016-12-09 17:00:42 +0300
Processing by MessageUsersController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/new.html.haml within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered message_users/_form.html.haml (4.9ms)
  Rendered message_users/new.html.haml within layouts/application (6.2ms)
Completed 200 OK in 50ms (Views: 46.8ms | ActiveRecord: 1.2ms)


Started GET "/message_users/new" for ::1 at 2016-12-09 17:01:19 +0300
Processing by MessageUsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering message_users/new.html.haml within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered message_users/_form.html.haml (12.5ms)
  Rendered message_users/new.html.haml within layouts/application (13.8ms)
Completed 200 OK in 100ms (Views: 66.8ms | ActiveRecord: 0.7ms)


Started GET "/marks" for ::1 at 2016-12-09 17:02:31 +0300
Processing by MarksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/index.html.haml within layouts/application
  [1m[36mMark Load (0.4ms)[0m  [1m[34mSELECT "marks".* FROM "marks"[0m
  Rendered marks/index.html.haml within layouts/application (4.0ms)
Completed 200 OK in 90ms (Views: 55.8ms | ActiveRecord: 1.4ms)


Started GET "/marks/new" for ::1 at 2016-12-09 17:02:37 +0300
Processing by MarksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/new.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.4ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered marks/_form.html.haml (19.6ms)
  Rendered marks/new.html.haml within layouts/application (21.1ms)
Completed 200 OK in 66ms (Views: 55.9ms | ActiveRecord: 4.6ms)


Started GET "/community" for ::1 at 2016-12-09 17:13:30 +0300
  
ActionController::RoutingError (No route matches [GET] "/community"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [181 times] (76.0ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (17.9ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (133.0ms)
Started GET "/communities" for ::1 at 2016-12-09 17:13:33 +0300
Processing by CommunitiesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering communities/index.html.haml within layouts/application
  [1m[36mCommunity Load (0.4ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered communities/index.html.haml within layouts/application (8.7ms)
Completed 200 OK in 92ms (Views: 55.1ms | ActiveRecord: 4.3ms)


Started GET "/communities/new" for ::1 at 2016-12-09 17:13:35 +0300
Processing by CommunitiesController#new as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering communities/new.html.haml within layouts/application
  Rendered communities/_form.html.haml (5.9ms)
  Rendered communities/new.html.haml within layouts/application (7.8ms)
Completed 200 OK in 85ms (Views: 80.5ms | ActiveRecord: 1.8ms)


Started GET "/communities/new" for ::1 at 2016-12-09 17:17:38 +0300
Processing by CommunitiesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering communities/new.html.haml within layouts/application
  Rendered communities/_form.html.haml (3.6ms)
  Rendered communities/new.html.haml within layouts/application (4.9ms)
Completed 200 OK in 80ms (Views: 42.2ms | ActiveRecord: 2.1ms)


Started GET "/community_sections" for ::1 at 2016-12-09 17:17:46 +0300
Processing by CommunitySectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/index.html.haml within layouts/application
  [1m[36mCommunitySection Load (0.4ms)[0m  [1m[34mSELECT "community_sections".* FROM "community_sections"[0m
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT  "communities".* FROM "communities" WHERE "communities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered community_sections/index.html.haml within layouts/application (12.8ms)
Completed 200 OK in 68ms (Views: 59.7ms | ActiveRecord: 3.2ms)


Started GET "/community_sections/new" for ::1 at 2016-12-09 17:17:47 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/new.html.haml within layouts/application
  Rendered community_sections/_form.html.haml (0.9ms)
  Rendered community_sections/new.html.haml within layouts/application (2.2ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (Inconsistent indentation: 5 spaces used for indentation, but the rest of the document was indented using 2 spaces.):
    11:     = f.text_field :section_name
    12:   .field
    13:     = f.label :section_type
    14:      = f.select(:section_type, type_options(f.object.section_type))
    15:   .field
    16:     = f.label :section_position
    17:     = f.number_field :section_position
  
app/views/community_sections/_form.html.haml:14
app/views/community_sections/new.html.haml:3:in `_app_views_community_sections_new_html_haml___3509707250704907652_69867584353260'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (17.0ms)
Started GET "/community_sections/new" for ::1 at 2016-12-09 17:17:58 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/new.html.haml within layouts/application
  [1m[36mCommunity Load (0.4ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered community_sections/_form.html.haml (5.8ms)
  Rendered community_sections/new.html.haml within layouts/application (7.4ms)
Completed 200 OK in 60ms (Views: 56.9ms | ActiveRecord: 0.6ms)


Started GET "/community_sections/new" for ::1 at 2016-12-09 17:18:23 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/new.html.haml within layouts/application
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered community_sections/_form.html.haml (11.3ms)
  Rendered community_sections/new.html.haml within layouts/application (12.4ms)
Completed 200 OK in 92ms (Views: 50.7ms | ActiveRecord: 0.4ms)


Started GET "/community_sections/new" for ::1 at 2016-12-09 17:19:08 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/new.html.haml within layouts/application
  Rendered community_sections/_form.html.haml (87.2ms)
  Rendered community_sections/new.html.haml within layouts/application (88.5ms)
Completed 500 Internal Server Error in 125ms (ActiveRecord: 0.2ms)


  
ActionView::Template::Error (undefined method `section_type_options' for #<#<Class:0x00558dbeace170>:0x00558dbeac4350>):
    11:     = f.text_field :section_name
    12:   .field
    13:     = f.label :section_type
    14:     = f.select(:section_type, section_type_options(f.object.section_type))
    15:   .field
    16:     = f.label :section_position
    17:     = f.number_field :section_position
  
app/views/community_sections/_form.html.haml:14:in `block in _app_views_community_sections__form_html_haml___272630891261049456_47033638141320'
app/views/community_sections/_form.html.haml:1:in `_app_views_community_sections__form_html_haml___272630891261049456_47033638141320'
app/views/community_sections/new.html.haml:3:in `_app_views_community_sections_new_html_haml___3509707250704907652_47033638878440'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (16.8ms)
Started GET "/community_sections/new" for ::1 at 2016-12-09 17:19:46 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/new.html.haml within layouts/application
  [1m[36mCommunity Load (0.3ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered community_sections/_form.html.haml (12.0ms)
  Rendered community_sections/new.html.haml within layouts/application (13.6ms)
Completed 200 OK in 105ms (Views: 58.0ms | ActiveRecord: 0.5ms)


Started GET "/community_sections/new" for ::1 at 2016-12-09 17:22:27 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.3ms)


  
SyntaxError (/home/alexandra/diploma/base_app5/app/models/community_section.rb:9: syntax error, unexpected tIDENTIFIER, expecting '}'
	validates :section_position, presence:...
	         ^
/home/alexandra/diploma/base_app5/app/models/community_section.rb:10: syntax error, unexpected tIDENTIFIER, expecting '}'
	validates :community_id, presence: true
	         ^):
  
app/models/community_section.rb:9: syntax error, unexpected tIDENTIFIER, expecting '}'
app/models/community_section.rb:10: syntax error, unexpected tIDENTIFIER, expecting '}'
app/controllers/community_sections_controller.rb:17:in `new'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (16.4ms)
Started GET "/community_sections/new" for ::1 at 2016-12-09 17:22:44 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.2ms)


  
SyntaxError (/home/alexandra/diploma/base_app5/app/models/community_section.rb:9: syntax error, unexpected tIDENTIFIER, expecting '}'
	validates :section_position, presence:...
	         ^):
  
app/models/community_section.rb:9: syntax error, unexpected tIDENTIFIER, expecting '}'
app/controllers/community_sections_controller.rb:17:in `new'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.4ms)
Started GET "/community_sections/new" for ::1 at 2016-12-09 17:23:07 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)


  
SyntaxError (/home/alexandra/diploma/base_app5/app/models/community_section.rb:9: syntax error, unexpected tIDENTIFIER, expecting '}'
	validates :section_position, presence:...
	         ^):
  
app/models/community_section.rb:9: syntax error, unexpected tIDENTIFIER, expecting '}'
app/controllers/community_sections_controller.rb:17:in `new'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (15.8ms)
Started GET "/community_sections/new" for ::1 at 2016-12-09 17:23:09 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)


  
SyntaxError (/home/alexandra/diploma/base_app5/app/models/community_section.rb:9: syntax error, unexpected tIDENTIFIER, expecting '}'
	validates :section_position, presence:...
	         ^):
  
app/models/community_section.rb:9: syntax error, unexpected tIDENTIFIER, expecting '}'
app/controllers/community_sections_controller.rb:17:in `new'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (16.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (30.0ms)
Started GET "/community_sections/new" for ::1 at 2016-12-09 17:23:46 +0300
Processing by CommunitySectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_sections/new.html.haml within layouts/application
  [1m[36mCommunity Load (0.3ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered community_sections/_form.html.haml (10.7ms)
  Rendered community_sections/new.html.haml within layouts/application (12.0ms)
Completed 200 OK in 84ms (Views: 51.0ms | ActiveRecord: 0.4ms)


Started GET "/community_content/new" for ::1 at 2016-12-09 17:32:20 +0300
  
ActionController::RoutingError (No route matches [GET] "/community_content/new"):
  
actionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
request_store (1.3.1) lib/request_store/middleware.rb:9:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0.1) lib/rails/engine.rb:522:in `call'
puma (3.6.2) lib/puma/configuration.rb:225:in `call'
puma (3.6.2) lib/puma/server.rb:578:in `handle_request'
puma (3.6.2) lib/puma/server.rb:415:in `process_client'
puma (3.6.2) lib/puma/server.rb:275:in `block in run'
puma (3.6.2) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (0.7ms)
  Rendered collection of /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [181 times] (30.1ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.1ms)
  Rendering /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/alexandra/.gem/ruby/2.3.1/gems/actionpack-5.0.0.1/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (52.9ms)
Started GET "/community_contents/new" for ::1 at 2016-12-09 17:32:23 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered community_contents/_form.html.haml (16.0ms)
  Rendered community_contents/new.html.haml within layouts/application (17.6ms)
Completed 200 OK in 120ms (Views: 61.1ms | ActiveRecord: 6.5ms)


Started GET "/community_contents/new" for ::1 at 2016-12-09 17:34:48 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered community_contents/_form.html.haml (29.1ms)
  Rendered community_contents/new.html.haml within layouts/application (31.0ms)
Completed 200 OK in 142ms (Views: 89.3ms | ActiveRecord: 4.3ms)


Started GET "/community_contents/new" for ::1 at 2016-12-09 17:35:17 +0300
Processing by CommunityContentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_contents/new.html.haml within layouts/application
  [1m[36mCommunityTab Load (0.2ms)[0m  [1m[34mSELECT "community_tabs".* FROM "community_tabs"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered community_contents/_form.html.haml (11.0ms)
  Rendered community_contents/new.html.haml within layouts/application (12.2ms)
Completed 200 OK in 91ms (Views: 45.0ms | ActiveRecord: 0.6ms)


Started GET "/community_users/new" for ::1 at 2016-12-09 17:36:45 +0300
Processing by CommunityUsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered community_users/_form.html.haml (11.5ms)
  Rendered community_users/new.html.haml within layouts/application (26.2ms)
Completed 200 OK in 117ms (Views: 60.5ms | ActiveRecord: 2.6ms)


Started GET "/community_users/new" for ::1 at 2016-12-09 17:39:35 +0300
Processing by CommunityUsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering community_users/new.html.haml within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCommunity Load (0.2ms)[0m  [1m[34mSELECT "communities".* FROM "communities"[0m
  Rendered community_users/_form.html.haml (10.9ms)
  Rendered community_users/new.html.haml within layouts/application (12.2ms)
Completed 200 OK in 73ms (Views: 45.1ms | ActiveRecord: 0.6ms)


Started GET "/discipline_sections" for ::1 at 2016-12-09 17:44:22 +0300
Processing by DisciplineSectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/index.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.4ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mDiscipline Load (0.2ms)[0m  [1m[34mSELECT  "disciplines".* FROM "disciplines" WHERE "disciplines"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered discipline_sections/index.html.haml within layouts/application (26.2ms)
Completed 200 OK in 91ms (Views: 58.3ms | ActiveRecord: 4.2ms)


Started GET "/discipline_sections/new" for ::1 at 2016-12-09 17:44:24 +0300
Processing by DisciplineSectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/new.html.haml within layouts/application
  [1m[36mDiscipline Load (0.4ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  Rendered discipline_sections/_form.html.haml (8.3ms)
  Rendered discipline_sections/new.html.haml within layouts/application (9.8ms)
Completed 200 OK in 47ms (Views: 44.8ms | ActiveRecord: 0.6ms)


Started GET "/discipline_sections/new" for ::1 at 2016-12-09 17:45:55 +0300
Processing by DisciplineSectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering discipline_sections/new.html.haml within layouts/application
  [1m[36mDiscipline Load (0.2ms)[0m  [1m[34mSELECT "disciplines".* FROM "disciplines"[0m
  Rendered discipline_sections/_form.html.haml (16.1ms)
  Rendered discipline_sections/new.html.haml within layouts/application (17.7ms)
Completed 200 OK in 87ms (Views: 55.0ms | ActiveRecord: 0.4ms)


Started GET "/groups" for ::1 at 2016-12-09 17:47:06 +0300
Processing by GroupsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/index.html.haml within layouts/application
  [1m[36mGroup Load (50.0ms)[0m  [1m[34mSELECT "groups".* FROM "groups"[0m
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT  "terms".* FROM "terms" WHERE "terms"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered groups/index.html.haml within layouts/application (69.1ms)
Completed 200 OK in 177ms (Views: 55.1ms | ActiveRecord: 54.6ms)


Started GET "/groups/new" for ::1 at 2016-12-09 17:47:08 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.2ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (6.3ms)
  Rendered groups/new.html.haml within layouts/application (24.3ms)
Completed 200 OK in 90ms (Views: 64.4ms | ActiveRecord: 0.5ms)


DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageUsers (20161129151323)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (249.8ms)[0m  [1m[35mDROP TABLE "message_users"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129151323"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129151016"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161129144845)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "study_files"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129144845"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.6ms)[0m  [1m[35mALTER TABLE "users" DROP "sex"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "user_description"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "birthday"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "last_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "second_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "first_name"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129093407"]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.9ms)[0m  [1m[35mDROP TABLE "notices"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123322"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "disciplines_institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123254"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122438"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_contents"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127100306"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "marks"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092556"]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "community_tabs"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092344"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_sections"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092249"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "communities_disciplines"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091641"]]
  [1m[35m (28.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.1ms)[0m  [1m[35mDROP TABLE "community_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091616"]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "communities"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091553"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "discipline_sections"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091514"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.0ms)[0m  [1m[35mDROP TABLE "disciplines"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090724"]]
  [1m[35m (16.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (14.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (18.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (13.6ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (11.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (302.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (37.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (13.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (37.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (24.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (38.3ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (74.6ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying NOT NULL, "actual" boolean DEFAULT 'f', "term_start" date NOT NULL, "term_end" date NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (31.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_name" ON "terms"  ("term_name")[0m
  [1m[35m (65.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_start" ON "terms"  ("term_start")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_end" ON "terms"  ("term_end")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (76.3ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying NOT NULL, "full_name" character varying NOT NULL, "role_name_eng" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (67.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_role_name" ON "roles"  ("role_name")[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_full_name" ON "roles"  ("full_name")[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_role_name_eng" ON "roles"  ("role_name_eng")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (132.5ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer NOT NULL, "role_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (56.8ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_role_users_on_user_id_and_role_id" ON "role_users"  ("user_id", "role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (18.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (101.2ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying NOT NULL, "group_start" date NOT NULL, "archive_time" date NOT NULL, "term_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_groups_on_group_name" ON "groups"  ("group_name")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (44.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_groups_users_on_group_id_and_user_id" ON "groups_users"  ("group_id", "user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (102.5ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying NOT NULL, "template" text NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_ranking_algorithms_on_algorithm_name" ON "ranking_algorithms"  ("algorithm_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (82.2ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying NOT NULL, "discipline_type" integer NOT NULL, "discipline_end" integer NOT NULL, "term_id" integer NOT NULL, "ranking_algorithm_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (31.2ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (54.6ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (31.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (97.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (22.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (49.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (24.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (38.0ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (24.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (40.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (22.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (109.0ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying NOT NULL, "actual" boolean DEFAULT 'f', "term_start" date NOT NULL, "term_end" date NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_name" ON "terms"  ("term_name")[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_start" ON "terms"  ("term_start")[0m
  [1m[35m (32.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_end" ON "terms"  ("term_end")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (110.4ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying NOT NULL, "full_name" character varying NOT NULL, "role_name_eng" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_role_name" ON "roles"  ("role_name")[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_full_name" ON "roles"  ("full_name")[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_role_name_eng" ON "roles"  ("role_name_eng")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (19.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (126.0ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer NOT NULL, "role_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (39.4ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_role_users_on_user_id_and_role_id" ON "role_users"  ("user_id", "role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (18.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.1ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying NOT NULL, "group_start" date NOT NULL, "archive_time" date NOT NULL, "term_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (31.5ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_groups_on_group_name" ON "groups"  ("group_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (17.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (58.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_groups_users_on_group_id_and_user_id" ON "groups_users"  ("group_id", "user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (14.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (105.6ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying NOT NULL, "template" text NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_ranking_algorithms_on_algorithm_name" ON "ranking_algorithms"  ("algorithm_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (74.2ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying NOT NULL, "discipline_type" integer NOT NULL, "discipline_end" integer NOT NULL, "term_id" integer NOT NULL, "ranking_algorithm_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (45.4ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (39.8ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (23.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (74.6ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying NOT NULL, "section_type" integer NOT NULL, "weight" integer NOT NULL, "min_score" integer NOT NULL, "max_score" integer NOT NULL, "require_type" integer NOT NULL, "attenuation_constant" float NOT NULL, "optimal_time" date NOT NULL, "limit_time" date NOT NULL, "discipline_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35m (44.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_discipline_sections_on_section_name_and_discipline_id" ON "discipline_sections"  ("section_name", "discipline_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (75.7ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying NOT NULL, "community_visibility" integer NOT NULL, "archive" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_communities_on_community_name" ON "communities"  ("community_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (10.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (43.0ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer NOT NULL, "user_id" integer NOT NULL, "community_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (43.0ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (44.8ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_users_on_user_id_and_community_id" ON "community_users"  ("user_id", "community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35m (44.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_communities_disciplines_on_community_id_and_discipline_id" ON "communities_disciplines"  ("community_id", "discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (18.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (113.0ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying NOT NULL, "section_type" integer NOT NULL, "section_position" integer NOT NULL, "community_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (31.7ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_sections_on_section_name_and_community_id" ON "community_sections"  ("section_name", "community_id")[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_sections_on_section_type_and_community_id" ON "community_sections"  ("section_type", "community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.8ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer NOT NULL, "tab_name" character varying NOT NULL, "tab_position" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_tabs_on_tab_name_and_community_section_id" ON "community_tabs"  ("tab_name", "community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (15.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (50.1ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer NOT NULL, "report" date NOT NULL, "discipline_section_id" integer NOT NULL, "student_id" integer NOT NULL, "teacher_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.2ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (65.3ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (14.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (84.8ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer NOT NULL, "content_body" text NOT NULL, "content_visibility" integer NOT NULL, "show" timestamp, "community_tab_id" integer NOT NULL, "creator_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (46.0ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (50.6ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (96.3ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (39.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_message_lists_users_on_message_list_id_and_user_id" ON "message_lists_users"  ("message_list_id", "user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (74.7ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying NOT NULL, "short_institution_name" character varying NOT NULL, "address" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_institutions_on_institution_name" ON "institutions"  ("institution_name")[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_institutions_on_short_institution_name" ON "institutions"  ("short_institution_name")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (76.9ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (33.0ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (31.9ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (27.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122438"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_contents"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127100306"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "marks"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092556"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_tabs"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092344"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "community_sections"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092249"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "communities_disciplines"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091641"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "community_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091616"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "communities"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091553"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "discipline_sections"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091514"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "disciplines"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090724"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (82.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (44.4ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (44.1ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (44.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (17.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (91.8ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying NOT NULL, "actual" boolean DEFAULT 'f', "term_start" date NOT NULL, "term_end" date NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_name" ON "terms"  ("term_name")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_start" ON "terms"  ("term_start")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_end" ON "terms"  ("term_end")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (126.6ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying NOT NULL, "full_name" character varying NOT NULL, "role_name_eng" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_role_name" ON "roles"  ("role_name")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_full_name" ON "roles"  ("full_name")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_role_name_eng" ON "roles"  ("role_name_eng")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (14.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (95.3ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer NOT NULL, "role_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35m (31.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_role_users_on_user_id_and_role_id" ON "role_users"  ("user_id", "role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (24.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (107.2ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying NOT NULL, "group_start" date NOT NULL, "archive_time" date NOT NULL, "term_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (33.8ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_groups_on_group_name" ON "groups"  ("group_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (41.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_groups_users_on_group_id_and_user_id" ON "groups_users"  ("group_id", "user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.3ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying NOT NULL, "template" text NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_ranking_algorithms_on_algorithm_name" ON "ranking_algorithms"  ("algorithm_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (19.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (99.3ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying NOT NULL, "discipline_type" integer NOT NULL, "discipline_end" integer NOT NULL, "term_id" integer NOT NULL, "ranking_algorithm_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (44.4ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (90.7ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying NOT NULL, "section_type" integer NOT NULL, "weight" integer NOT NULL, "min_score" integer NOT NULL, "max_score" integer NOT NULL, "require_type" integer NOT NULL, "attenuation_constant" float NOT NULL, "optimal_time" date NOT NULL, "limit_time" date NOT NULL, "discipline_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (50.9ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35m (46.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_discipline_sections_on_section_name_and_discipline_id" ON "discipline_sections"  ("section_name", "discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (92.1ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying NOT NULL, "community_visibility" integer NOT NULL, "archive" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_communities_on_community_name" ON "communities"  ("community_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (16.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (48.8ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer NOT NULL, "user_id" integer NOT NULL, "community_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_users_on_user_id_and_community_id" ON "community_users"  ("user_id", "community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35m (63.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_communities_disciplines_on_community_id_and_discipline_id" ON "communities_disciplines"  ("community_id", "discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (72.3ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying NOT NULL, "section_type" integer NOT NULL, "section_position" integer NOT NULL, "community_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (31.7ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35m (43.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_sections_on_section_name_and_community_id" ON "community_sections"  ("section_name", "community_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_sections_on_section_type_and_community_id" ON "community_sections"  ("section_type", "community_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (13.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (73.7ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer NOT NULL, "tab_name" character varying NOT NULL, "tab_position" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35m (34.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_tabs_on_tab_name_and_community_section_id" ON "community_tabs"  ("tab_name", "community_section_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (21.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (43.6ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer NOT NULL, "report" date NOT NULL, "discipline_section_id" integer NOT NULL, "student_id" integer NOT NULL, "teacher_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (64.4ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (32.5ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (20.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (100.5ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer NOT NULL, "content_body" text NOT NULL, "content_visibility" integer NOT NULL, "show" timestamp, "community_tab_id" integer NOT NULL, "creator_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.2ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (90.2ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (44.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_message_lists_users_on_message_list_id_and_user_id" ON "message_lists_users"  ("message_list_id", "user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (17.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (79.8ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying NOT NULL, "short_institution_name" character varying NOT NULL, "address" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_institutions_on_institution_name" ON "institutions"  ("institution_name")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_institutions_on_short_institution_name" ON "institutions"  ("short_institution_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (27.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (82.1ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35m (63.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "institution_discipline" ON "disciplines_institutions"  ("institution_id", "discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (49.9ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer NOT NULL, "user_id" integer NOT NULL, "community_section_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (42.4ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_notices_on_user_id_and_community_section_id" ON "notices"  ("user_id", "community_section_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (27.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying NOT NULL[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129093407"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161129144845)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (82.6ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer NOT NULL, "study_file_name" character varying NOT NULL, "study_content_type" character varying NOT NULL, "study_file_size" integer NOT NULL, "study_updated_at" timestamp NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_study_files_on_user_id" ON "study_files"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129144845"]]
  [1m[35m (15.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (98.9ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text NOT NULL, "send_time" timestamp NOT NULL, "message_file_name" character varying, "message_content_type" character varying, "message_file_size" integer, "message_updated_at" timestamp, "message_list_id" integer NOT NULL, "sender_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (50.5ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_message_list_id" ON "messages"  ("message_list_id")[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_id" ON "messages"  ("sender_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129151016"]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161129151323)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (41.4ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer NOT NULL, "message_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (31.9ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35m (54.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_message_users_on_user_id_and_message_id" ON "message_users"  ("user_id", "message_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129151323"]]
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateMessageUsers (20161129151323)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "message_users"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129151323"]]
  [1m[35m (25.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129151016"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161129144845)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "study_files"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129144845"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" DROP "sex"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "user_description"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "birthday"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "last_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "second_name"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "first_name"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161129093407"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "notices"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123322"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "disciplines_institutions"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123254"]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "institution_users"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123131"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "institutions"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127123109"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "message_lists_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122549"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "message_lists"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127122438"]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_contents"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127100306"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "marks"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092556"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_tabs"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092344"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "community_sections"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127092249"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "communities_disciplines"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091641"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "community_users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091616"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "communities"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091553"]]
  [1m[35m (8.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "discipline_sections"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127091514"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "disciplines"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090724"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "ranking_algorithms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090650"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "groups_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090608"]]
  [1m[35m (9.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "groups"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090312"]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "role_users"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127090019"]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "roles"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085939"]]
  [1m[35m (8.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "terms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20161127085840"]]
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "activation_state"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170934"]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_email_sent_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "reset_password_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170933"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_remember_me_token"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token_expires_at"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" DROP "remember_me_token"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170932"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_users_on_email"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20160918170931"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3178725542336229480);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to SorceryCore (20160918170931)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryCore < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (75.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying NOT NULL, "crypted_password" character varying, "salt" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170931"]]
  [1m[35m (25.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryRememberMe (20160918170932)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryRememberMe < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "remember_me_token_expires_at" timestamp[0m
  [1m[35m (45.6ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_remember_me_token" ON "users"  ("remember_me_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170932"]]
  [1m[35m (16.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryResetPassword (20160918170933)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryResetPassword < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_expires_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_email_sent_at" timestamp[0m
  [1m[35m (45.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170933"]]
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to SorceryUserActivation (20160918170934)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
DEPRECATION WARNING: Directly inheriting from ActiveRecord::Migration is deprecated. Please specify the Rails release the migration was written for:

  class SorceryUserActivation < ActiveRecord::Migration[4.2] (called from load at /home/alexandra/.gem/ruby/2.3.1/bin/rake:23)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_state" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "activation_token_expires_at" timestamp[0m
  [1m[35m (46.3ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_activation_token" ON "users"  ("activation_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160918170934"]]
  [1m[35m (15.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTerms (20161127085840)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (84.1ms)[0m  [1m[35mCREATE TABLE "terms" ("id" serial primary key, "term_name" character varying NOT NULL, "actual" boolean DEFAULT 'f', "term_start" date NOT NULL, "term_end" date NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_name" ON "terms"  ("term_name")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_start" ON "terms"  ("term_start")[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_terms_on_term_end" ON "terms"  ("term_end")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085840"]]
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20161127085939)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (75.0ms)[0m  [1m[35mCREATE TABLE "roles" ("id" serial primary key, "role_name" character varying NOT NULL, "full_name" character varying NOT NULL, "role_name_eng" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_role_name" ON "roles"  ("role_name")[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_full_name" ON "roles"  ("full_name")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_roles_on_role_name_eng" ON "roles"  ("role_name_eng")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127085939"]]
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoleUsers (20161127090019)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (77.7ms)[0m  [1m[35mCREATE TABLE "role_users" ("id" serial primary key, "info" json, "user_id" integer NOT NULL, "role_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d225876829"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_d517f3214f"
FOREIGN KEY ("role_id")
  REFERENCES "roles" ("id")
)[0m
  [1m[35m (30.4ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_user_id" ON "role_users"  ("user_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE  INDEX  "index_role_users_on_role_id" ON "role_users"  ("role_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_role_users_on_user_id_and_role_id" ON "role_users"  ("user_id", "role_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090019"]]
  [1m[35m (20.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateGroups (20161127090312)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (89.4ms)[0m  [1m[35mCREATE TABLE "groups" ("id" serial primary key, "group_name" character varying NOT NULL, "group_start" date NOT NULL, "archive_time" date NOT NULL, "term_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_8e06976071"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
)[0m
  [1m[35m (31.7ms)[0m  [1m[35mCREATE  INDEX  "index_groups_on_term_id" ON "groups"  ("term_id")[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_groups_on_group_name" ON "groups"  ("group_name")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090312"]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableGroupUser (20161127090608)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "groups_users" ("group_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (43.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_groups_users_on_group_id_and_user_id" ON "groups_users"  ("group_id", "user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090608"]]
  [1m[35m (18.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRankingAlgorithms (20161127090650)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (110.1ms)[0m  [1m[35mCREATE TABLE "ranking_algorithms" ("id" serial primary key, "algorithm_name" character varying NOT NULL, "template" text NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (45.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_ranking_algorithms_on_algorithm_name" ON "ranking_algorithms"  ("algorithm_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090650"]]
  [1m[35m (17.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplines (20161127090724)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (80.8ms)[0m  [1m[35mCREATE TABLE "disciplines" ("id" serial primary key, "discipline_name" character varying NOT NULL, "discipline_type" integer NOT NULL, "discipline_end" integer NOT NULL, "term_id" integer NOT NULL, "ranking_algorithm_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_0a86a7f267"
FOREIGN KEY ("term_id")
  REFERENCES "terms" ("id")
, CONSTRAINT "fk_rails_92051351d8"
FOREIGN KEY ("ranking_algorithm_id")
  REFERENCES "ranking_algorithms" ("id")
)[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_term_id" ON "disciplines"  ("term_id")[0m
  [1m[35m (31.9ms)[0m  [1m[35mCREATE  INDEX  "index_disciplines_on_ranking_algorithm_id" ON "disciplines"  ("ranking_algorithm_id")[0m
  [1m[35m (31.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "discipline_name_type_end" ON "disciplines"  ("discipline_name", "discipline_type", "discipline_end")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127090724"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDisciplineSections (20161127091514)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (82.2ms)[0m  [1m[35mCREATE TABLE "discipline_sections" ("id" serial primary key, "section_name" character varying NOT NULL, "section_type" integer NOT NULL, "weight" integer NOT NULL, "min_score" integer NOT NULL, "max_score" integer NOT NULL, "require_type" integer NOT NULL, "attenuation_constant" float NOT NULL, "optimal_time" date NOT NULL, "limit_time" date NOT NULL, "discipline_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f7c4c5842b"
FOREIGN KEY ("discipline_id")
  REFERENCES "disciplines" ("id")
)[0m
  [1m[35m (33.7ms)[0m  [1m[35mCREATE  INDEX  "index_discipline_sections_on_discipline_id" ON "discipline_sections"  ("discipline_id")[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_discipline_sections_on_section_name_and_discipline_id" ON "discipline_sections"  ("section_name", "discipline_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091514"]]
  [1m[35m (24.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunities (20161127091553)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (107.6ms)[0m  [1m[35mCREATE TABLE "communities" ("id" serial primary key, "community_name" character varying NOT NULL, "community_visibility" integer NOT NULL, "archive" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (54.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_communities_on_community_name" ON "communities"  ("community_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091553"]]
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityUsers (20161127091616)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (42.9ms)[0m  [1m[35mCREATE TABLE "community_users" ("id" serial primary key, "link_type" integer NOT NULL, "user_id" integer NOT NULL, "community_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_350d6254ae"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b4d02cd2e9"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_user_id" ON "community_users"  ("user_id")[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE  INDEX  "index_community_users_on_community_id" ON "community_users"  ("community_id")[0m
  [1m[35m (32.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_users_on_user_id_and_community_id" ON "community_users"  ("user_id", "community_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091616"]]
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableCommunityDiscipline (20161127091641)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "communities_disciplines" ("community_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35m (125.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_communities_disciplines_on_community_id_and_discipline_id" ON "communities_disciplines"  ("community_id", "discipline_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127091641"]]
  [1m[35m (26.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunitySections (20161127092249)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (133.7ms)[0m  [1m[35mCREATE TABLE "community_sections" ("id" serial primary key, "section_name" character varying NOT NULL, "section_type" integer NOT NULL, "section_position" integer NOT NULL, "community_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5f9581abc4"
FOREIGN KEY ("community_id")
  REFERENCES "communities" ("id")
)[0m
  [1m[35m (109.8ms)[0m  [1m[35mCREATE  INDEX  "index_community_sections_on_community_id" ON "community_sections"  ("community_id")[0m
  [1m[35m (98.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_sections_on_section_name_and_community_id" ON "community_sections"  ("section_name", "community_id")[0m
  [1m[35m (110.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_sections_on_section_type_and_community_id" ON "community_sections"  ("section_type", "community_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092249"]]
  [1m[35m (52.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityTabs (20161127092344)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (176.9ms)[0m  [1m[35mCREATE TABLE "community_tabs" ("id" serial primary key, "community_section_id" integer NOT NULL, "tab_name" character varying NOT NULL, "tab_position" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_488cfcab9e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (75.7ms)[0m  [1m[35mCREATE  INDEX  "index_community_tabs_on_community_section_id" ON "community_tabs"  ("community_section_id")[0m
  [1m[35m (102.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_community_tabs_on_tab_name_and_community_section_id" ON "community_tabs"  ("tab_name", "community_section_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092344"]]
  [1m[35m (51.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMarks (20161127092556)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (114.4ms)[0m  [1m[35mCREATE TABLE "marks" ("id" serial primary key, "mark_value" integer NOT NULL, "report" date NOT NULL, "discipline_section_id" integer NOT NULL, "student_id" integer NOT NULL, "teacher_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_274f5ff0b1"
FOREIGN KEY ("discipline_section_id")
  REFERENCES "discipline_sections" ("id")
, CONSTRAINT "fk_rails_6df61fbe7b"
FOREIGN KEY ("student_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_ab49ff954a"
FOREIGN KEY ("teacher_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (22.1ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_discipline_section_id" ON "marks"  ("discipline_section_id")[0m
  [1m[35m (48.7ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_student_id" ON "marks"  ("student_id")[0m
  [1m[35m (87.8ms)[0m  [1m[35mCREATE  INDEX  "index_marks_on_teacher_id" ON "marks"  ("teacher_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127092556"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCommunityContents (20161127100306)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (73.3ms)[0m  [1m[35mCREATE TABLE "community_contents" ("id" serial primary key, "view_type" integer NOT NULL, "content_body" text NOT NULL, "content_visibility" integer NOT NULL, "show" timestamp, "community_tab_id" integer NOT NULL, "creator_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4c3d59b2b2"
FOREIGN KEY ("community_tab_id")
  REFERENCES "community_tabs" ("id")
, CONSTRAINT "fk_rails_c5484e95e9"
FOREIGN KEY ("creator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_community_tab_id" ON "community_contents"  ("community_tab_id")[0m
  [1m[35m (54.5ms)[0m  [1m[35mCREATE  INDEX  "index_community_contents_on_creator_id" ON "community_contents"  ("creator_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127100306"]]
  [1m[35m (24.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageLists (20161127122438)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (73.7ms)[0m  [1m[35mCREATE TABLE "message_lists" ("id" serial primary key, "header" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122438"]]
  [1m[35m (24.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableMessageListUser (20161127122549)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "message_lists_users" ("message_list_id" integer NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (38.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_message_lists_users_on_message_list_id_and_user_id" ON "message_lists_users"  ("message_list_id", "user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127122549"]]
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutions (20161127123109)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (74.1ms)[0m  [1m[35mCREATE TABLE "institutions" ("id" serial primary key, "institution_name" character varying NOT NULL, "short_institution_name" character varying NOT NULL, "address" character varying NOT NULL, "phone_number" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_institutions_on_institution_name" ON "institutions"  ("institution_name")[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_institutions_on_short_institution_name" ON "institutions"  ("short_institution_name")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123109"]]
  [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInstitutionUsers (20161127123131)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (109.0ms)[0m  [1m[35mCREATE TABLE "institution_users" ("id" serial primary key, "rank" character varying, "user_id" integer, "institution_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_54725f8cd2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_4d086ab524"
FOREIGN KEY ("institution_id")
  REFERENCES "institutions" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_user_id" ON "institution_users"  ("user_id")[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE  INDEX  "index_institution_users_on_institution_id" ON "institution_users"  ("institution_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123131"]]
  [1m[35m (10.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableInstitutionDiscipline (20161127123254)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "disciplines_institutions" ("institution_id" integer NOT NULL, "discipline_id" integer NOT NULL)[0m
  [1m[35m (40.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "institution_discipline" ON "disciplines_institutions"  ("institution_id", "discipline_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123254"]]
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateNotices (20161127123322)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (76.7ms)[0m  [1m[35mCREATE TABLE "notices" ("id" serial primary key, "notice_type" integer NOT NULL, "user_id" integer NOT NULL, "community_section_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_984b9c27bc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a5a188826e"
FOREIGN KEY ("community_section_id")
  REFERENCES "community_sections" ("id")
)[0m
  [1m[35m (31.2ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_user_id" ON "notices"  ("user_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE  INDEX  "index_notices_on_community_section_id" ON "notices"  ("community_section_id")[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_notices_on_user_id_and_community_section_id" ON "notices"  ("user_id", "community_section_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161127123322"]]
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20161129093407)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "second_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "birthday" date[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "user_description" text[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "sex" character varying NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129093407"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudyFiles (20161129144845)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (101.0ms)[0m  [1m[35mCREATE TABLE "study_files" ("id" serial primary key, "user_id" integer NOT NULL, "study_file_name" character varying NOT NULL, "study_content_type" character varying NOT NULL, "study_file_size" integer NOT NULL, "study_updated_at" timestamp NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_9676a7eba1"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE  INDEX  "index_study_files_on_user_id" ON "study_files"  ("user_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129144845"]]
  [1m[35m (19.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20161129151016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (79.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "message_content" text NOT NULL, "send_time" timestamp NOT NULL, "message_file_name" character varying, "message_content_type" character varying, "message_file_size" integer, "message_updated_at" timestamp, "message_list_id" integer NOT NULL, "sender_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_27c2313a99"
FOREIGN KEY ("message_list_id")
  REFERENCES "message_lists" ("id")
, CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_message_list_id" ON "messages"  ("message_list_id")[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_sender_id" ON "messages"  ("sender_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129151016"]]
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessageUsers (20161129151323)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (47.3ms)[0m  [1m[35mCREATE TABLE "message_users" ("id" serial primary key, "viewing" integer NOT NULL, "message_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_554c86c952"
FOREIGN KEY ("message_id")
  REFERENCES "messages" ("id")
, CONSTRAINT "fk_rails_bfe6b35c6e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (31.5ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_message_id" ON "message_users"  ("message_id")[0m
  [1m[35m (32.3ms)[0m  [1m[35mCREATE  INDEX  "index_message_users_on_user_id" ON "message_users"  ("user_id")[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_message_users_on_user_id_and_message_id" ON "message_users"  ("user_id", "message_id")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161129151323"]]
  [1m[35m (16.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3178725542336229480)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'communities_disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_contents'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_tabs'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'community_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'discipline_sections'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'disciplines_institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'groups_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institution_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'institutions'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'marks'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_lists_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'message_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'messages'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'notices'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'ranking_algorithms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'role_users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'roles'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'study_files'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'terms'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
DEPRECATION WARNING: prepend_before_filter is deprecated and will be removed in Rails 5.1. Use prepend_before_action instead. (called from <top (required)> at /home/alexandra/diploma/base_app5/config/environment.rb:5)
Started GET "/groups/new" for ::1 at 2016-12-09 17:55:56 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "gzWy88rX9LypPPK9eG4m"], ["LIMIT", 1]]
Redirected to http://localhost:3000/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 51ms (ActiveRecord: 4.1ms)


Started GET "/login" for ::1 at 2016-12-09 17:55:57 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (2.4ms)
  Rendered user_sessions/new.html.haml within layouts/application (4.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "gzWy88rX9LypPPK9eG4m"], ["LIMIT", 1]]
Completed 200 OK in 228ms (Views: 216.9ms | ActiveRecord: 0.6ms)


Started GET "/users/new" for ::1 at 2016-12-09 17:56:00 +0300
Processing by UsersController#new as HTML
  Rendering users/new.html.haml within layouts/application
  Rendered users/_form.html.haml (201.8ms)
  Rendered users/new.html.haml within layouts/application (203.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."remember_me_token" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["remember_me_token", "gzWy88rX9LypPPK9eG4m"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 240.5ms | ActiveRecord: 1.0ms)


Started POST "/users" for ::1 at 2016-12-09 17:56:26 +0300
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"POWJdKT7q3oH6dkZiir53LoengcCHUWJR4DSUgiAFPoJcSYEGzJbXYXllKD2+Lzou34S92Q4ssvb9BcUF6xfHw==", "user"=>{"last_name"=>"Merkel", "first_name"=>"Alexandra", "second_name"=>"", "birthday(1i)"=>"2016", "birthday(2i)"=>"12", "birthday(3i)"=>"9", "sex"=>"ж", "user_description"=>"", "email"=>"test@mail.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Save"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@mail.ru"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "crypted_password", "salt", "created_at", "updated_at", "activation_state", "activation_token", "first_name", "second_name", "last_name", "birthday", "user_description", "sex") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13) RETURNING "id"[0m  [["email", "test@mail.ru"], ["crypted_password", "$2a$10$.AJf0DfX8ep4qRgpCBZhNe1b.coKlkmkyfdRM25A8oK3ZESGzwOWi"], ["salt", "pYokEUzoaYqaHsVcsipR"], ["created_at", 2016-12-09 14:56:26 UTC], ["updated_at", 2016-12-09 14:56:26 UTC], ["activation_state", "pending"], ["activation_token", "pvxq2fNWusoMEpjyCdA7"], ["first_name", "Alexandra"], ["second_name", ""], ["last_name", "Merkel"], ["birthday", Fri, 09 Dec 2016], ["user_description", ""], ["sex", "ж"]]
  Rendering user_mailer/activation_needed_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_needed_email.text.haml within layouts/mailer (1.0ms)
UserMailer#activation_needed_email: processed outbound mail in 158.6ms
Sent mail to test@mail.ru (5.1ms)
Date: Fri, 09 Dec 2016 17:56:26 +0300
From: from@example.com
To: test@mail.ru
Message-ID: <584ac61ae2bfc_2a8b3f8d80418b546378@localhost.localdomain.mail>
Subject: Welcome to My Awesome Site
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Welcome to example.com,
test@mail.ru
=============================================
You have successfully signed up to example.com,
your username is:
test@mail.ru.
To login to the site, just follow this link:
http://0.0.0.0:3000/users/pvxq2fNWusoMEpjyCdA7/activate.
Thanks for joining and have a great day!


  [1m[35m (28.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 277ms (ActiveRecord: 29.9ms)


Started GET "/users" for ::1 at 2016-12-09 17:56:26 +0300
Processing by UsersController#index as HTML
  Rendering users/index.html.haml within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered users/index.html.haml within layouts/application (4.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 1.1ms)


Started GET "/users/pvxq2fNWusoMEpjyCdA7/activate" for ::1 at 2016-12-09 17:57:23 +0300
Processing by UsersController#activate as HTML
  Parameters: {"id"=>"pvxq2fNWusoMEpjyCdA7"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."activation_token" = 'pvxq2fNWusoMEpjyCdA7' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  Rendering user_mailer/activation_success_email.text.haml within layouts/mailer
  Rendered user_mailer/activation_success_email.text.haml within layouts/mailer (0.9ms)
UserMailer#activation_success_email: processed outbound mail in 5.9ms
Sent mail to test@mail.ru (1.7ms)
Date: Fri, 09 Dec 2016 17:57:23 +0300
From: from@example.com
To: test@mail.ru
Message-ID: <584ac653c619b_2a8b3f8d80418a3c6415@localhost.localdomain.mail>
Subject: Your account is now activated
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Congratz,
test@mail.ru
=============================================
You have successfully activated your example.com account,
your username is:
test@mail.ru.
To login to the site, just follow this link:
http://0.0.0.0:3000/login.
Thanks for joining and have a great day!


  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "activation_token" = $1, "activation_state" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["activation_token", nil], ["activation_state", "active"], ["updated_at", 2016-12-09 14:57:23 UTC], ["id", 1]]
  [1m[35m (19.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/login
Completed 302 Found in 36ms (ActiveRecord: 22.0ms)


Started GET "/login" for ::1 at 2016-12-09 17:57:23 +0300
Processing by UserSessionsController#new as HTML
  Rendering user_sessions/new.html.haml within layouts/application
  Rendered user_sessions/_form.html.haml (1.5ms)
  Rendered user_sessions/new.html.haml within layouts/application (2.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 38ms (Views: 37.0ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for ::1 at 2016-12-09 17:57:30 +0300
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ul4o9PKzqP9kVYsap87t91XzpvlW/y1AWcEykXFl4hhxiK31RV7geAD6p3dg60FuFxEFTkNujAgLYF9UfPaspw==", "email"=>"test@mail.ru", "password"=>"[FILTERED]", "remember"=>"on", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = 'test@mail.ru' ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (28.9ms)[0m  [1m[33mUPDATE "users" SET "remember_me_token" = '9ArU6tDSzfg3dSG9inxG', "remember_me_token_expires_at" = '2016-12-23 14:57:30.229191' WHERE "users"."id" = $1[0m  [["id", 1]]
Redirected to http://localhost:3000/groups/new
Completed 302 Found in 150ms (ActiveRecord: 29.3ms)


Started GET "/groups/new" for ::1 at 2016-12-09 17:57:30 +0300
Processing by GroupsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering groups/new.html.haml within layouts/application
  [1m[36mTerm Load (0.4ms)[0m  [1m[34mSELECT "terms".* FROM "terms"[0m
  Rendered groups/_form.html.haml (9.5ms)
  Rendered groups/new.html.haml within layouts/application (10.8ms)
Completed 200 OK in 61ms (Views: 46.5ms | ActiveRecord: 5.5ms)


Started GET "/marks/new" for ::1 at 2016-12-09 17:57:38 +0300
Processing by MarksController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering marks/new.html.haml within layouts/application
  [1m[36mDisciplineSection Load (0.4ms)[0m  [1m[34mSELECT "discipline_sections".* FROM "discipline_sections"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  Rendered marks/_form.html.haml (15.2ms)
  Rendered marks/new.html.haml within layouts/application (16.4ms)
Completed 200 OK in 72ms (Views: 57.8ms | ActiveRecord: 6.0ms)


