= form_for @community do |f|
  = error_messages_for @community

  .row
    .col-md-6
      .form-group
        = f.label :community_name, class: 'test'
        = f.text_field :community_name, class: 'form-control'
        = f.error_messages_for(:community_name)
  .row
    .col-md-6
      .form-group
        = f.label :community_visibility
        - Community::VISIBILITIES.each do |k, v|
          %div
            = f.radio_button(:community_visibility, k)
            %span{style: 'display: inline-block; vertical-align: top;'}= v
        /= f.select(:community_visibility, community_visibility_options(f.object.community_visibility), {}, class: 'form-control')
        /= f.error_messages_for(:community_visibility)
  .row
    .col-md-3
      .form-group
        = f.label :archive
        = f.check_box :archive, style: 'margin: 0px 0px 0px 20px; vertical-align: middle;'
        = f.error_messages_for(:archive)

  = f.fields_for :community_users do |addy_form| # Дополнительные поля из модели community_users
    .row
      .col-md-6
        .form-group
          .add-users
            = f.label 'Добавить пользователей в сообщество', onclick: 'add_user()'
    .add-fields
      .row
        .col-md-6
          .form-group
            = addy_form.label :user_id
            = addy_form.select(:user_id, user_options(addy_form.object.user_id), {include_blank: true}, class: 'form-control')
            = addy_form.error_messages_for(:user_id)

        .col-md-6
          .form-group
            = addy_form.label :link_type
            = addy_form.select(:link_type, link_type_options(addy_form.object.link_type), {include_blank: true}, class: 'form-control')
            = addy_form.error_messages_for(:link_type)

  .row
    .col-md-6
      .form-group
        = f.submit t('helpers.submit.submit'), class: 'btn btn-primary'